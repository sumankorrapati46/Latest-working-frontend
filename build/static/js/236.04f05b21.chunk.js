"use strict";(self.webpackChunkagristack_farmer_management=self.webpackChunkagristack_farmer_management||[]).push([[236],{51:(s,e,a)=>{a.d(e,{A:()=>i});var r=a(5043),n=a(5016),l=a(579);const c=s=>{let{isOpen:e,onClose:a,onSuccess:c}=s;const{user:i}=(0,n.As)(),[o,d]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[t,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),[x,j]=(0,r.useState)(""),p=s=>{const{name:e,value:a}=s.target;d((s=>({...s,[e]:a}))),u&&h("")},N=()=>{t||(d({currentPassword:"",newPassword:"",confirmPassword:""}),h(""),j(""),a())};return e?(0,l.jsx)("div",{className:"change-password-modal-overlay",children:(0,l.jsxs)("div",{className:"change-password-modal",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsxs)("div",{className:"header-content",children:[(0,l.jsx)("div",{className:"header-icon",children:(0,l.jsx)("i",{className:"fas fa-key"})}),(0,l.jsxs)("div",{className:"header-text",children:[(0,l.jsx)("h2",{children:"Change Password"}),(0,l.jsx)("p",{children:"Update your account password securely"})]})]}),(0,l.jsx)("button",{className:"modal-close-btn",onClick:N,disabled:t,children:(0,l.jsx)("i",{className:"fas fa-times"})})]}),(0,l.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),o.currentPassword&&o.newPassword&&o.confirmPassword?o.newPassword.length<6?(h("New password must be at least 6 characters long"),0):o.newPassword!==o.confirmPassword?(h("New passwords do not match"),0):o.currentPassword!==o.newPassword||(h("New password must be different from current password"),0):(h("All fields are required"),0)){m(!0),h("");try{await new Promise((s=>setTimeout(s,1e3))),j("Password changed successfully!"),d({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout((()=>{c&&c(),a()}),2e3)}catch(u){h("Failed to change password. Please try again.")}finally{m(!1)}}},className:"change-password-form",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"currentPassword",children:[(0,l.jsx)("i",{className:"fas fa-lock"}),"Current Password"]}),(0,l.jsx)("input",{type:"password",id:"currentPassword",name:"currentPassword",value:o.currentPassword,onChange:p,placeholder:"Enter your current password",disabled:t,required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"newPassword",children:[(0,l.jsx)("i",{className:"fas fa-key"}),"New Password"]}),(0,l.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",value:o.newPassword,onChange:p,placeholder:"Enter your new password",disabled:t,required:!0}),(0,l.jsx)("div",{className:"password-hint",children:"Password must be at least 6 characters long"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsxs)("label",{htmlFor:"confirmPassword",children:[(0,l.jsx)("i",{className:"fas fa-check-circle"}),"Confirm New Password"]}),(0,l.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:p,placeholder:"Confirm your new password",disabled:t,required:!0})]}),u&&(0,l.jsxs)("div",{className:"error-message",children:[(0,l.jsx)("i",{className:"fas fa-exclamation-circle"}),u]}),x&&(0,l.jsxs)("div",{className:"success-message",children:[(0,l.jsx)("i",{className:"fas fa-check-circle"}),x]}),(0,l.jsxs)("div",{className:"form-actions",children:[(0,l.jsx)("button",{type:"button",className:"btn-secondary",onClick:N,disabled:t,children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn-primary",disabled:t,children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Changing Password..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("i",{className:"fas fa-save"}),"Change Password"]})})]})]})]})}):null};a(5812);const i=s=>{let{variant:e="default"}=s;const{user:a,logout:i}=(0,n.As)(),[o,d]=(0,r.useState)(!1),[t,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[x,j]=(0,r.useState)(!1),[p,N]=(0,r.useState)(!1),[f,w]=(0,r.useState)(!1),v=(0,r.useRef)(null),[g,b]=(0,r.useState)({currentUserId:"",newUserId:"",confirmUserId:""}),[C]=(0,r.useState)([{id:1,type:"info",message:"New farmer registration pending approval",time:"2 minutes ago"},{id:2,type:"warning",message:"KYC verification overdue for 3 farmers",time:"1 hour ago"},{id:3,type:"success",message:"Employee assignment completed successfully",time:"3 hours ago"}]),[y,k]=(0,r.useState)(null);(0,r.useEffect)((()=>{const s=s=>{v.current&&!v.current.contains(s.target)&&d(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}}),[]);const P=()=>{i(),window.location.href="/login"},U=()=>{if(null!==a&&void 0!==a&&a.name)return a.name;if(null!==a&&void 0!==a&&a.userName){switch(a.role||"USER"){case"ADMIN":return"Admin User";case"SUPER_ADMIN":return"Super Admin User";case"EMPLOYEE":return"Employee User";case"FARMER":return"Farmer User";default:return a.userName}}return"User"},I=()=>null!==a&&void 0!==a&&a.role?a.role.replace("_"," "):"USER",S=()=>{const s=U();return(e=s)?e.split(" ").map((s=>s[0])).join("").toUpperCase().slice(0,2):"U";var e},D=()=>(null===a||void 0===a?void 0:a.email)||`${(null===a||void 0===a?void 0:a.userName)||"user"}@date.com`;return"compact"===e?(0,l.jsxs)("div",{className:"user-profile-dropdown-component compact",ref:v,children:[(0,l.jsxs)("div",{className:"user-profile-dropdown-trigger compact",onClick:()=>d(!o),title:"User Menu",children:[(0,l.jsx)("div",{className:"user-profile-dropdown-avatar-compact",children:S()}),(0,l.jsx)("i",{className:"fas fa-chevron-down user-profile-dropdown-arrow "+(o?"rotated":"")})]}),o&&(0,l.jsxs)("div",{className:"user-profile-dropdown-menu compact",children:[(0,l.jsxs)("div",{className:"user-profile-dropdown-header",children:[(0,l.jsx)("div",{className:"user-profile-dropdown-avatar-large",children:S()}),(0,l.jsxs)("div",{className:"user-profile-dropdown-details",children:[(0,l.jsx)("span",{className:"user-profile-dropdown-name-large",children:U()}),(0,l.jsx)("span",{className:"user-profile-dropdown-role",children:I()}),(0,l.jsx)("span",{className:"user-profile-dropdown-email",children:D()})]})]}),(0,l.jsxs)("div",{className:"user-profile-dropdown-actions",children:[(0,l.jsxs)("button",{className:"user-profile-dropdown-action-btn",onClick:()=>m(!0),children:[(0,l.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,l.jsxs)("button",{className:"user-profile-dropdown-action-btn",onClick:()=>h(!0),children:[(0,l.jsx)("i",{className:"fas fa-user-edit"}),"Change User ID"]}),(0,l.jsxs)("button",{className:"user-profile-dropdown-action-btn logout",onClick:P,children:[(0,l.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]}):"enhanced"===e?(0,l.jsxs)("div",{className:"user-profile-dropdown enhanced",ref:v,children:[(0,l.jsxs)("div",{className:"enhanced-user-header",children:[(0,l.jsxs)("div",{className:"user-profile-section",children:[(0,l.jsxs)("div",{className:"user-profile-info",children:[(0,l.jsxs)("div",{className:"user-avatar-container",children:[(0,l.jsx)("div",{className:"user-avatar-large",children:S()}),(0,l.jsx)("div",{className:"user-status-indicator online"})]}),(0,l.jsxs)("div",{className:"user-details",children:[(0,l.jsx)("span",{className:"user-name-display",children:U()}),(0,l.jsx)("span",{className:"user-role-display",children:I()}),(0,l.jsx)("span",{className:"user-email-display",children:D()})]})]}),(0,l.jsxs)("div",{className:"user-actions",children:[(0,l.jsxs)("button",{className:"header-action-btn",title:"Notifications",onClick:()=>j(!0),children:[(0,l.jsx)("i",{className:"fas fa-bell"}),(0,l.jsx)("span",{className:"notification-badge",children:C.length})]}),(0,l.jsx)("button",{className:"header-action-btn",title:"Settings",onClick:()=>N(!0),children:(0,l.jsx)("i",{className:"fas fa-cog"})}),(0,l.jsx)("button",{className:"header-action-btn",title:"Help",onClick:()=>w(!0),children:(0,l.jsx)("i",{className:"fas fa-question-circle"})})]})]}),(0,l.jsx)("div",{className:"user-profile-trigger",onClick:()=>d(!o),title:"User Menu",children:(0,l.jsx)("i",{className:"fas fa-chevron-down dropdown-arrow "+(o?"rotated":"")})})]}),o&&(0,l.jsxs)("div",{className:"user-dropdown-menu enhanced",children:[(0,l.jsxs)("div",{className:"dropdown-header",children:[(0,l.jsx)("div",{className:"user-avatar-large",children:S()}),(0,l.jsxs)("div",{className:"user-details",children:[(0,l.jsx)("span",{className:"user-name-large",children:U()}),(0,l.jsx)("span",{className:"user-role",children:I()}),(0,l.jsx)("span",{className:"user-email",children:D()})]})]}),(0,l.jsxs)("div",{className:"dropdown-actions",children:[(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>m(!0),children:[(0,l.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>h(!0),children:[(0,l.jsx)("i",{className:"fas fa-user-edit"}),"Change User ID"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>N(!0),children:[(0,l.jsx)("i",{className:"fas fa-cog"}),"Settings"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>w(!0),children:[(0,l.jsx)("i",{className:"fas fa-question-circle"}),"Help & Support"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn logout",onClick:P,children:[(0,l.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]}):(0,l.jsxs)("div",{className:"user-profile-dropdown",ref:v,children:[(0,l.jsxs)("div",{className:"user-profile-trigger",onClick:()=>d(!o),children:[(0,l.jsx)("div",{className:"user-avatar",children:S()}),(0,l.jsxs)("div",{className:"user-info",children:[(0,l.jsx)("span",{className:"user-name",children:U()}),(0,l.jsx)("span",{className:"user-role",children:I()})]}),(0,l.jsx)("i",{className:"fas fa-chevron-down dropdown-arrow "+(o?"rotated":"")})]}),o&&(0,l.jsxs)("div",{className:"user-dropdown-menu",children:[(0,l.jsxs)("div",{className:"dropdown-header",children:[(0,l.jsx)("div",{className:"user-avatar-large",children:S()}),(0,l.jsxs)("div",{className:"user-details",children:[(0,l.jsx)("span",{className:"user-name-large",children:U()}),(0,l.jsx)("span",{className:"user-role",children:I()}),(0,l.jsx)("span",{className:"user-email",children:D()})]})]}),(0,l.jsxs)("div",{className:"dropdown-actions",children:[(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>m(!0),children:[(0,l.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>h(!0),children:[(0,l.jsx)("i",{className:"fas fa-user-edit"}),"Change User ID"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn logout",onClick:P,children:[(0,l.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]}),(0,l.jsx)(c,{isOpen:t,onClose:()=>m(!1),onSuccess:()=>{k({type:"success",message:"Password changed successfully!"})}}),u&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Change User ID"}),(0,l.jsx)("button",{className:"modal-close",onClick:()=>h(!1),children:(0,l.jsx)("i",{className:"fas fa-times"})})]}),(0,l.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),g.newUserId===g.confirmUserId)if(g.newUserId.length<3)alert("New User ID must be at least 3 characters long!");else try{alert("User ID changed successfully!"),h(!1),b({currentUserId:"",newUserId:"",confirmUserId:""})}catch(e){alert("Failed to change User ID. Please try again.")}else alert("New User IDs do not match!")},children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"currentUserId",children:"Current User ID"}),(0,l.jsx)("input",{type:"text",id:"currentUserId",value:g.currentUserId,onChange:s=>b((e=>({...e,currentUserId:s.target.value}))),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"newUserId",children:"New User ID"}),(0,l.jsx)("input",{type:"text",id:"newUserId",value:g.newUserId,onChange:s=>b((e=>({...e,newUserId:s.target.value}))),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"confirmUserId",children:"Confirm New User ID"}),(0,l.jsx)("input",{type:"text",id:"confirmUserId",value:g.confirmUserId,onChange:s=>b((e=>({...e,confirmUserId:s.target.value}))),required:!0})]}),(0,l.jsxs)("div",{className:"modal-footer",children:[(0,l.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>h(!1),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn-primary",children:"Change User ID"})]})]})]})}),x&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Notifications"}),(0,l.jsx)("button",{className:"modal-close",onClick:()=>j(!1),children:(0,l.jsx)("i",{className:"fas fa-times"})})]}),(0,l.jsx)("div",{className:"notifications-list",children:C.map((s=>(0,l.jsxs)("div",{className:`notification-item ${s.type}`,children:[(0,l.jsx)("div",{className:"notification-icon",children:(0,l.jsx)("i",{className:"fas fa-"+("info"===s.type?"info-circle":"warning"===s.type?"exclamation-triangle":"check-circle")})}),(0,l.jsxs)("div",{className:"notification-content",children:[(0,l.jsx)("p",{className:"notification-message",children:s.message}),(0,l.jsx)("span",{className:"notification-time",children:s.time})]})]},s.id)))}),(0,l.jsx)("div",{className:"modal-footer",children:(0,l.jsx)("button",{className:"btn-secondary",onClick:()=>j(!1),children:"Close"})})]})}),p&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Settings"}),(0,l.jsx)("button",{className:"modal-close",onClick:()=>N(!1),children:(0,l.jsx)("i",{className:"fas fa-times"})})]}),(0,l.jsx)("div",{className:"settings-content",children:(0,l.jsx)("p",{children:"Settings functionality coming soon!"})}),(0,l.jsx)("div",{className:"modal-footer",children:(0,l.jsx)("button",{className:"btn-secondary",onClick:()=>N(!1),children:"Close"})})]})}),f&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Help & Support"}),(0,l.jsx)("button",{className:"modal-close",onClick:()=>w(!1),children:(0,l.jsx)("i",{className:"fas fa-times"})})]}),(0,l.jsx)("div",{className:"help-content",children:(0,l.jsx)("p",{children:"Help and support functionality coming soon!"})}),(0,l.jsx)("div",{className:"modal-footer",children:(0,l.jsx)("button",{className:"btn-secondary",onClick:()=>w(!1),children:"Close"})})]})}),y&&(0,l.jsxs)("div",{className:`notification-toast ${y.type}`,children:[(0,l.jsxs)("div",{className:"notification-toast-content",children:[(0,l.jsx)("i",{className:"fas fa-"+("success"===y.type?"check-circle":"info-circle")}),(0,l.jsx)("span",{children:y.message})]}),(0,l.jsx)("button",{className:"notification-toast-close",onClick:()=>k(null),children:(0,l.jsx)("i",{className:"fas fa-times"})})]})]})}},5812:()=>{},8874:(s,e,a)=>{a.d(e,{A:()=>c});var r=a(5043),n=a(3005),l=a(579);const c=s=>{let{className:e=""}=s;const{currentTheme:a,changeTheme:c,getThemeLabel:i,getAllThemes:o}=(0,n.DP)(),[d,t]=(0,r.useState)(!1),m=(0,r.useRef)(null);(0,r.useEffect)((()=>{const s=s=>{m.current&&!m.current.contains(s.target)&&t(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}}),[]);return(0,l.jsxs)("div",{className:`theme-dropdown ${e}`,ref:m,children:[(0,l.jsxs)("button",{className:"theme-selector-btn",onClick:()=>{t(!d)},"aria-expanded":d,"aria-haspopup":"true",children:[(0,l.jsxs)("span",{className:"theme-label",children:["Theme: ",i()]}),(0,l.jsx)("span",{className:"dropdown-arrow "+(d?"open":""),children:(0,l.jsx)("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),d&&(0,l.jsxs)("div",{className:"theme-dropdown-menu",children:[(0,l.jsx)("div",{className:"dropdown-header",children:(0,l.jsx)("span",{className:"dropdown-title",children:"Choose Theme"})}),o().map((s=>(0,l.jsxs)("button",{className:"theme-option "+(a===s.value?"selected":""),onClick:()=>{return e=s.value,c(e),void t(!1);var e},children:[(0,l.jsx)("div",{className:"theme-preview",children:(0,l.jsxs)("div",{className:`theme-preview-colors ${s.value}`,children:[(0,l.jsx)("div",{className:"color-dot primary"}),(0,l.jsx)("div",{className:"color-dot secondary"}),(0,l.jsx)("div",{className:"color-dot accent"})]})}),(0,l.jsxs)("div",{className:"theme-info",children:[(0,l.jsx)("span",{className:"theme-name",children:s.label}),(0,l.jsxs)("span",{className:"theme-description",children:["modern-clean"===s.value&&"Clean and modern design with green accents","traditional-corporate"===s.value&&"Professional corporate style with blue tones","modern-minimalist"===s.value&&"Minimal design with subtle colors"]})]}),a===s.value&&(0,l.jsx)("div",{className:"selected-indicator",children:(0,l.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M13.5 4.5L6 12L2.5 8.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]},s.value)))]})]})}}}]);
//# sourceMappingURL=236.04f05b21.chunk.js.map