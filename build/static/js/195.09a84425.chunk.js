"use strict";(self.webpackChunkagristack_farmer_management=self.webpackChunkagristack_farmer_management||[]).push([[195],{476:(e,a,s)=>{s.d(a,{Ay:()=>m,Dv:()=>r,Er:()=>n,JL:()=>o,R2:()=>t,kM:()=>c,s2:()=>d,xs:()=>l});const i=s(6213).A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8080/api",timeout:1e4,headers:{"Content-Type":"application/json"}});i.interceptors.request.use((e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization=`Bearer ${a}`),e}),(e=>Promise.reject(e))),i.interceptors.response.use((e=>e),(e=>{var a;return 401===(null===(a=e.response)||void 0===a?void 0:a.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)}));const t={login:async e=>(await i.post("/auth/login",e)).data,getProfile:async()=>(await i.get("/auth/profile")).data,register:async e=>(await i.post("/auth/register",e)).data,sendOTP:async e=>(await i.post("/auth/send-otp",{emailOrPhone:e})).data,verifyOTP:async e=>(await i.post("/auth/verify-otp",{emailOrPhone:e.email,otp:e.otp})).data,resendOTP:async e=>(await i.post("/auth/resend-otp",{emailOrPhone:e})).data,forgotPassword:async e=>(await i.post("/auth/forgot-password",{emailOrPhone:e})).data,forgotUserId:async e=>(await i.post("/auth/forgot-user-id",{emailOrPhone:e})).data,resetPassword:async e=>(await i.post("/auth/reset-password",e)).data,changePassword:async e=>(await i.post("/auth/change-password",e)).data,changeUserId:async e=>(await i.post("/auth/change-user-id",e)).data,getCountries:async()=>(await i.get("/auth/countries")).data,getStates:async e=>(await i.post("/auth/states",{countryId:e})).data},r={getAllUsers:async()=>(await i.get("/super-admin/registration-list")).data,getRegistrationList:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await i.get("/super-admin/registration-list",{params:e})).data},getRegistrationListByStatus:async e=>(await i.get("/super-admin/registration-list/filter",{params:{status:e}})).data,searchRegistrations:async e=>(await i.get("/super-admin/registration-list/search",{params:{query:e}})).data,getPendingRegistrations:async()=>(await i.get("/super-admin/pending-registrations")).data,getApprovedUsers:async()=>(await i.get("/super-admin/approved-users")).data,getUsersByRole:async e=>(await i.get(`/super-admin/users/by-role/${e}`)).data,getPendingUsersByRole:async e=>(await i.get(`/super-admin/pending-users/by-role/${e}`)).data,approveUser:async(e,a)=>(await i.put(`/auth/users/${e}/approve`,{role:a})).data,rejectUser:async(e,a)=>(await i.put(`/auth/users/${e}/status`,{status:"REJECTED"})).data,deleteUser:async e=>(await i.delete(`/super-admin/users/${e}`)).data,updateUser:async(e,a)=>(await i.put(`/super-admin/users/${e}`,a)).data,updateUserStatus:async(e,a)=>(await i.put(`/auth/users/${e}/status`,{status:a})).data,getDashboardStats:async()=>(await i.get("/super-admin/dashboard/stats")).data,bulkAssignFarmers:async(e,a)=>(await i.post("/super-admin/bulk-assign-farmers",{farmerIds:e,employeeId:a})).data,assignFarmer:async(e,a)=>(await i.post("/super-admin/assign-farmer",null,{params:{farmerId:e,employeeId:a}})).data},l={getAllFarmers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await i.get("/super-admin/farmers",{params:e})).data},getFarmerById:async e=>(await i.get(`/super-admin/farmers/${e}`)).data,createFarmer:async e=>(await i.post("/super-admin/farmers",e)).data,updateFarmer:async(e,a)=>(await i.put(`/super-admin/farmers/${e}`,a)).data,deleteFarmer:async e=>(await i.delete(`/super-admin/farmers/${e}`)).data,assignFarmer:async(e,a)=>(await i.post(`/super-admin/farmers/${e}/assign`,{employeeId:a})).data,getFarmerStats:async()=>(await i.get("/super-admin/farmers/stats")).data},n={getAllFarmers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await i.get("/admin/farmers",{params:e})).data},getAllEmployees:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await i.get("/admin/employees",{params:e})).data},getFarmersWithKyc:async()=>(await i.get("/admin/farmers-with-kyc")).data,getEmployeesWithStats:async()=>(await i.get("/admin/employees-with-stats")).data,getFarmersByEmployee:async e=>(await i.get(`/admin/employees/${e}/assigned-farmers`)).data,getTodoList:async()=>(await i.get("/admin/todo-list")).data,getEnhancedTodoList:async()=>(await i.get("/admin/enhanced-todo-list")).data,getDashboardStats:async()=>(await i.get("/admin/dashboard-stats")).data,filterFarmers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await i.get("/admin/farmers/filter",{params:e})).data},getLocations:async()=>(await i.get("/admin/locations")).data,bulkAssignFarmers:async(e,a)=>(await i.post("/admin/bulk-assign-farmers",{farmerIds:e,employeeId:a})).data,assignFarmer:async(e,a)=>(await i.post("/admin/assign-farmer",null,{params:{farmerId:e,employeeId:a}})).data,getAssignmentHistory:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await i.get("/admin/assignment-history",{params:e})).data},getFarmersByAssignmentStatus:async e=>(await i.get("/admin/farmers/by-assignment-status",{params:{assignmentStatus:e}})).data,getAllRegistrations:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await i.get("/admin/registration-list",{params:e})).data},getRegistrationListByStatus:async e=>(await i.get("/admin/registration-list/filter",{params:{status:e}})).data,approveRegistration:async(e,a)=>(await i.post(`/admin/registrations/${e}/approve`,a)).data,rejectRegistration:async(e,a)=>(await i.post(`/admin/registrations/${e}/reject`,a)).data},d={getAllEmployees:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await i.get("/super-admin/employees",{params:e})).data},getEmployeeById:async e=>(await i.get(`/super-admin/employees/${e}`)).data,createEmployee:async e=>(await i.post("/super-admin/employees",e)).data,updateEmployee:async(e,a)=>(await i.put(`/super-admin/employees/${e}`,a)).data,deleteEmployee:async e=>(await i.delete(`/super-admin/employees/${e}`)).data,getAssignedFarmers:async e=>(await i.get(`/super-admin/employees/${e}/assigned-farmers`)).data,getEmployeeStats:async()=>(await i.get("/super-admin/employees/stats")).data},o={getAssignedFarmers:async e=>{try{console.log("\ud83d\udd04 Fetching assigned farmers from dashboard endpoint");const e=await i.get("/employees/dashboard/assigned-farmers");return console.log("\u2705 Success with dashboard endpoint"),e.data}catch(a){throw console.error("\u274c Failed to fetch assigned farmers:",a),a}},getProfile:async()=>(await i.get("/employees/profile")).data,updateProfile:async e=>(await i.put("/employees/profile",e)).data,getStats:async()=>(await i.get("/employees/stats")).data},c={uploadDocuments:async(e,a)=>{const s=new FormData;Object.keys(a).forEach((e=>{a[e]&&s.append(e,a[e])}));return(await i.post(`/employees/kyc/${e}/upload`,s,{headers:{"Content-Type":"multipart/form-data"}})).data},approveKYC:async(e,a)=>(await i.put(`/employees/kyc/approve/${e}`)).data,rejectKYC:async(e,a)=>(await i.put(`/employees/kyc/reject/${e}`,{reason:a.reason||"KYC rejected"})).data,referBackKYC:async(e,a)=>(await i.put(`/employees/kyc/refer-back/${e}`,{reason:a.reason||"KYC referred back"})).data,getKYCStatus:async e=>(await i.get(`/employees/kyc/${e}/status`)).data,getKYCDocuments:async e=>(await i.get(`/employees/kyc/${e}/documents`)).data},m=i},525:()=>{},838:(e,a,s)=>{s.d(a,{A:()=>n});var i=s(5043),t=s(579);const r=e=>{let{actions:a,item:s}=e;const[r,l]=(0,i.useState)(!1),n=(0,i.useRef)(null);(0,i.useEffect)((()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);return(0,t.jsxs)("div",{className:"action-dropdown-component",ref:n,children:[(0,t.jsx)("button",{className:"action-dropdown-toggle",onClick:()=>l(!r),"aria-label":"Actions",children:"\u22ef"}),r&&(0,t.jsx)("div",{className:"action-dropdown-menu",children:a.map(((e,a)=>e.showCondition&&!e.showCondition(s)?null:(0,t.jsxs)("button",{className:`action-dropdown-item ${e.className||""}`,onClick:()=>(e=>{e.onClick&&e.onClick(s),l(!1)})(e),children:[e.icon&&(0,t.jsx)("span",{className:"action-dropdown-icon",children:e.icon}),e.label]},a)))})]})},l=i.memo((e=>{let{data:a,columns:s,onEdit:l,onDelete:n,onView:d,showDelete:o=!1,customActions:c=[],loading:m=!1,emptyMessage:h="No data available"}=e;const p=(0,i.useCallback)((e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"approved":case"active":return"status-approved";case"pending":return"status-pending";case"refer_back":return"status-refer-back";case"rejected":case"inactive":return"status-rejected";case"assigned":return"status-assigned";case"unassigned":return"status-unassigned";default:return"status-default"}}),[]),u=(0,i.useCallback)(((e,a)=>{try{if(e&&"object"===typeof e){if(e.name)return e.name;if(e.title)return e.title;if(e.label)return e.label;if(e.id)return e.id;if(Array.isArray(e))return`${e.length} item${1!==e.length?"s":""}`;const a=Object.keys(e);return a.length<=3?a.map((a=>e[a])).join(", "):"Object"}return null===e||void 0===e?"N/A":String(e)}catch(s){return console.error(`DataTable: Error rendering value for column ${a}:`,s),"Error"}}),[]),g=(0,i.useMemo)((()=>a&&Array.isArray(a)?a:[]),[a]),j=(0,i.useMemo)((()=>s&&Array.isArray(s)?s:[]),[s]);return m?(0,t.jsx)("div",{className:"data-table-loading",children:(0,t.jsx)("div",{className:"loading-spinner",children:"Loading..."})}):g.length?(0,t.jsx)("div",{className:"data-table-container",children:(0,t.jsxs)("table",{className:"data-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[j.map((e=>(0,t.jsx)("th",{className:`table-header ${e.className||""}`,children:e.label},e.key))),(l||n||d||c.length>0)&&(0,t.jsx)("th",{className:"table-header actions-header",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:g.map(((e,a)=>(0,t.jsxs)("tr",{className:"table-row",children:[j.map((a=>{const s=e[a.key],i=a.render?a.render(s,e):u(s,a.key);return(0,t.jsx)("td",{className:`table-cell ${a.className||""}`,children:"status"===a.type?(0,t.jsx)("span",{className:`status-badge ${p(s)}`,children:i}):i},a.key)})),(l||n||d||c.length>0)&&(0,t.jsx)("td",{className:"table-cell actions-cell",children:(0,t.jsx)(r,{item:e,onEdit:l,onDelete:n,onView:d,showDelete:o,customActions:c})})]},e.id||a)))})]})}):(0,t.jsxs)("div",{className:"data-table-empty",children:[(0,t.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,t.jsx)("p",{children:h})]})}));l.displayName="DataTable";const n=l},2343:(e,a,s)=>{s.d(a,{A:()=>l});var i=s(5043),t=s(4858),r=s(579);const l=e=>{let{employeeData:a,onClose:s,onUpdate:l,isInDashboard:n=!1}=e;const[d,o]=(0,i.useState)(!1),[c,m]=(0,i.useState)(0),h=e=>null===e||void 0===e?"Not provided":"object"===typeof e?(console.warn("ViewEditEmployeeDetails: Object found in value:",e),"Object (see console)"):String(e),p=(0,t.mN)({defaultValues:{firstName:(null===a||void 0===a?void 0:a.firstName)||"",lastName:(null===a||void 0===a?void 0:a.lastName)||"",email:(null===a||void 0===a?void 0:a.email)||"",phone:(null===a||void 0===a?void 0:a.phone)||"",dateOfBirth:(null===a||void 0===a?void 0:a.dateOfBirth)||"",gender:(null===a||void 0===a?void 0:a.gender)||"",address:(null===a||void 0===a?void 0:a.address)||"",city:(null===a||void 0===a?void 0:a.city)||"",state:(null===a||void 0===a?void 0:a.state)||"",pincode:(null===a||void 0===a?void 0:a.pincode)||"",employeeId:(null===a||void 0===a?void 0:a.employeeId)||"",department:(null===a||void 0===a?void 0:a.department)||"",designation:(null===a||void 0===a?void 0:a.designation)||"",joiningDate:(null===a||void 0===a?void 0:a.joiningDate)||"",salary:(null===a||void 0===a?void 0:a.salary)||"",supervisor:(null===a||void 0===a?void 0:a.supervisor)||"",highestQualification:(null===a||void 0===a?void 0:a.highestQualification)||"",institution:(null===a||void 0===a?void 0:a.institution)||"",graduationYear:(null===a||void 0===a?void 0:a.graduationYear)||"",specialization:(null===a||void 0===a?void 0:a.specialization)||"",emergencyName:(null===a||void 0===a?void 0:a.emergencyName)||"",emergencyPhone:(null===a||void 0===a?void 0:a.emergencyPhone)||"",emergencyRelation:(null===a||void 0===a?void 0:a.emergencyRelation)||"",photo:(null===a||void 0===a?void 0:a.photo)||null,idProof:(null===a||void 0===a?void 0:a.idProof)||null,addressProof:(null===a||void 0===a?void 0:a.addressProof)||null,educationalCertificates:(null===a||void 0===a?void 0:a.educationalCertificates)||null,skills:(null===a||void 0===a?void 0:a.skills)||"",languages:(null===a||void 0===a?void 0:a.languages)||"",certifications:(null===a||void 0===a?void 0:a.certifications)||"",workExperience:(null===a||void 0===a?void 0:a.workExperience)||"",references:(null===a||void 0===a?void 0:a.references)||""}}),{register:u,handleSubmit:g,watch:j,setValue:x,trigger:y,clearErrors:v,formState:{errors:b}}=p,f=[{title:"Personal Information",fields:["firstName","lastName","email","phone","dateOfBirth","gender","address","city","state","pincode"]},{title:"Employment Information",fields:["employeeId","department","designation","joiningDate","salary","supervisor"]},{title:"Educational Information",fields:["highestQualification","institution","graduationYear","specialization"]},{title:"Emergency Contact",fields:["emergencyName","emergencyPhone","emergencyRelation"]},{title:"Documents",fields:["photo","idProof","addressProof","educationalCertificates"]},{title:"Additional Information",fields:["skills","languages","certifications","workExperience","references"]}];if(n){const e=[{key:"firstName",label:"First Name",sortable:!0},{key:"lastName",label:"Last Name",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"phone",label:"Phone",sortable:!0},{key:"department",label:"Department",sortable:!0},{key:"designation",label:"Designation",sortable:!0},{key:"joiningDate",label:"Joining Date",sortable:!0}];return(0,r.jsxs)("div",{className:"view-edit-employee-dashboard",children:[(0,r.jsx)("div",{className:"dashboard-header",children:(0,r.jsxs)("div",{className:"header-content",children:[(0,r.jsxs)("div",{className:"header-left",children:[(0,r.jsx)("h2",{className:"dashboard-title",children:"Employee Details"}),(0,r.jsx)("p",{className:"dashboard-subtitle",children:"View all employee information and details"})]}),(0,r.jsx)("button",{className:"back-button",onClick:s,type:"button",children:"\u2190 Back"})]})}),(0,r.jsx)("div",{className:"dashboard-content",children:(0,r.jsx)("div",{className:"employee-details-container",children:(0,r.jsxs)("div",{className:"detail-section",children:[(0,r.jsx)("h3",{children:"All Employees"}),(0,r.jsxs)("p",{children:["Total Employees: ",Array.isArray(a)?a.length:0]}),(0,r.jsx)("div",{className:"employees-table-container",children:Array.isArray(a)&&a.length>0?(0,r.jsxs)("div",{className:"employees-table",children:[(0,r.jsx)("div",{className:"table-header",children:e.map((e=>(0,r.jsx)("div",{className:"table-cell header",children:e.label},e.key)))}),(0,r.jsx)("div",{className:"table-body",children:a.map(((e,a)=>{return(0,r.jsxs)("div",{className:"table-row",children:[(0,r.jsx)("div",{className:"table-cell",children:h(e.firstName)}),(0,r.jsx)("div",{className:"table-cell",children:h(e.lastName)}),(0,r.jsx)("div",{className:"table-cell",children:h(e.email)}),(0,r.jsx)("div",{className:"table-cell",children:h(e.phone)}),(0,r.jsx)("div",{className:"table-cell",children:h(e.department)}),(0,r.jsx)("div",{className:"table-cell",children:h(e.designation)}),(0,r.jsx)("div",{className:"table-cell",children:(s=e.joiningDate,s?new Date(s).toLocaleDateString():"Not provided")})]},a);var s}))})]}):(0,r.jsx)("div",{className:"no-data",children:(0,r.jsx)("p",{children:'No employees found. Add some employees using the "Add Employee" button.'})})})]})})})]})}return(0,r.jsx)("div",{className:"view-edit-employee-details-modal",children:(0,r.jsxs)("div",{className:"view-edit-employee-details-modal-content",children:[(0,r.jsxs)("div",{className:"view-edit-employee-details-modal-header",children:[(0,r.jsx)("h2",{children:d?"Edit Employee Details":"Employee Details"}),(0,r.jsx)("button",{className:"view-edit-employee-details-close-btn",onClick:s,children:"\xd7"})]}),(0,r.jsxs)("div",{className:"view-edit-employee-details-modal-body",children:[(0,r.jsx)("div",{className:"view-edit-employee-details-step-indicator",children:f.map(((e,a)=>(0,r.jsxs)("div",{className:`view-edit-employee-details-step ${a===c?"active":""} ${a<c?"completed":""}`,children:[(0,r.jsx)("span",{className:"view-edit-employee-details-step-number",children:a+1}),(0,r.jsx)("span",{className:"view-edit-employee-details-step-title",children:e.title})]},a)))}),(0,r.jsx)(t.Op,{...p,children:(0,r.jsxs)("form",{onSubmit:g((async e=>{l&&await l(e),o(!1)})),children:[(()=>{switch(c){case 0:return(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h3",{children:"Personal Information"}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"First Name *"}),(0,r.jsx)("input",{type:"text",...u("firstName",{required:"First name is required"}),disabled:!d}),b.firstName&&(0,r.jsx)("span",{className:"error",children:b.firstName.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Last Name *"}),(0,r.jsx)("input",{type:"text",...u("lastName",{required:"Last name is required"}),disabled:!d}),b.lastName&&(0,r.jsx)("span",{className:"error",children:b.lastName.message})]})]}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Email *"}),(0,r.jsx)("input",{type:"email",...u("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),disabled:!d}),b.email&&(0,r.jsx)("span",{className:"error",children:b.email.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Phone *"}),(0,r.jsx)("input",{type:"tel",...u("phone",{required:"Phone is required",pattern:{value:/^[0-9]{10}$/,message:"Phone number must be 10 digits"}}),disabled:!d}),b.phone&&(0,r.jsx)("span",{className:"error",children:b.phone.message})]})]}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Date of Birth *"}),(0,r.jsx)("input",{type:"date",...u("dateOfBirth",{required:"Date of birth is required"}),disabled:!d}),b.dateOfBirth&&(0,r.jsx)("span",{className:"error",children:b.dateOfBirth.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Gender *"}),(0,r.jsxs)("select",{...u("gender",{required:"Gender is required"}),disabled:!d,children:[(0,r.jsx)("option",{value:"",children:"Select Gender"}),(0,r.jsx)("option",{value:"male",children:"Male"}),(0,r.jsx)("option",{value:"female",children:"Female"}),(0,r.jsx)("option",{value:"other",children:"Other"})]}),b.gender&&(0,r.jsx)("span",{className:"error",children:b.gender.message})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Address *"}),(0,r.jsx)("textarea",{...u("address",{required:"Address is required"}),disabled:!d}),b.address&&(0,r.jsx)("span",{className:"error",children:b.address.message})]}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"City *"}),(0,r.jsx)("input",{type:"text",...u("city",{required:"City is required"}),disabled:!d}),b.city&&(0,r.jsx)("span",{className:"error",children:b.city.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"State *"}),(0,r.jsx)("input",{type:"text",...u("state",{required:"State is required"}),disabled:!d}),b.state&&(0,r.jsx)("span",{className:"error",children:b.state.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Pincode *"}),(0,r.jsx)("input",{type:"text",...u("pincode",{required:"Pincode is required",pattern:{value:/^[0-9]{6}$/,message:"Pincode must be 6 digits"}}),disabled:!d}),b.pincode&&(0,r.jsx)("span",{className:"error",children:b.pincode.message})]})]})]});case 1:return(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h3",{children:"Employment Information"}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Employee ID *"}),(0,r.jsx)("input",{type:"text",...u("employeeId",{required:"Employee ID is required"}),disabled:!d}),b.employeeId&&(0,r.jsx)("span",{className:"error",children:b.employeeId.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Department *"}),(0,r.jsxs)("select",{...u("department",{required:"Department is required"}),disabled:!d,children:[(0,r.jsx)("option",{value:"",children:"Select Department"}),(0,r.jsx)("option",{value:"IT",children:"IT"}),(0,r.jsx)("option",{value:"HR",children:"HR"}),(0,r.jsx)("option",{value:"Finance",children:"Finance"}),(0,r.jsx)("option",{value:"Marketing",children:"Marketing"}),(0,r.jsx)("option",{value:"Operations",children:"Operations"})]}),b.department&&(0,r.jsx)("span",{className:"error",children:b.department.message})]})]}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Designation *"}),(0,r.jsx)("input",{type:"text",...u("designation",{required:"Designation is required"}),disabled:!d}),b.designation&&(0,r.jsx)("span",{className:"error",children:b.designation.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Joining Date *"}),(0,r.jsx)("input",{type:"date",...u("joiningDate",{required:"Joining date is required"}),disabled:!d}),b.joiningDate&&(0,r.jsx)("span",{className:"error",children:b.joiningDate.message})]})]}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Salary *"}),(0,r.jsx)("input",{type:"number",...u("salary",{required:"Salary is required"}),disabled:!d}),b.salary&&(0,r.jsx)("span",{className:"error",children:b.salary.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Supervisor"}),(0,r.jsx)("input",{type:"text",...u("supervisor"),disabled:!d})]})]})]});case 2:return(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h3",{children:"Educational Information"}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Highest Qualification *"}),(0,r.jsxs)("select",{...u("highestQualification",{required:"Highest qualification is required"}),disabled:!d,children:[(0,r.jsx)("option",{value:"",children:"Select Qualification"}),(0,r.jsx)("option",{value:"High School",children:"High School"}),(0,r.jsx)("option",{value:"Diploma",children:"Diploma"}),(0,r.jsx)("option",{value:"Bachelor's Degree",children:"Bachelor's Degree"}),(0,r.jsx)("option",{value:"Master's Degree",children:"Master's Degree"}),(0,r.jsx)("option",{value:"PhD",children:"PhD"})]}),b.highestQualification&&(0,r.jsx)("span",{className:"error",children:b.highestQualification.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Institution *"}),(0,r.jsx)("input",{type:"text",...u("institution",{required:"Institution is required"}),disabled:!d}),b.institution&&(0,r.jsx)("span",{className:"error",children:b.institution.message})]})]}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Graduation Year *"}),(0,r.jsx)("input",{type:"number",...u("graduationYear",{required:"Graduation year is required",min:{value:1950,message:"Invalid year"},max:{value:(new Date).getFullYear(),message:"Year cannot be in future"}}),disabled:!d}),b.graduationYear&&(0,r.jsx)("span",{className:"error",children:b.graduationYear.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Specialization"}),(0,r.jsx)("input",{type:"text",...u("specialization"),disabled:!d})]})]})]});case 3:return(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h3",{children:"Emergency Contact"}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Emergency Contact Name *"}),(0,r.jsx)("input",{type:"text",...u("emergencyName",{required:"Emergency contact name is required"}),disabled:!d}),b.emergencyName&&(0,r.jsx)("span",{className:"error",children:b.emergencyName.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Emergency Contact Phone *"}),(0,r.jsx)("input",{type:"tel",...u("emergencyPhone",{required:"Emergency contact phone is required",pattern:{value:/^[0-9]{10}$/,message:"Phone number must be 10 digits"}}),disabled:!d}),b.emergencyPhone&&(0,r.jsx)("span",{className:"error",children:b.emergencyPhone.message})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Relationship *"}),(0,r.jsxs)("select",{...u("emergencyRelation",{required:"Relationship is required"}),disabled:!d,children:[(0,r.jsx)("option",{value:"",children:"Select Relationship"}),(0,r.jsx)("option",{value:"Spouse",children:"Spouse"}),(0,r.jsx)("option",{value:"Parent",children:"Parent"}),(0,r.jsx)("option",{value:"Sibling",children:"Sibling"}),(0,r.jsx)("option",{value:"Friend",children:"Friend"}),(0,r.jsx)("option",{value:"Other",children:"Other"})]}),b.emergencyRelation&&(0,r.jsx)("span",{className:"error",children:b.emergencyRelation.message})]})]});case 4:return(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h3",{children:"Documents"}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Photo (Optional)"}),(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{e.target.files[0]&&(x("photo",e.target.files[0]),v("photo"))},disabled:!d}),j("photo")&&(0,r.jsx)("div",{className:"file-preview",children:(0,r.jsx)("img",{src:URL.createObjectURL(j("photo")),className:"file-preview",alt:""})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"ID Proof (Optional)"}),(0,r.jsx)("input",{type:"file",accept:".pdf,.doc,.docx,image/*",onChange:e=>{e.target.files[0]&&(x("idProof",e.target.files[0]),v("idProof"))},disabled:!d})]})]}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Address Proof (Optional)"}),(0,r.jsx)("input",{type:"file",accept:".pdf,.doc,.docx,image/*",onChange:e=>{e.target.files[0]&&(x("addressProof",e.target.files[0]),v("addressProof"))},disabled:!d})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Educational Certificates (Optional)"}),(0,r.jsx)("input",{type:"file",accept:".pdf,.doc,.docx,image/*",multiple:!0,onChange:e=>{e.target.files.length>0&&(x("educationalCertificates",Array.from(e.target.files)),v("educationalCertificates"))},disabled:!d})]})]})]});case 5:return(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("h3",{children:"Additional Information"}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Skills"}),(0,r.jsx)("textarea",{...u("skills"),placeholder:"Enter your skills (comma separated)",disabled:!d})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Languages Known"}),(0,r.jsx)("input",{type:"text",...u("languages"),placeholder:"e.g., English, Hindi, Spanish",disabled:!d})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Certifications"}),(0,r.jsx)("textarea",{...u("certifications"),placeholder:"Enter your certifications",disabled:!d})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Work Experience"}),(0,r.jsx)("textarea",{...u("workExperience"),placeholder:"Describe your previous work experience",disabled:!d})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"References"}),(0,r.jsx)("textarea",{...u("references"),placeholder:"Enter references with contact details",disabled:!d})]})]});default:return null}})(),(0,r.jsx)("div",{className:"view-edit-employee-details-form-actions",children:d?(0,r.jsxs)(r.Fragment,{children:[c>0&&(0,r.jsx)("button",{type:"button",className:"view-edit-employee-details-btn view-edit-employee-details-btn-secondary",onClick:()=>{c>0&&m(c-1)},children:"Previous"}),c<f.length-1?(0,r.jsx)("button",{type:"button",className:"view-edit-employee-details-btn view-edit-employee-details-btn-primary",onClick:async()=>{const e=f[c].fields;await y(e)&&c<f.length-1&&m(c+1)},children:"Next"}):(0,r.jsx)("button",{type:"submit",className:"view-edit-employee-details-btn view-edit-employee-details-btn-success",children:"Save Changes"}),(0,r.jsx)("button",{type:"button",className:"view-edit-employee-details-btn view-edit-employee-details-btn-danger",onClick:()=>{o(!1),m(0),p.reset()},children:"Cancel"})]}):(0,r.jsx)("button",{type:"button",className:"view-edit-employee-details-btn view-edit-employee-details-btn-primary",onClick:()=>o(!0),children:"Edit Details"})})]})})]})]})})}},6428:(e,a,s)=>{s.d(a,{A:()=>l});var i=s(5043),t=s(980),r=(s(525),s(579));const l=e=>{let{onClose:a,onSubmit:s,editData:l=null,isInDashboard:n=!1}=e;const[d,o]=(0,i.useState)(!0),c=()=>{o(!1),a&&a()},m=async e=>{try{await s(e),c()}catch(a){console.error("Error submitting farmer data:",a)}};return d?n?(0,r.jsx)(t.A,{isInDashboard:!0,editData:l,onClose:c,onSubmit:m}):(0,r.jsx)("div",{className:"farmer-form-overlay",children:(0,r.jsxs)("div",{className:"farmer-form-content farmer-modal",children:[(0,r.jsxs)("div",{className:"farmer-form-header",children:[(0,r.jsx)("h2",{children:l?"Edit Farmer":"Add New Farmer"}),(0,r.jsx)("button",{className:"farmer-form-close-btn",onClick:c,children:"\xd7"})]}),(0,r.jsx)("div",{className:"farmer-form-body",children:(0,r.jsx)(t.A,{isInDashboard:!0,editData:l,onClose:c,onSubmit:m})})]})}):null}},8022:(e,a,s)=>{s.d(a,{A:()=>t});s(5043);var i=s(579);const t=e=>{var a;let{farmerData:s,onClose:t,isInDashboard:r=!1}=e;if(!s||"object"!==typeof s)return console.error("ViewFarmerRegistrationDetails: Invalid farmerData:",s),(0,i.jsx)("div",{className:"modal-overlay",children:(0,i.jsxs)("div",{className:"modal-content view-farmer-modal",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h2",{children:"Farmer Details"}),(0,i.jsx)("button",{className:"close-btn",onClick:t,children:"\xd7"})]}),(0,i.jsx)("div",{className:"modal-body",children:(0,i.jsx)("p",{children:"No farmer data available or invalid data format."})})]})});const l=e=>null===e||void 0===e?"Not provided":"object"===typeof e?(console.warn("ViewFarmerRegistrationDetails: Object found in value:",e),"Object (see console)"):String(e);if(r){const e=[{key:"name",label:"Name",sortable:!0},{key:"contactNumber",label:"Contact Number",sortable:!0},{key:"email",label:"Email",sortable:!0},{key:"state",label:"State",sortable:!0},{key:"district",label:"District",sortable:!0},{key:"kycStatus",label:"KYC Status",sortable:!0},{key:"assignedEmployee",label:"Assigned Employee",sortable:!0}];return(0,i.jsxs)("div",{className:"view-farmer-dashboard",children:[(0,i.jsx)("div",{className:"dashboard-header",children:(0,i.jsxs)("div",{className:"header-content",children:[(0,i.jsxs)("div",{className:"header-left",children:[(0,i.jsx)("h2",{className:"dashboard-title",children:"Farmer Registration Details"}),(0,i.jsx)("p",{className:"dashboard-subtitle",children:"View all farmer information and registration details"})]}),(0,i.jsx)("button",{className:"back-button",onClick:t,type:"button",children:"\u2190 Back"})]})}),(0,i.jsx)("div",{className:"dashboard-content",children:(0,i.jsx)("div",{className:"farmer-details-container",children:(0,i.jsxs)("div",{className:"detail-section",children:[(0,i.jsx)("h3",{children:"All Farmers"}),(0,i.jsxs)("p",{children:["Total Farmers: ",Array.isArray(s)?s.length:0]}),(0,i.jsx)("div",{className:"farmers-table-container",children:Array.isArray(s)&&s.length>0?(0,i.jsxs)("div",{className:"farmers-table",children:[(0,i.jsx)("div",{className:"table-header",children:e.map((e=>(0,i.jsx)("div",{className:"table-cell header",children:e.label},e.key)))}),(0,i.jsx)("div",{className:"table-body",children:s.map(((e,a)=>{var s;return(0,i.jsxs)("div",{className:"table-row",children:[(0,i.jsx)("div",{className:"table-cell",children:l(e.name)}),(0,i.jsx)("div",{className:"table-cell",children:l(e.contactNumber)}),(0,i.jsx)("div",{className:"table-cell",children:l(e.email)}),(0,i.jsx)("div",{className:"table-cell",children:l(e.state)}),(0,i.jsx)("div",{className:"table-cell",children:l(e.district)}),(0,i.jsx)("div",{className:"table-cell",children:(0,i.jsx)("span",{className:`kyc-status-badge ${null===(s=l(e.kycStatus))||void 0===s?void 0:s.toLowerCase()}`,children:l(e.kycStatus)||"PENDING"})}),(0,i.jsx)("div",{className:"table-cell",children:e.assignedEmployee?"object"===typeof e.assignedEmployee?`${l(e.assignedEmployee.firstName)} ${l(e.assignedEmployee.lastName)}`:l(e.assignedEmployee):"Not Assigned"})]},a)}))})]}):(0,i.jsx)("div",{className:"no-data",children:(0,i.jsx)("p",{children:'No farmers found. Add some farmers using the "Add Farmer" button.'})})})]})})})]})}return(0,i.jsx)("div",{className:"modal-overlay",children:(0,i.jsxs)("div",{className:"modal-content view-farmer-modal",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h2",{children:"Farmer Registration Details"}),(0,i.jsx)("button",{className:"close-btn",onClick:t,children:"\xd7"})]}),(0,i.jsx)("div",{className:"modal-body",children:(0,i.jsxs)("div",{className:"farmer-details-container",children:[(0,i.jsxs)("div",{className:"detail-section",children:[(0,i.jsx)("h3",{children:"Personal Information"}),(0,i.jsxs)("div",{className:"detail-grid",children:[(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"Name:"}),(0,i.jsx)("span",{children:l(s.name)})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"Date of Birth:"}),(0,i.jsx)("span",{children:(n=s.dateOfBirth,n?new Date(n).toLocaleDateString():"Not provided")})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"Gender:"}),(0,i.jsx)("span",{children:l(s.gender)})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"Contact Number:"}),(0,i.jsx)("span",{children:l(s.contactNumber)})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"Email:"}),(0,i.jsx)("span",{children:l(s.email)})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"Father's Name:"}),(0,i.jsx)("span",{children:l(s.fatherName)})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"Nationality:"}),(0,i.jsx)("span",{children:l(s.nationality)})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"Alternative Contact:"}),(0,i.jsx)("span",{children:l(s.alternativeContactNumber)})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"Alternative Relation:"}),(0,i.jsx)("span",{children:l(s.alternativeRelationType)})]})]})]}),(0,i.jsxs)("div",{className:"detail-section",children:[(0,i.jsx)("h3",{children:"Address Information"}),(0,i.jsxs)("div",{className:"detail-grid",children:[(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"State:"}),(0,i.jsx)("span",{children:l(s.state)})]}),(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"District:"}),(0,i.jsx)("span",{children:l(s.district)})]}),(0,i.jsxs)("div",{className:"detail-item full-width",children:[(0,i.jsx)("label",{children:"Complete Address:"}),(0,i.jsx)("span",{children:`${l(s.district)}, ${l(s.state)}`.replace(/,\s*,/g,",").replace(/^,\s*/,"").replace(/,\s*$/,"")})]})]})]}),(0,i.jsxs)("div",{className:"detail-section",children:[(0,i.jsx)("h3",{children:"Assignment Information"}),(0,i.jsxs)("div",{className:"detail-grid",children:[(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"KYC Status:"}),(0,i.jsx)("span",{className:`kyc-status-badge ${null===(a=l(s.kycStatus))||void 0===a?void 0:a.toLowerCase()}`,children:l(s.kycStatus)||"PENDING"})]}),s.assignedEmployee&&(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"Assigned Employee:"}),(0,i.jsx)("span",{children:"object"===typeof s.assignedEmployee?`${l(s.assignedEmployee.firstName)} ${l(s.assignedEmployee.lastName)}`:l(s.assignedEmployee)})]}),s.assignedEmployeeId&&(0,i.jsxs)("div",{className:"detail-item",children:[(0,i.jsx)("label",{children:"Assigned Employee ID:"}),(0,i.jsx)("span",{children:l(s.assignedEmployeeId)})]})]})]})]})})]})});var n}}}]);
//# sourceMappingURL=195.09a84425.chunk.js.map