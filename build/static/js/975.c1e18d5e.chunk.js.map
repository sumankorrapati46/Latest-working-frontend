{"version":3,"file":"static/js/975.c1e18d5e.chunk.js","mappings":"8MAIA,MAwDA,EAxD2BA,KAiDvBC,EAAAA,EAAAA,KAACC,EAAAA,EAAsB,CACrBC,eAAe,EACfC,SAlDiBC,UACnB,IACEC,QAAQC,IAAI,iCAAkCC,GAG9C,MAAMC,EAAwB,CAC5BC,KAAM,GAAGF,EAAKG,WAAa,MAAMH,EAAKI,YAAc,MAAMJ,EAAKK,UAAY,KAAKC,OAChFC,OAAQP,EAAKO,QAAU,GACvBC,YAAaR,EAAKQ,aAAe,GACjCC,MAAOT,EAAKS,OAAS,GAAGT,EAAKU,4BAC7BC,YAAaX,EAAKU,eAAiB,GACnCE,KAAM,SACNC,SAAU,oBAIZ,IAAKZ,EAAsBC,OAASD,EAAsBU,YAExD,YADAG,MAAM,sEAKR,IAAKd,EAAKS,MAAO,CAEf,IADqBM,OAAOC,QAAQ,oIAGlC,YADAF,MAAM,6DAGV,CAEAhB,QAAQC,IAAI,sCAAuCE,GAGnD,MAAMgB,QAAiBC,EAAAA,GAAQC,SAASlB,GACxCH,QAAQC,IAAI,kCAAmCkB,GAE/CH,MAAM,gIAKR,CAAE,MAAOM,GACPtB,QAAQsB,MAAM,wCAAyCA,GACvDN,MAAM,2CACR,I","sources":["pages/FarmerRegistration.jsx"],"sourcesContent":["import React from 'react';\r\nimport FarmerRegistrationForm from '../components/FarmerRegistrationForm';\r\nimport { authAPI } from '../api/apiService';\r\n\r\nconst FarmerRegistration = () => {\r\n  const handleSubmit = async (data) => {\r\n    try {\r\n      console.log('Farmer registration submitted:', data);\r\n      \r\n      // Extract basic registration data from the detailed form (flat structure)\r\n      const basicRegistrationData = {\r\n        name: `${data.firstName || ''} ${data.middleName || ''} ${data.lastName || ''}`.trim(),\r\n        gender: data.gender || '',\r\n        dateOfBirth: data.dateOfBirth || '',\r\n        email: data.email || `${data.contactNumber}@farmer.temp`, // Use phone number as email if not provided\r\n        phoneNumber: data.contactNumber || '',\r\n        role: 'FARMER',\r\n        password: 'TempPassword123!' // Generate a temporary password\r\n      };\r\n      \r\n      // Validate that we have the required basic fields\r\n      if (!basicRegistrationData.name || !basicRegistrationData.phoneNumber) {\r\n        alert('Please fill in all required basic information (name, phone number)');\r\n        return;\r\n      }\r\n      \r\n      // Check if we have a proper email or need to use a temporary one\r\n      if (!data.email) {\r\n        const useTempEmail = window.confirm('Email is required for registration. Would you like to use a temporary email based on your phone number? You can update it later.');\r\n        if (!useTempEmail) {\r\n          alert('Please add an email address to continue with registration.');\r\n          return;\r\n        }\r\n      }\r\n      \r\n      console.log('Submitting basic registration data:', basicRegistrationData);\r\n      \r\n      // Submit basic registration to backend using authAPI.register\r\n      const response = await authAPI.register(basicRegistrationData);\r\n      console.log('Farmer registration successful:', response);\r\n      \r\n      alert('Farmer registration completed successfully! Please wait for admin approval. You will receive login credentials once approved.');\r\n      \r\n      // Note: The detailed profile data can be saved later when the user is approved\r\n      // and logs in for the first time, or through a separate API endpoint\r\n      \r\n    } catch (error) {\r\n      console.error('Error submitting farmer registration:', error);\r\n      alert('Error submitting form. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FarmerRegistrationForm\r\n      isInDashboard={false}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n};\r\n\r\nexport default FarmerRegistration; "],"names":["FarmerRegistration","_jsx","FarmerRegistrationForm","isInDashboard","onSubmit","async","console","log","data","basicRegistrationData","name","firstName","middleName","lastName","trim","gender","dateOfBirth","email","contactNumber","phoneNumber","role","password","alert","window","confirm","response","authAPI","register","error"],"sourceRoot":""}