"use strict";(self.webpackChunkagristack_farmer_management=self.webpackChunkagristack_farmer_management||[]).push([[506],{4506:(s,e,a)=>{a.r(e),a.d(e,{default:()=>t});var r=a(5043),n=a(3216),o=a(5016),d=a(579);const t=()=>{const s=(0,n.Zp)(),{user:e}=(0,o.As)(),[a,t]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[c,l]=(0,r.useState)(!1),[i,w]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),h=s=>{const{name:e,value:a}=s.target;t((s=>({...s,[e]:a})))},p=()=>{s(-1)};return(0,d.jsx)("div",{className:"change-password-page",children:(0,d.jsxs)("div",{className:"change-password-container",children:[(0,d.jsxs)("div",{className:"change-password-header",children:[(0,d.jsxs)("button",{className:"back-button",onClick:p,children:[(0,d.jsx)("i",{className:"fas fa-arrow-left"})," Back"]}),(0,d.jsx)("h1",{children:"Change Password"}),(0,d.jsx)("p",{children:"Update your account password"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l(!0),w(""),m(""),a.newPassword!==a.confirmPassword)return w("New passwords do not match"),void l(!1);if(a.newPassword.length<6)return w("New password must be at least 6 characters long"),void l(!1);const r=/[A-Z]/.test(a.newPassword),n=/\d/.test(a.newPassword),o=/[!@#$%^&*(),.?":{}|<>]/.test(a.newPassword);if(!r||!n||!o)return w("Password must include an uppercase letter, a number, and a special character."),void l(!1);try{await new Promise((s=>setTimeout(s,1e3))),m("Password changed successfully!"),setTimeout((()=>{s(-1)}),2e3)}catch(d){w("Failed to change password. Please try again.")}finally{l(!1)}},className:"change-password-form",children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"currentPassword",children:"Current Password"}),(0,d.jsx)("input",{type:"password",id:"currentPassword",name:"currentPassword",value:a.currentPassword,onChange:h,required:!0,placeholder:"Enter your current password"})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),(0,d.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",value:a.newPassword,onChange:h,required:!0,placeholder:"Enter your new password"}),(0,d.jsx)("small",{style:{color:"#666",fontSize:"0.85rem",marginTop:"5px"},children:"Must contain at least 6 characters, including uppercase, number, and special character"})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,d.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:h,required:!0,placeholder:"Confirm your new password"})]}),i&&(0,d.jsx)("div",{className:"error-message",children:i}),u&&(0,d.jsx)("div",{className:"success-message",children:u}),(0,d.jsxs)("div",{className:"form-actions",children:[(0,d.jsx)("button",{type:"button",className:"btn-secondary",onClick:p,disabled:c,children:"Cancel"}),(0,d.jsx)("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Changing Password...":"Change Password"})]})]})]})})}}}]);
//# sourceMappingURL=506.801a25d7.chunk.js.map