"use strict";(self.webpackChunkagristack_farmer_management=self.webpackChunkagristack_farmer_management||[]).push([[247],{3498:(e,a,s)=>{s.d(a,{A:()=>i});var r=s(5043),n=s(579);const i=e=>{let{message:a,type:s="info",duration:i=5e3,onClose:l,position:o="top-right"}=e;const[t,c]=(0,r.useState)(!0),[d,m]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=setTimeout((()=>{h()}),i);return()=>clearTimeout(e)}),[i]);const h=()=>{m(!0),setTimeout((()=>{c(!1),null===l||void 0===l||l()}),300)};return t?(0,n.jsxs)("div",{className:`notification-toast ${s} ${o} ${d?"exiting":""}`,children:[(0,n.jsxs)("div",{className:"toast-content",children:[(0,n.jsx)("div",{className:"toast-icon",children:(()=>{switch(s){case"success":return"\u2705";case"error":return"\u274c";case"warning":return"\u26a0\ufe0f";default:return"\u2139\ufe0f"}})()}),(0,n.jsx)("div",{className:"toast-message",children:a}),(0,n.jsx)("button",{className:"toast-close",onClick:h,children:"\xd7"})]}),(0,n.jsx)("div",{className:"toast-progress",children:(0,n.jsx)("div",{className:"progress-bar",style:{animationDuration:`${i}ms`,animationDelay:"300ms"}})})]}):null}},5247:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var r=s(5043),n=s(5016),i=s(3005),l=s(3216),o=s(3028),t=s(3498),c=s(7304),d=s(6058),m=(s(5812),s(579));c.t1.register(c.PP,c.kc,c.E8,c.hE,c.m_,c.s$,c.Bs);const h=()=>{var e,a,s,c,h,u,v,x,p,j,b,g,N,f,y,C,w,k,P,B,S,A,R,E,D,L,T,z,W;const{user:M,isAuthenticated:I,loading:$}=(0,n.As)(),{currentTheme:F}=(0,i.DP)(),K=(0,l.Zp)(),[_,O]=(0,r.useState)(null),[H,Y]=(0,r.useState)(!0),[Z,G]=(0,r.useState)(null),[V,q]=(0,r.useState)(null),[J,Q]=(0,r.useState)(null),U=(0,r.useRef)(null),X=async()=>{try{Y(!0),await new Promise((e=>setTimeout(e,1e3)));O({generalCounts:{totalBeneficiaries:15420,totalEnrollments:12850,enrollmentPercentage:83.4,approvedIds:11230,pendingApprovals:1620,yesterdayEnrollments:45},districtPerformance:{top5:[{name:"Mumbai",rate:94.2,count:1250},{name:"Delhi",rate:91.8,count:980},{name:"Bangalore",rate:89.5,count:1120},{name:"Chennai",rate:87.3,count:890},{name:"Hyderabad",rate:85.1,count:760}],bottom5:[{name:"Patna",rate:45.2,count:320},{name:"Lucknow",rate:52.8,count:450},{name:"Kolkata",rate:58.1,count:680},{name:"Ahmedabad",rate:62.4,count:540},{name:"Pune",rate:65.7,count:720}]},enrollmentModes:{online:65.2,offline:23.8,mobile:11}}),Q(new Date),G(null)}catch(e){console.error("Error fetching dashboard data:",e),G("Failed to load dashboard data. Please try again.")}finally{Y(!1)}};(0,r.useEffect)((()=>(X(),U.current=setInterval((()=>{X()}),3e5),()=>{U.current&&clearInterval(U.current)})),[]);const ee={labels:(null===_||void 0===_||null===(e=_.districtPerformance)||void 0===e||null===(a=e.top5)||void 0===a?void 0:a.map((e=>e.name)))||[],datasets:[{label:"Approval Rate (%)",data:(null===_||void 0===_||null===(s=_.districtPerformance)||void 0===s||null===(c=s.top5)||void 0===c?void 0:c.map((e=>e.rate)))||[],backgroundColor:"rgba(34, 197, 94, 0.9)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:3,borderRadius:12,borderSkipped:!1,hoverBackgroundColor:"rgba(34, 197, 94, 1)",hoverBorderColor:"rgba(34, 197, 94, 1)"},{label:"Enrollment Count",data:(null===_||void 0===_||null===(h=_.districtPerformance)||void 0===h||null===(u=h.top5)||void 0===u?void 0:u.map((e=>e.count)))||[],backgroundColor:"rgba(59, 130, 246, 0.9)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:3,borderRadius:12,borderSkipped:!1,hoverBackgroundColor:"rgba(59, 130, 246, 1)",hoverBorderColor:"rgba(59, 130, 246, 1)"}]},ae={labels:(null===_||void 0===_||null===(v=_.districtPerformance)||void 0===v||null===(x=v.bottom5)||void 0===x?void 0:x.map((e=>e.name)))||[],datasets:[{label:"Approval Rate (%)",data:(null===_||void 0===_||null===(p=_.districtPerformance)||void 0===p||null===(j=p.bottom5)||void 0===j?void 0:j.map((e=>e.rate)))||[],backgroundColor:"rgba(239, 68, 68, 0.9)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:3,borderRadius:12,borderSkipped:!1,hoverBackgroundColor:"rgba(239, 68, 68, 1)",hoverBorderColor:"rgba(239, 68, 68, 1)"},{label:"Enrollment Count",data:(null===_||void 0===_||null===(b=_.districtPerformance)||void 0===b||null===(g=b.bottom5)||void 0===g?void 0:g.map((e=>e.count)))||[],backgroundColor:"rgba(245, 158, 11, 0.9)",borderColor:"rgba(245, 158, 11, 1)",borderWidth:3,borderRadius:12,borderSkipped:!1,hoverBackgroundColor:"rgba(245, 158, 11, 1)",hoverBorderColor:"rgba(245, 158, 11, 1)"}]},se={labels:["Online","Offline","Mobile"],datasets:[{data:[(null===_||void 0===_||null===(N=_.enrollmentModes)||void 0===N?void 0:N.online)||0,(null===_||void 0===_||null===(f=_.enrollmentModes)||void 0===f?void 0:f.offline)||0,(null===_||void 0===_||null===(y=_.enrollmentModes)||void 0===y?void 0:y.mobile)||0],backgroundColor:["rgba(34, 197, 94, 0.9)","rgba(59, 130, 246, 0.9)","rgba(245, 158, 11, 0.9)"],borderColor:["rgba(34, 197, 94, 1)","rgba(59, 130, 246, 1)","rgba(245, 158, 11, 1)"],borderWidth:4,hoverOffset:8,hoverBorderWidth:6}]},re={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"var(--text-primary, #1e293b)",font:{size:13,weight:"700",family:"Inter, sans-serif"},padding:20,usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"var(--text-primary, #1e293b)",bodyColor:"var(--text-secondary, #475569)",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:2,cornerRadius:12,displayColors:!0,titleFont:{size:14,weight:"700"},bodyFont:{size:13,weight:"600"},padding:16,boxPadding:8}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(226, 232, 240, 0.6)",lineWidth:1,drawBorder:!1},ticks:{color:"var(--text-secondary, #64748b)",font:{size:12,weight:"600"},padding:8},border:{display:!1}},x:{grid:{display:!1},ticks:{color:"var(--text-secondary, #64748b)",font:{size:12,weight:"600"},padding:8},border:{display:!1}}},interaction:{intersect:!1,mode:"index"},elements:{point:{radius:0,hoverRadius:8,hoverBorderWidth:3,hoverBorderColor:"rgba(255, 255, 255, 1)",hoverBackgroundColor:"rgba(59, 130, 246, 1)"}}};return H&&!_?(0,m.jsx)("div",{className:"analytics-dashboard",children:(0,m.jsx)("div",{className:"analytics-loading-container",children:(0,m.jsx)(o.A,{size:"large",text:"Loading analytical dashboard..."})})}):Z?(0,m.jsx)("div",{className:"analytics-dashboard",children:(0,m.jsx)("div",{className:"analytics-error-container",children:(0,m.jsxs)("div",{className:"error-content",children:[(0,m.jsx)("h2",{children:"Error Loading Dashboard"}),(0,m.jsx)("p",{children:Z}),(0,m.jsx)("button",{className:"retry-btn",onClick:X,children:"Retry"})]})})}):(0,m.jsxs)("div",{className:"analytics-dashboard",children:[!I&&!$&&(0,m.jsx)("div",{className:"auth-banner",children:(0,m.jsxs)("div",{className:"auth-banner-content",children:[(0,m.jsxs)("div",{className:"auth-banner-left",children:[(0,m.jsx)("span",{className:"auth-icon",children:"\ud83d\udd10"}),(0,m.jsxs)("div",{className:"auth-text",children:[(0,m.jsx)("h3",{children:"Welcome to PM Kisan Analytics"}),(0,m.jsx)("p",{children:"You're viewing public dashboard data. Log in to access additional features and personalized insights."})]})]}),(0,m.jsx)("div",{className:"auth-banner-right",children:(0,m.jsxs)("button",{className:"auth-login-btn",onClick:()=>{K("/login",{state:{from:"/analytical-dashboard",message:"Please log in to access additional dashboard features."}})},children:[(0,m.jsx)("span",{className:"login-icon",children:"\ud83d\udc64"}),(0,m.jsx)("span",{children:"Log In"})]})})]})}),(0,m.jsxs)("div",{className:"analytics-hero",children:[(0,m.jsxs)("div",{className:"hero-background",children:[(0,m.jsx)("div",{className:"hero-gradient-overlay"}),(0,m.jsx)("div",{className:"hero-pattern"})]}),(0,m.jsxs)("div",{className:"hero-content",children:[(0,m.jsxs)("div",{className:"hero-left",children:[(0,m.jsxs)("div",{className:"hero-badge",children:[(0,m.jsx)("span",{className:"badge-icon",children:"\ud83d\udcca"}),(0,m.jsx)("span",{className:"badge-text",children:"Live Analytics"})]}),(0,m.jsx)("h1",{className:"hero-title",children:"Analytical Dashboard"}),(0,m.jsx)("p",{className:"hero-subtitle",children:"Real-time insights and performance metrics for PM Kisan Beneficiaries"}),(0,m.jsxs)("div",{className:"hero-stats",children:[(0,m.jsxs)("div",{className:"hero-stat",children:[(0,m.jsx)("span",{className:"stat-number",children:(null===_||void 0===_||null===(C=_.generalCounts)||void 0===C||null===(w=C.totalBeneficiaries)||void 0===w?void 0:w.toLocaleString())||0}),(0,m.jsx)("span",{className:"stat-label",children:"Total Beneficiaries"})]}),(0,m.jsxs)("div",{className:"hero-stat",children:[(0,m.jsxs)("span",{className:"stat-number",children:[(null===_||void 0===_||null===(k=_.generalCounts)||void 0===k?void 0:k.enrollmentPercentage)||0,"%"]}),(0,m.jsx)("span",{className:"stat-label",children:"Enrollment Rate"})]})]})]}),(0,m.jsx)("div",{className:"hero-right",children:(0,m.jsxs)("div",{className:"hero-actions",children:[(0,m.jsxs)("button",{className:"hero-refresh-btn",onClick:()=>{X(),q("Dashboard data refreshed successfully!"),setTimeout((()=>q(null)),3e3)},title:"Refresh data",children:[(0,m.jsx)("span",{className:"refresh-icon",children:"\ud83d\udd04"}),(0,m.jsx)("span",{className:"refresh-text",children:"Refresh"})]}),J&&(0,m.jsxs)("div",{className:"hero-last-updated",children:[(0,m.jsx)("span",{className:"update-label",children:"Last updated"}),(0,m.jsx)("span",{className:"update-time",children:J.toLocaleTimeString()})]})]})})]})]}),(0,m.jsx)("div",{className:"analytics-main",children:(0,m.jsxs)("div",{className:"analytics-content",children:[(0,m.jsxs)("div",{className:"analytics-section premium",children:[(0,m.jsx)("div",{className:"section-header premium",children:(0,m.jsxs)("div",{className:"header-content",children:[(0,m.jsxs)("div",{className:"header-left",children:[(0,m.jsx)("h2",{className:"section-title",children:"General Counts"}),(0,m.jsx)("p",{className:"section-subtitle",children:"Key metrics and performance indicators"})]}),(0,m.jsxs)("div",{className:"header-decoration",children:[(0,m.jsx)("div",{className:"decoration-line"}),(0,m.jsx)("div",{className:"decoration-dot"})]})]})}),(0,m.jsxs)("div",{className:"counts-grid premium",children:[(0,m.jsxs)("div",{className:"count-card premium primary",children:[(0,m.jsx)("div",{className:"card-glow"}),(0,m.jsxs)("div",{className:"count-icon-wrapper",children:[(0,m.jsx)("div",{className:"count-icon",children:"\ud83d\udc65"}),(0,m.jsx)("div",{className:"icon-glow"})]}),(0,m.jsxs)("div",{className:"count-content",children:[(0,m.jsx)("h3",{children:"Total Beneficiaries"}),(0,m.jsx)("div",{className:"count-number",children:(null===_||void 0===_||null===(P=_.generalCounts)||void 0===P||null===(B=P.totalBeneficiaries)||void 0===B?void 0:B.toLocaleString())||0}),(0,m.jsx)("p",{className:"count-label",children:"PM Kisan Beneficiaries"})]}),(0,m.jsx)("div",{className:"card-pattern"})]}),(0,m.jsxs)("div",{className:"count-card premium success",children:[(0,m.jsx)("div",{className:"card-glow"}),(0,m.jsxs)("div",{className:"count-icon-wrapper",children:[(0,m.jsx)("div",{className:"count-icon",children:"\u2705"}),(0,m.jsx)("div",{className:"icon-glow"})]}),(0,m.jsxs)("div",{className:"count-content",children:[(0,m.jsx)("h3",{children:"Total Enrollments"}),(0,m.jsx)("div",{className:"count-number",children:(null===_||void 0===_||null===(S=_.generalCounts)||void 0===S||null===(A=S.totalEnrollments)||void 0===A?void 0:A.toLocaleString())||0}),(0,m.jsxs)("p",{className:"count-label",children:[(null===_||void 0===_||null===(R=_.generalCounts)||void 0===R?void 0:R.enrollmentPercentage)||0,"% of total"]})]}),(0,m.jsx)("div",{className:"card-pattern"})]}),(0,m.jsxs)("div",{className:"count-card premium info",children:[(0,m.jsx)("div",{className:"card-glow"}),(0,m.jsxs)("div",{className:"count-icon-wrapper",children:[(0,m.jsx)("div",{className:"count-icon",children:"\ud83d\udcca"}),(0,m.jsx)("div",{className:"icon-glow"})]}),(0,m.jsxs)("div",{className:"count-content",children:[(0,m.jsx)("h3",{children:"Enrollment Rate"}),(0,m.jsxs)("div",{className:"count-number",children:[(null===_||void 0===_||null===(E=_.generalCounts)||void 0===E?void 0:E.enrollmentPercentage)||0,"%"]}),(0,m.jsx)("p",{className:"count-label",children:"Overall success rate"})]}),(0,m.jsx)("div",{className:"card-pattern"})]}),(0,m.jsxs)("div",{className:"count-card premium warning",children:[(0,m.jsx)("div",{className:"card-glow"}),(0,m.jsxs)("div",{className:"count-icon-wrapper",children:[(0,m.jsx)("div",{className:"count-icon",children:"\u23f3"}),(0,m.jsx)("div",{className:"icon-glow"})]}),(0,m.jsxs)("div",{className:"count-content",children:[(0,m.jsx)("h3",{children:"Pending Approvals"}),(0,m.jsx)("div",{className:"count-number",children:(null===_||void 0===_||null===(D=_.generalCounts)||void 0===D||null===(L=D.pendingApprovals)||void 0===L?void 0:L.toLocaleString())||0}),(0,m.jsx)("p",{className:"count-label",children:"Awaiting verification"})]}),(0,m.jsx)("div",{className:"card-pattern"})]}),(0,m.jsxs)("div",{className:"count-card premium secondary",children:[(0,m.jsx)("div",{className:"card-glow"}),(0,m.jsxs)("div",{className:"count-icon-wrapper",children:[(0,m.jsx)("div",{className:"count-icon",children:"\ud83c\udfaf"}),(0,m.jsx)("div",{className:"icon-glow"})]}),(0,m.jsxs)("div",{className:"count-content",children:[(0,m.jsx)("h3",{children:"Approved IDs"}),(0,m.jsx)("div",{className:"count-number",children:(null===_||void 0===_||null===(T=_.generalCounts)||void 0===T||null===(z=T.approvedIds)||void 0===z?void 0:z.toLocaleString())||0}),(0,m.jsx)("p",{className:"count-label",children:"Successfully verified"})]}),(0,m.jsx)("div",{className:"card-pattern"})]}),(0,m.jsxs)("div",{className:"count-card premium accent",children:[(0,m.jsx)("div",{className:"card-glow"}),(0,m.jsxs)("div",{className:"count-icon-wrapper",children:[(0,m.jsx)("div",{className:"count-icon",children:"\ud83d\udcc8"}),(0,m.jsx)("div",{className:"icon-glow"})]}),(0,m.jsxs)("div",{className:"count-content",children:[(0,m.jsx)("h3",{children:"Yesterday's Enrollments"}),(0,m.jsx)("div",{className:"count-number",children:(null===_||void 0===_||null===(W=_.generalCounts)||void 0===W?void 0:W.yesterdayEnrollments)||0}),(0,m.jsx)("p",{className:"count-label",children:"Daily progress"})]}),(0,m.jsx)("div",{className:"card-pattern"})]})]})]}),(0,m.jsxs)("div",{className:"analytics-section premium",children:[(0,m.jsx)("div",{className:"section-header premium",children:(0,m.jsxs)("div",{className:"header-content",children:[(0,m.jsxs)("div",{className:"header-left",children:[(0,m.jsx)("h2",{className:"section-title",children:"Data Visualization"}),(0,m.jsx)("p",{className:"section-subtitle",children:"Performance analysis and enrollment distribution"})]}),(0,m.jsxs)("div",{className:"header-decoration",children:[(0,m.jsx)("div",{className:"decoration-line"}),(0,m.jsx)("div",{className:"decoration-dot"})]})]})}),(0,m.jsxs)("div",{className:"charts-grid premium",children:[(0,m.jsxs)("div",{className:"chart-card premium",children:[(0,m.jsx)("div",{className:"chart-glow"}),(0,m.jsxs)("div",{className:"chart-header premium",children:[(0,m.jsx)("h3",{children:"Top 5 Districts - Performance"}),(0,m.jsx)("p",{children:"Highest approval rates and enrollment counts"})]}),(0,m.jsx)("div",{className:"chart-container premium",children:(0,m.jsx)(d.yP,{data:ee,options:re})}),(0,m.jsx)("div",{className:"card-pattern"})]}),(0,m.jsxs)("div",{className:"chart-card premium",children:[(0,m.jsx)("div",{className:"chart-glow"}),(0,m.jsxs)("div",{className:"chart-header premium",children:[(0,m.jsx)("h3",{children:"Bottom 5 Districts - Performance"}),(0,m.jsx)("p",{children:"Areas needing improvement and support"})]}),(0,m.jsx)("div",{className:"chart-container premium",children:(0,m.jsx)(d.yP,{data:ae,options:re})}),(0,m.jsx)("div",{className:"card-pattern"})]}),(0,m.jsxs)("div",{className:"chart-card premium",children:[(0,m.jsx)("div",{className:"chart-glow"}),(0,m.jsxs)("div",{className:"chart-header premium",children:[(0,m.jsx)("h3",{children:"Enrollment Mode Distribution"}),(0,m.jsx)("p",{children:"How beneficiaries are registering in the system"})]}),(0,m.jsx)("div",{className:"chart-container premium",children:(0,m.jsx)(d.nu,{data:se,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"var(--text-primary, #1e293b)",font:{size:13,weight:"700",family:"Inter, sans-serif"},padding:25,usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"var(--text-primary, #1e293b)",bodyColor:"var(--text-secondary, #475569)",borderColor:"rgba(59, 130, 246, 0.3)",borderWidth:2,cornerRadius:12,callbacks:{label:function(e){return`${e.label}: ${e.parsed}%`}},titleFont:{size:14,weight:"700"},bodyFont:{size:13,weight:"600"},padding:16,boxPadding:8}},cutout:"65%",radius:"90%"}})}),(0,m.jsx)("div",{className:"card-pattern"})]})]})]}),(0,m.jsx)("div",{className:"auto-refresh-info premium",children:(0,m.jsxs)("div",{className:"info-content",children:[(0,m.jsx)("span",{className:"info-icon",children:"\u2139\ufe0f"}),(0,m.jsxs)("span",{className:"info-text",children:["Data automatically refreshes every 5 minutes. Last refresh: ",(null===J||void 0===J?void 0:J.toLocaleTimeString())||"N/A"]})]})})]})}),V&&(0,m.jsx)(t.A,{message:V,type:"success",onClose:()=>q(null)})]})}},5812:()=>{}}]);
//# sourceMappingURL=247.bf8d465a.chunk.js.map