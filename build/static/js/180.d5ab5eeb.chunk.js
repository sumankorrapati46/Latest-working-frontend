"use strict";(self.webpackChunkagristack_farmer_management=self.webpackChunkagristack_farmer_management||[]).push([[180],{1180:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var r=a(5043),n=a(5016),c=(a(5812),a(8874)),l=a(6428),i=(a(525),a(579));const t=e=>{var s;let{farmer:a,onClose:n,onApprove:c,onReject:l,onReferBack:t}=e;const[d,o]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[v,j]=(0,r.useState)((null===a||void 0===a?void 0:a.aadharNumber)||""),[x,p]=(0,r.useState)((null===a||void 0===a?void 0:a.panNumber)||"");return a?(0,i.jsx)("div",{className:"kyc-modal-overlay",children:(0,i.jsxs)("div",{className:"kyc-modal-content kyc-modal",children:[(0,i.jsxs)("div",{className:"kyc-modal-header",children:[(0,i.jsxs)("h2",{children:["KYC Review - ",a.name]}),(0,i.jsx)("button",{className:"kyc-modal-close",onClick:n,children:"\xd7"})]}),(0,i.jsxs)("div",{className:"kyc-modal-body",children:[(0,i.jsxs)("div",{className:"kyc-modal-farmer-info",children:[(0,i.jsx)("h3",{children:"Farmer Information"}),(0,i.jsxs)("div",{className:"kyc-modal-info-grid",children:[(0,i.jsxs)("div",{className:"kyc-modal-info-item",children:[(0,i.jsx)("label",{children:"Name:"}),(0,i.jsx)("span",{children:a.name})]}),(0,i.jsxs)("div",{className:"kyc-modal-info-item",children:[(0,i.jsx)("label",{children:"Phone:"}),(0,i.jsx)("span",{children:a.phone})]}),(0,i.jsxs)("div",{className:"kyc-modal-info-item",children:[(0,i.jsx)("label",{children:"Location:"}),(0,i.jsx)("span",{children:a.location})]}),(0,i.jsxs)("div",{className:"kyc-modal-info-item",children:[(0,i.jsx)("label",{children:"Current Status:"}),(0,i.jsx)("span",{className:`kyc-modal-status-badge kyc-modal-status-${null===(s=a.kycStatus)||void 0===s?void 0:s.toLowerCase()}`,children:a.kycStatus})]})]})]}),(0,i.jsxs)("div",{className:"kyc-modal-document-info",children:[(0,i.jsx)("h3",{children:"Required Documents"}),(0,i.jsxs)("div",{className:"kyc-modal-form-grid",children:[(0,i.jsxs)("div",{className:"kyc-modal-form-group",children:[(0,i.jsx)("label",{children:"Aadhar Number:"}),(0,i.jsx)("input",{type:"text",value:v,onChange:e=>j(e.target.value),placeholder:"Enter 12-digit Aadhar number",maxLength:"12",className:v.length>0&&12!==v.length?"kyc-modal-error":""}),v.length>0&&12!==v.length&&(0,i.jsx)("span",{className:"kyc-modal-error-text",children:"Aadhar number must be 12 digits"})]}),(0,i.jsxs)("div",{className:"kyc-modal-form-group",children:[(0,i.jsx)("label",{children:"PAN Number:"}),(0,i.jsx)("input",{type:"text",value:x,onChange:e=>p(e.target.value.toUpperCase()),placeholder:"Enter PAN number (e.g., ABCDE1234F)",maxLength:"10",className:x.length>0&&10!==x.length?"kyc-modal-error":""}),x.length>0&&10!==x.length&&(0,i.jsx)("span",{className:"kyc-modal-error-text",children:"PAN number must be 10 characters"})]})]}),(!v.trim()||!x.trim())&&(0,i.jsx)("div",{className:"kyc-modal-document-warning",children:"\u26a0\ufe0f Both Aadhar Number and PAN Number are required for KYC approval"})]}),(0,i.jsxs)("div",{className:"kyc-modal-kyc-actions",children:[(0,i.jsx)("h3",{children:"KYC Action"}),(0,i.jsxs)("div",{className:"kyc-modal-action-buttons",children:[(0,i.jsx)("button",{className:"kyc-modal-action-btn "+("approve"===m?"active":""),onClick:()=>h("approve"),disabled:!v.trim()||!x.trim()||12!==v.length||10!==x.length,title:v.trim()&&x.trim()&&12===v.length&&10===x.length?"":"Both Aadhar and PAN numbers must be filled correctly for approval",children:"\u2705 Approve"}),(0,i.jsx)("button",{className:"kyc-modal-action-btn "+("refer-back"===m?"active":""),onClick:()=>h("refer-back"),children:"\ud83d\udcdd Refer Back"}),(0,i.jsx)("button",{className:"kyc-modal-action-btn "+("reject"===m?"active":""),onClick:()=>h("reject"),children:"\u274c Reject"})]}),("reject"===m||"refer-back"===m)&&(0,i.jsxs)("div",{className:"kyc-modal-reason-section",children:[(0,i.jsx)("label",{htmlFor:"reason",children:"Reason:"}),(0,i.jsx)("textarea",{id:"reason",value:d,onChange:e=>o(e.target.value),placeholder:`Enter reason for ${"reject"===m?"rejection":"refer back"}...`,rows:"4",className:"kyc-modal-reason-textarea"})]})]})]}),(0,i.jsxs)("div",{className:"kyc-modal-footer",children:[(0,i.jsx)("button",{className:"kyc-modal-action-btn kyc-modal-secondary",onClick:n,children:"Cancel"}),(0,i.jsx)("button",{className:"kyc-modal-action-btn kyc-modal-primary",onClick:()=>{if(m)if("approve"!==m||v.trim()&&x.trim())if("reject"!==m&&"refer-back"!==m||d.trim()){switch(m){case"approve":c(a.id,{aadharNumber:v,panNumber:x});break;case"reject":l(a.id,d);break;case"refer-back":t(a.id,d)}n()}else alert("Please provide a reason");else alert("Please fill both Aadhar Number and PAN Number before approving");else alert("Please select an action")},disabled:!m||("reject"===m||"refer-back"===m)&&!d.trim()||"approve"===m&&(!v.trim()||!x.trim()||12!==v.length||10!==x.length),children:"Submit Action"})]})]})}):null};var d=a(8022),o=a(2343),m=(a(8756),a(838)),h=a(2064),v=a(476),j=a(7105),x=a(4801);const p=()=>{const{user:e,logout:s}=(0,n.As)(),[a,p]=(0,r.useState)("overview"),[u,N]=(0,r.useState)([]),[g,k]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[f,C]=(0,r.useState)(null),[w,A]=(0,r.useState)(!1),[E,S]=(0,r.useState)(null),[R,P]=(0,r.useState)(!1),[D,B]=(0,r.useState)(null),[K,Y]=(0,r.useState)(null),[I,T]=(0,r.useState)(!1),[F,G]=(0,r.useState)(!1),[M,O]=(0,r.useState)(null),[$,J]=(0,r.useState)({kycStatus:"",assignedDate:""}),[L,_]=(0,r.useState)(!1);(0,r.useEffect)((()=>{V()}),[]);const V=async()=>{try{if(console.log("\ud83d\udd04 Fetching assigned farmers for employee..."),console.log("\ud83d\udc64 Current user:",e),!e)return console.error("\u274c No user available"),void N([]);const s=await v.JL.getAssignedFarmers();if(console.log("\u2705 API Response:",s),s&&Array.isArray(s)){const a=s.map((s=>({id:s.id,name:s.name,phone:s.contactNumber,state:s.state,district:s.district,location:`${s.district}, ${s.state}`,kycStatus:s.kycStatus||"PENDING",lastAction:s.kycReviewedDate||s.kycSubmittedDate||(new Date).toISOString().split("T")[0],notes:`KYC Status: ${s.kycStatus||"PENDING"}`,assignedEmployee:e.name||"Employee"})));N(a),console.log("\u2705 Assigned farmers loaded from API:",a.length)}else console.log("\u26a0\ufe0f No API data available"),N([])}catch(s){console.error("\u274c Error fetching assigned farmers:",s),N([])}},U=()=>({totalAssigned:u.length,approved:u.filter((e=>"APPROVED"===e.kycStatus)).length,pending:u.filter((e=>"PENDING"===e.kycStatus)).length,referBack:u.filter((e=>"REFER_BACK"===e.kycStatus)).length,rejected:u.filter((e=>"REJECTED"===e.kycStatus)).length}),q=()=>({newAssignments:u.filter((e=>{const s=new Date(e.assignedDate);return(new Date-s)/864e5<=3&&"PENDING"===e.kycStatus})),pendingReviews:u.filter((e=>"PENDING"===e.kycStatus)),referBackCases:u.filter((e=>"REFER_BACK"===e.kycStatus))}),H=async function(s,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{console.log(`\ud83d\udd04 Updating KYC status for farmer ${s} to ${a}`);const c={reason:r,updatedBy:(null===e||void 0===e?void 0:e.name)||"Employee",updatedAt:(new Date).toISOString(),...n&&{aadharNumber:n.aadharNumber,panNumber:n.panNumber}};let l;switch(console.log("\ud83d\udccb Approval data:",c),a){case"APPROVED":default:l=await v.kM.approveKYC(s,c);break;case"REJECTED":l=await v.kM.rejectKYC(s,c);break;case"REFER_BACK":l=await v.kM.referBackKYC(s,c)}console.log("\u2705 KYC API response:",l),N((c=>c.map((c=>c.id===s?{...c,kycStatus:a,lastAction:(new Date).toISOString().split("T")[0],notes:r||`Status updated to ${a} by ${(null===e||void 0===e?void 0:e.name)||"Employee"}`,...n&&{aadharNumber:n.aadharNumber,panNumber:n.panNumber}}:c)))),alert(`KYC status updated to ${a} successfully!`),window.dispatchEvent(new CustomEvent("kycStatusUpdated",{detail:{farmerId:s,newStatus:a,reason:r,documents:n}}))}catch(l){var c;console.error("\u274c Error updating KYC status:",l),alert(`Failed to update KYC status: ${(null===(c=l.response)||void 0===c?void 0:c.data)||l.message}`)}},W=e=>{S(e),A(!0)},z=e=>{Y(e),k(!0)};return(0,i.jsxs)("div",{className:"dashboard",children:[(0,i.jsxs)("div",{className:"top-bar",children:[(0,i.jsxs)("div",{className:"top-bar-left",children:[(0,i.jsx)("div",{className:"logo-container",children:(0,i.jsxs)("div",{className:"logo-text",children:[(0,i.jsx)("h1",{className:"logo-title",children:"DATE"}),(0,i.jsx)("p",{className:"logo-subtitle",children:"Digital Agristack Transaction Enterprises"})]})}),(0,i.jsx)("div",{className:"date-display",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,i.jsxs)("div",{className:"top-bar-right",children:[(0,i.jsx)(c.A,{}),(0,i.jsx)(h.A,{onLogout:()=>{s()},onShowChangePassword:()=>T(!0),onShowChangeUserId:()=>G(!0)})]})]}),(0,i.jsxs)("aside",{className:"dashboard-sidebar",children:[(0,i.jsx)("div",{className:"sidebar-header",children:(0,i.jsxs)("div",{className:"logo",children:[(0,i.jsx)("div",{className:"logo-text",children:"Welcome !!!"}),(0,i.jsx)("div",{className:"logo-subtitle",children:"Employee"})]})}),(0,i.jsxs)("nav",{className:"sidebar-nav",children:[(0,i.jsx)("button",{className:"nav-item "+("overview"===a?"active":""),onClick:()=>p("overview"),children:"\ud83d\udcca Overview"}),(0,i.jsx)("button",{className:"nav-item "+("farmers"===a?"active":""),onClick:()=>p("farmers"),children:"\ud83d\udc68\u200d\ud83c\udf3e Assigned Farmers"}),(0,i.jsx)("button",{className:"nav-item "+("progress"===a?"active":""),onClick:()=>p("progress"),children:"\ud83d\udcc8 KYC Progress"}),(0,i.jsx)("button",{className:"nav-item "+("todo"===a?"active":""),onClick:()=>p("todo"),children:"\ud83d\udccb To-Do List"}),(0,i.jsx)("button",{className:"nav-item "+("kyc-summary"===a?"active":""),onClick:()=>p("kyc-summary"),children:"\ud83d\udcdd KYC Summary"})]})]}),(0,i.jsx)("div",{className:"dashboard-main",children:(0,i.jsxs)("div",{className:"dashboard-content",children:["overview"===a&&(0,i.jsx)("header",{className:"dashboard-header",children:(0,i.jsx)("div",{className:"header-center",children:(0,i.jsxs)("div",{className:"welcome-message",children:[(0,i.jsxs)("h2",{className:"greeting",children:[(()=>{const e=(new Date).getHours();return e>=5&&e<12?"Good Morning":e>=12&&e<17?"Good Afternoon":e>=17&&e<21?"Good Evening":"Good Night"})(),", ",(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.email)||"Employee","! \ud83c\udf8b"]}),(0,i.jsx)("p",{className:"welcome-text",children:"Manage your assigned farmers and KYC verification tasks efficiently."})]})})}),I&&e&&(0,i.jsx)("div",{className:"dashboard-form-container",children:(0,i.jsx)(j.A,{user:e,isOpen:!0,isInDashboard:!0,onClose:()=>T(!1),onSuccess:()=>{O("Password changed successfully!"),T(!1),setTimeout((()=>O(null)),3e3)}})}),F&&e&&(0,i.jsx)("div",{className:"dashboard-form-container",children:(0,i.jsx)(x.A,{user:e,isOpen:!0,isInDashboard:!0,onClose:()=>G(!1),onSuccess:()=>{O("User ID changed successfully!"),G(!1),setTimeout((()=>O(null)),3e3)}})}),g?(0,i.jsx)("div",{className:"dashboard-form-container",children:(0,i.jsx)(l.A,{isInDashboard:!0,editData:K,onClose:()=>{k(!1),Y(null)},onSubmit:async e=>{try{N((s=>[...s,{...e,id:Date.now()}])),k(!1),Y(null),alert("Farmer saved successfully!")}catch(s){console.error("Error saving farmer:",s),alert("Failed to save farmer. Please try again.")}}})}):(0,i.jsxs)(i.Fragment,{children:["overview"===a&&(()=>{const e=U(),s=q();return(0,i.jsxs)("div",{className:"overview-section",children:[(0,i.jsxs)("div",{className:"overview-header",children:[(0,i.jsx)("h2",{className:"overview-title",children:"Employee Dashboard Overview"}),(0,i.jsx)("p",{className:"overview-description",children:"Manage your assigned farmers and KYC verification tasks efficiently."})]}),(0,i.jsxs)("div",{className:"stats-grid",children:[(0,i.jsxs)("div",{className:"stats-card assigned",children:[(0,i.jsx)("h3",{className:"stats-title",children:"Total Assigned"}),(0,i.jsx)("div",{className:"stats-number",children:e.totalAssigned})]}),(0,i.jsxs)("div",{className:"stats-card approved",children:[(0,i.jsx)("h3",{className:"stats-title",children:"Approved"}),(0,i.jsx)("div",{className:"stats-number",children:e.approved})]}),(0,i.jsxs)("div",{className:"stats-card pending",children:[(0,i.jsx)("h3",{className:"stats-title",children:"Pending"}),(0,i.jsx)("div",{className:"stats-number",children:e.pending})]}),(0,i.jsxs)("div",{className:"stats-card refer",children:[(0,i.jsx)("h3",{className:"stats-title",children:"Refer Back"}),(0,i.jsx)("div",{className:"stats-number",children:e.referBack})]})]}),(0,i.jsxs)("div",{className:"kyc-progress-section",children:[(0,i.jsx)("h3",{children:"KYC Progress Summary"}),(0,i.jsxs)("div",{className:"kyc-progress-grid",children:[(0,i.jsx)("div",{className:"progress-card approved",children:(0,i.jsxs)("div",{className:"progress-circle",children:[(0,i.jsx)("span",{className:"progress-number",children:e.approved}),(0,i.jsx)("span",{className:"progress-label",children:"Approved"})]})}),(0,i.jsx)("div",{className:"progress-card pending",children:(0,i.jsxs)("div",{className:"progress-circle",children:[(0,i.jsx)("span",{className:"progress-number",children:e.pending}),(0,i.jsx)("span",{className:"progress-label",children:"Pending"})]})}),(0,i.jsx)("div",{className:"progress-card refer-back",children:(0,i.jsxs)("div",{className:"progress-circle",children:[(0,i.jsx)("span",{className:"progress-number",children:e.referBack}),(0,i.jsx)("span",{className:"progress-label",children:"Refer Back"})]})}),(0,i.jsx)("div",{className:"progress-card rejected",children:(0,i.jsxs)("div",{className:"progress-circle",children:[(0,i.jsx)("span",{className:"progress-number",children:e.rejected}),(0,i.jsx)("span",{className:"progress-label",children:"Rejected"})]})})]})]}),(0,i.jsxs)("div",{className:"todo-section",children:[(0,i.jsx)("h3",{children:"To-Do List"}),(0,i.jsxs)("div",{className:"todo-grid",children:[(0,i.jsxs)("div",{className:"todo-card high-priority",children:[(0,i.jsx)("h4",{children:"New Assignments"}),(0,i.jsxs)("p",{children:[s.newAssignments.length," new farmers assigned"]}),(0,i.jsx)("button",{className:"action-btn-small primary",onClick:()=>p("farmers"),children:"Review New"})]}),(0,i.jsxs)("div",{className:"todo-card medium-priority",children:[(0,i.jsx)("h4",{children:"Pending Reviews"}),(0,i.jsxs)("p",{children:[s.pendingReviews.length," cases pending"]}),(0,i.jsx)("button",{className:"action-btn-small warning",onClick:()=>p("farmers"),children:"Process Pending"})]}),(0,i.jsxs)("div",{className:"todo-card urgent-priority",children:[(0,i.jsx)("h4",{children:"Refer Back Cases"}),(0,i.jsxs)("p",{children:[s.referBackCases.length," need attention"]}),(0,i.jsx)("button",{className:"action-btn-small info",onClick:()=>p("farmers"),children:"Review Refer Back"})]})]})]})]})})(),"farmers"===a&&(()=>{const e=u.filter((e=>{const s=!$.kycStatus||e.kycStatus===$.kycStatus,a=!$.assignedDate||e.assignedDate===$.assignedDate;return s&&a}));return(0,i.jsxs)("div",{className:"overview-section",children:[(0,i.jsxs)("div",{className:"overview-header",children:[(0,i.jsx)("h2",{className:"overview-title",children:"Assigned Farmers"}),(0,i.jsx)("p",{className:"overview-description",children:"View and manage your assigned farmers with KYC verification tasks."}),(0,i.jsx)("div",{className:"overview-actions",children:(0,i.jsx)("button",{className:"action-btn primary",onClick:()=>k(!0),children:"Add Farmer"})})]}),(0,i.jsxs)("div",{className:"filters-section",children:[(0,i.jsxs)("select",{value:$.kycStatus,onChange:e=>J((s=>({...s,kycStatus:e.target.value}))),className:"filter-select",children:[(0,i.jsx)("option",{value:"",children:"All KYC Status"}),(0,i.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,i.jsx)("option",{value:"PENDING",children:"Pending"}),(0,i.jsx)("option",{value:"REFER_BACK",children:"Refer Back"}),(0,i.jsx)("option",{value:"REJECTED",children:"Rejected"})]}),(0,i.jsxs)("select",{value:$.assignedDate,onChange:e=>J((s=>({...s,assignedDate:e.target.value}))),className:"filter-select",children:[(0,i.jsx)("option",{value:"",children:"All Assignment Dates"}),(0,i.jsx)("option",{value:"2024-01-15",children:"Jan 15, 2024"}),(0,i.jsx)("option",{value:"2024-01-18",children:"Jan 18, 2024"}),(0,i.jsx)("option",{value:"2024-01-20",children:"Jan 20, 2024"}),(0,i.jsx)("option",{value:"2024-01-25",children:"Jan 25, 2024"})]})]}),(0,i.jsx)("div",{className:"kyc-tabs-section",children:(0,i.jsxs)("div",{className:"kyc-tabs",children:[(0,i.jsxs)("button",{className:"kyc-tab "+(""===$.kycStatus?"active":""),onClick:()=>J((e=>({...e,kycStatus:""}))),children:[(0,i.jsx)("span",{className:"tab-icon",children:"\ud83d\udcca"}),(0,i.jsx)("span",{className:"tab-label",children:"All"}),(0,i.jsx)("span",{className:"tab-count",children:e.length})]}),(0,i.jsxs)("button",{className:"kyc-tab approved "+("APPROVED"===$.kycStatus?"active":""),onClick:()=>J((e=>({...e,kycStatus:"APPROVED"}))),children:[(0,i.jsx)("span",{className:"tab-icon",children:"\u2705"}),(0,i.jsx)("span",{className:"tab-label",children:"Approved"}),(0,i.jsx)("span",{className:"tab-count",children:e.filter((e=>"APPROVED"===e.kycStatus)).length})]}),(0,i.jsxs)("button",{className:"kyc-tab pending "+("PENDING"===$.kycStatus?"active":""),onClick:()=>J((e=>({...e,kycStatus:"PENDING"}))),children:[(0,i.jsx)("span",{className:"tab-icon",children:"\u23f3"}),(0,i.jsx)("span",{className:"tab-label",children:"Pending"}),(0,i.jsx)("span",{className:"tab-count",children:e.filter((e=>"PENDING"===e.kycStatus)).length})]}),(0,i.jsxs)("button",{className:"kyc-tab rejected "+("REJECTED"===$.kycStatus?"active":""),onClick:()=>J((e=>({...e,kycStatus:"REJECTED"}))),children:[(0,i.jsx)("span",{className:"tab-icon",children:"\u274c"}),(0,i.jsx)("span",{className:"tab-label",children:"Rejected"}),(0,i.jsx)("span",{className:"tab-count",children:e.filter((e=>"REJECTED"===e.kycStatus)).length})]})]})}),(0,i.jsx)(m.A,{data:e,columns:[{key:"name",label:"Name"},{key:"phone",label:"Phone"},{key:"location",label:"Location"},{key:"assignedDate",label:"Assigned Date"},{key:"kycStatus",label:"KYC Status"},{key:"lastAction",label:"Last Action"}],customActions:[{label:"View",icon:"\ud83d\udc41\ufe0f",className:"info",onClick:W},{label:"Edit",icon:"\u270f\ufe0f",className:"primary",onClick:z},{label:"KYC",icon:"\ud83d\udccb",className:"warning",onClick:e=>{C(e),y(!0)}},{label:"Approve",icon:"\u2705",className:"success",onClick:e=>H(e.id,"APPROVED"),showCondition:e=>"PENDING"===e.kycStatus||"REFER_BACK"===e.kycStatus},{label:"Refer Back",icon:"\ud83d\udd04",className:"warning",onClick:e=>{const s=prompt("Enter reason for refer back:");s&&H(e.id,"REFER_BACK",s)},showCondition:e=>"PENDING"===e.kycStatus},{label:"Reject",icon:"\u274c",className:"danger",onClick:e=>{const s=prompt("Enter reason for rejection:");s&&H(e.id,"REJECTED",s)},showCondition:e=>"PENDING"===e.kycStatus||"REFER_BACK"===e.kycStatus}]})]})})(),"progress"===a&&(()=>{const e=U(),s=e.totalAssigned,a=s>0?Math.round(e.approved/s*100):0,r=s>0?Math.round(e.pending/s*100):0,n=s>0?Math.round(e.referBack/s*100):0,c=s>0?Math.round(e.rejected/s*100):0;return(0,i.jsxs)("div",{className:"overview-section",children:[(0,i.jsxs)("div",{className:"overview-header",children:[(0,i.jsx)("h2",{className:"overview-title",children:"KYC Progress Tracking"}),(0,i.jsx)("p",{className:"overview-description",children:"Monitor your KYC verification progress and performance metrics."})]}),(0,i.jsx)("div",{className:"progress-overview",children:(0,i.jsx)("div",{className:"progress-stats",children:(0,i.jsxs)("div",{className:"progress-stat",children:[(0,i.jsx)("h3",{children:"Overall Progress"}),(0,i.jsxs)("div",{className:"progress-bar",children:[(0,i.jsx)("div",{className:"progress-fill approved",style:{width:`${a}%`}}),(0,i.jsx)("div",{className:"progress-fill pending",style:{width:`${r}%`}}),(0,i.jsx)("div",{className:"progress-fill refer-back",style:{width:`${n}%`}}),(0,i.jsx)("div",{className:"progress-fill rejected",style:{width:`${c}%`}})]}),(0,i.jsxs)("div",{className:"progress-labels",children:[(0,i.jsxs)("span",{children:["Approved: ",a,"%"]}),(0,i.jsxs)("span",{children:["Pending: ",r,"%"]}),(0,i.jsxs)("span",{children:["Refer Back: ",n,"%"]}),(0,i.jsxs)("span",{children:["Rejected: ",c,"%"]})]})]})})}),(0,i.jsxs)("div",{className:"detailed-stats",children:[(0,i.jsxs)("div",{className:"stat-card approved",children:[(0,i.jsx)("h4",{children:"Approved Cases"}),(0,i.jsxs)("div",{className:"stat-content",children:[(0,i.jsx)("span",{className:"stat-number",children:e.approved}),(0,i.jsxs)("span",{className:"stat-percentage",children:[a,"%"]})]})]}),(0,i.jsxs)("div",{className:"stat-card pending",children:[(0,i.jsx)("h4",{children:"Pending Cases"}),(0,i.jsxs)("div",{className:"stat-content",children:[(0,i.jsx)("span",{className:"stat-number",children:e.pending}),(0,i.jsxs)("span",{className:"stat-percentage",children:[r,"%"]})]})]}),(0,i.jsxs)("div",{className:"stat-card refer-back",children:[(0,i.jsx)("h4",{children:"Refer Back Cases"}),(0,i.jsxs)("div",{className:"stat-content",children:[(0,i.jsx)("span",{className:"stat-number",children:e.referBack}),(0,i.jsxs)("span",{className:"stat-percentage",children:[n,"%"]})]})]}),(0,i.jsxs)("div",{className:"stat-card rejected",children:[(0,i.jsx)("h4",{children:"Rejected Cases"}),(0,i.jsxs)("div",{className:"stat-content",children:[(0,i.jsx)("span",{className:"stat-number",children:e.rejected}),(0,i.jsxs)("span",{className:"stat-percentage",children:[c,"%"]})]})]})]})]})})(),"todo"===a&&(()=>{const e=q();return(0,i.jsxs)("div",{className:"overview-section",children:[(0,i.jsxs)("div",{className:"overview-header",children:[(0,i.jsx)("h2",{className:"overview-title",children:"To-Do List"}),(0,i.jsx)("p",{className:"overview-description",children:"Manage your daily tasks and priorities for KYC verification."})]}),(0,i.jsxs)("div",{className:"todo-grid",children:[(0,i.jsxs)("div",{className:"todo-card high-priority",children:[(0,i.jsx)("div",{className:"priority-badge high",children:"High Priority"}),(0,i.jsx)("h4",{children:"New KYC Reviews"}),(0,i.jsxs)("p",{children:[e.newAssignments.length," new farmers need KYC verification"]}),(0,i.jsx)("button",{className:"action-btn-small primary",onClick:()=>p("farmers"),children:"Review Now"})]}),(0,i.jsxs)("div",{className:"todo-card medium-priority",children:[(0,i.jsx)("div",{className:"priority-badge medium",children:"Medium Priority"}),(0,i.jsx)("h4",{children:"Pending Reviews"}),(0,i.jsxs)("p",{children:[e.pendingReviews.length," cases awaiting your review"]}),(0,i.jsx)("button",{className:"action-btn-small warning",onClick:()=>p("farmers"),children:"Process Pending"})]}),(0,i.jsxs)("div",{className:"todo-card urgent-priority",children:[(0,i.jsx)("div",{className:"priority-badge urgent",children:"Urgent"}),(0,i.jsx)("h4",{children:"Refer Back Cases"}),(0,i.jsxs)("p",{children:[e.referBackCases.length," cases need immediate attention"]}),(0,i.jsx)("button",{className:"action-btn-small danger",onClick:()=>p("farmers"),children:"Review Urgent"})]})]}),(0,i.jsxs)("div",{className:"task-summary",children:[(0,i.jsx)("h3",{children:"Task Summary"}),(0,i.jsxs)("div",{className:"task-stats",children:[(0,i.jsxs)("div",{className:"task-stat assignments",children:[(0,i.jsx)("span",{className:"task-number",children:e.newAssignments.length}),(0,i.jsx)("span",{className:"task-label",children:"New Assignments"})]}),(0,i.jsxs)("div",{className:"task-stat pending",children:[(0,i.jsx)("span",{className:"task-number",children:e.pendingReviews.length}),(0,i.jsx)("span",{className:"task-label",children:"Pending Reviews"})]}),(0,i.jsxs)("div",{className:"task-stat referback",children:[(0,i.jsx)("span",{className:"task-number",children:e.referBackCases.length}),(0,i.jsx)("span",{className:"task-label",children:"Refer Back"})]})]})]})]})})(),"kyc-summary"===a&&(()=>{const e=U();return(0,i.jsxs)("div",{className:"overview-section",children:[(0,i.jsxs)("div",{className:"overview-header",children:[(0,i.jsx)("h2",{className:"overview-title",children:"KYC Summary"}),(0,i.jsx)("p",{className:"overview-description",children:"Comprehensive overview of your KYC verification activities and performance."})]}),(0,i.jsxs)("div",{className:"kyc-stats-grid",children:[(0,i.jsxs)("div",{className:"kyc-stat-card approved",children:[(0,i.jsx)("div",{className:"kyc-stat-icon",children:"\u2705"}),(0,i.jsxs)("div",{className:"kyc-stat-content",children:[(0,i.jsx)("span",{className:"kyc-stat-number",children:e.approved}),(0,i.jsx)("span",{className:"kyc-stat-label",children:"Approved"})]})]}),(0,i.jsxs)("div",{className:"kyc-stat-card pending",children:[(0,i.jsx)("div",{className:"kyc-stat-icon",children:"\u23f3"}),(0,i.jsxs)("div",{className:"kyc-stat-content",children:[(0,i.jsx)("span",{className:"kyc-stat-number",children:e.pending}),(0,i.jsx)("span",{className:"kyc-stat-label",children:"Pending"})]})]}),(0,i.jsxs)("div",{className:"kyc-stat-card refer-back",children:[(0,i.jsx)("div",{className:"kyc-stat-icon",children:"\ud83d\udcdd"}),(0,i.jsxs)("div",{className:"kyc-stat-content",children:[(0,i.jsx)("span",{className:"kyc-stat-number",children:e.referBack}),(0,i.jsx)("span",{className:"kyc-stat-label",children:"Refer Back"})]})]}),(0,i.jsxs)("div",{className:"kyc-stat-card rejected",children:[(0,i.jsx)("div",{className:"kyc-stat-icon",children:"\u274c"}),(0,i.jsxs)("div",{className:"kyc-stat-content",children:[(0,i.jsx)("span",{className:"kyc-stat-number",children:e.rejected}),(0,i.jsx)("span",{className:"kyc-stat-label",children:"Rejected"})]})]})]}),(0,i.jsxs)("div",{className:"kyc-performance",children:[(0,i.jsx)("h3",{children:"Performance Metrics"}),(0,i.jsxs)("div",{className:"performance-metrics",children:[(0,i.jsxs)("div",{className:"metric-card rate",children:[(0,i.jsx)("h4",{children:"Approval Rate"}),(0,i.jsxs)("span",{className:"metric-value",children:[e.totalAssigned>0?Math.round(e.approved/e.totalAssigned*100):0,"%"]})]}),(0,i.jsxs)("div",{className:"metric-card time",children:[(0,i.jsx)("h4",{children:"Processing Time"}),(0,i.jsx)("span",{className:"metric-value",children:"2.3 days"})]}),(0,i.jsxs)("div",{className:"metric-card success",children:[(0,i.jsx)("h4",{children:"Success Rate"}),(0,i.jsxs)("span",{className:"metric-value",children:[e.totalAssigned>0?Math.round((e.approved+e.pending)/e.totalAssigned*100):0,"%"]})]})]})]})]})})()]}),M&&(0,i.jsx)("div",{className:"notification-toast",children:M})]})}),b&&f&&(0,i.jsx)(t,{farmer:f,onClose:()=>{y(!1),C(null)},onApprove:(e,s)=>H(e,"APPROVED","",s),onReject:(e,s)=>H(e,"REJECTED",s),onReferBack:(e,s)=>H(e,"REFER_BACK",s)}),w&&E&&(0,i.jsx)(d.A,{farmerData:E,onClose:()=>{A(!1),S(null)}}),R&&D&&(0,i.jsx)(o.A,{employee:D,onClose:()=>{P(!1),B(null)},onUpdate:e=>{P(!1),B(null)}})]})}},8756:(e,s,a)=>{a(5043),a(579)}}]);
//# sourceMappingURL=180.d5ab5eeb.chunk.js.map