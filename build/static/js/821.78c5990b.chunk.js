"use strict";(self.webpackChunkagristack_farmer_management=self.webpackChunkagristack_farmer_management||[]).push([[821],{2064:(e,s,a)=>{a.d(s,{A:()=>i});var r=a(5043),n=a(5016),l=(a(5812),a(579));const i=e=>{let{variant:s="default"}=e;const{user:a,logout:i}=(0,n.As)(),[o,c]=(0,r.useState)(!1),[d,t]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),[p,j]=(0,r.useState)(!1),[N,f]=(0,r.useState)(!1),v=(0,r.useRef)(null),[w,g]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[b,C]=(0,r.useState)({currentUserId:"",newUserId:"",confirmUserId:""}),[y]=(0,r.useState)([{id:1,type:"info",message:"New farmer registration pending approval",time:"2 minutes ago"},{id:2,type:"warning",message:"KYC verification overdue for 3 farmers",time:"1 hour ago"},{id:3,type:"success",message:"Employee assignment completed successfully",time:"3 hours ago"}]);(0,r.useEffect)((()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const k=()=>{i(),window.location.href="/login"},U=()=>{if(null!==a&&void 0!==a&&a.name)return a.name;if(null!==a&&void 0!==a&&a.userName){switch(a.role||"USER"){case"ADMIN":return"Admin User";case"SUPER_ADMIN":return"Super Admin User";case"EMPLOYEE":return"Employee User";case"FARMER":return"Farmer User";default:return a.userName}}return"User"},P=()=>null!==a&&void 0!==a&&a.role?a.role.replace("_"," "):"USER",I=()=>{const e=U();return(s=e)?s.split(" ").map((e=>e[0])).join("").toUpperCase().slice(0,2):"U";var s},S=()=>(null===a||void 0===a?void 0:a.email)||`${(null===a||void 0===a?void 0:a.userName)||"user"}@date.com`;return"compact"===s?(0,l.jsxs)("div",{className:"user-profile-dropdown-component compact",ref:v,children:[(0,l.jsxs)("div",{className:"user-profile-dropdown-trigger compact",onClick:()=>c(!o),title:"User Menu",children:[(0,l.jsx)("div",{className:"user-profile-dropdown-avatar-compact",children:I()}),(0,l.jsx)("i",{className:"fas fa-chevron-down user-profile-dropdown-arrow "+(o?"rotated":"")})]}),o&&(0,l.jsxs)("div",{className:"user-profile-dropdown-menu compact",children:[(0,l.jsxs)("div",{className:"user-profile-dropdown-header",children:[(0,l.jsx)("div",{className:"user-profile-dropdown-avatar-large",children:I()}),(0,l.jsxs)("div",{className:"user-profile-dropdown-details",children:[(0,l.jsx)("span",{className:"user-profile-dropdown-name-large",children:U()}),(0,l.jsx)("span",{className:"user-profile-dropdown-role",children:P()}),(0,l.jsx)("span",{className:"user-profile-dropdown-email",children:S()})]})]}),(0,l.jsxs)("div",{className:"user-profile-dropdown-actions",children:[(0,l.jsxs)("button",{className:"user-profile-dropdown-action-btn",onClick:()=>t(!0),children:[(0,l.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,l.jsxs)("button",{className:"user-profile-dropdown-action-btn",onClick:()=>u(!0),children:[(0,l.jsx)("i",{className:"fas fa-user-edit"}),"Change User ID"]}),(0,l.jsxs)("button",{className:"user-profile-dropdown-action-btn logout",onClick:k,children:[(0,l.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]}):"enhanced"===s?(0,l.jsxs)("div",{className:"user-profile-dropdown enhanced",ref:v,children:[(0,l.jsxs)("div",{className:"enhanced-user-header",children:[(0,l.jsxs)("div",{className:"user-profile-section",children:[(0,l.jsxs)("div",{className:"user-profile-info",children:[(0,l.jsxs)("div",{className:"user-avatar-container",children:[(0,l.jsx)("div",{className:"user-avatar-large",children:I()}),(0,l.jsx)("div",{className:"user-status-indicator online"})]}),(0,l.jsxs)("div",{className:"user-details",children:[(0,l.jsx)("span",{className:"user-name-display",children:U()}),(0,l.jsx)("span",{className:"user-role-display",children:P()}),(0,l.jsx)("span",{className:"user-email-display",children:S()})]})]}),(0,l.jsxs)("div",{className:"user-actions",children:[(0,l.jsxs)("button",{className:"header-action-btn",title:"Notifications",onClick:()=>x(!0),children:[(0,l.jsx)("i",{className:"fas fa-bell"}),(0,l.jsx)("span",{className:"notification-badge",children:y.length})]}),(0,l.jsx)("button",{className:"header-action-btn",title:"Settings",onClick:()=>j(!0),children:(0,l.jsx)("i",{className:"fas fa-cog"})}),(0,l.jsx)("button",{className:"header-action-btn",title:"Help",onClick:()=>f(!0),children:(0,l.jsx)("i",{className:"fas fa-question-circle"})})]})]}),(0,l.jsx)("div",{className:"user-profile-trigger",onClick:()=>c(!o),title:"User Menu",children:(0,l.jsx)("i",{className:"fas fa-chevron-down dropdown-arrow "+(o?"rotated":"")})})]}),o&&(0,l.jsxs)("div",{className:"user-dropdown-menu enhanced",children:[(0,l.jsxs)("div",{className:"dropdown-header",children:[(0,l.jsx)("div",{className:"user-avatar-large",children:I()}),(0,l.jsxs)("div",{className:"user-details",children:[(0,l.jsx)("span",{className:"user-name-large",children:U()}),(0,l.jsx)("span",{className:"user-role",children:P()}),(0,l.jsx)("span",{className:"user-email",children:S()})]})]}),(0,l.jsxs)("div",{className:"dropdown-actions",children:[(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>t(!0),children:[(0,l.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>u(!0),children:[(0,l.jsx)("i",{className:"fas fa-user-edit"}),"Change User ID"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>j(!0),children:[(0,l.jsx)("i",{className:"fas fa-cog"}),"Settings"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>f(!0),children:[(0,l.jsx)("i",{className:"fas fa-question-circle"}),"Help & Support"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn logout",onClick:k,children:[(0,l.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})]}):(0,l.jsxs)("div",{className:"user-profile-dropdown",ref:v,children:[(0,l.jsxs)("div",{className:"user-profile-trigger",onClick:()=>c(!o),children:[(0,l.jsx)("div",{className:"user-avatar",children:I()}),(0,l.jsxs)("div",{className:"user-info",children:[(0,l.jsx)("span",{className:"user-name",children:U()}),(0,l.jsx)("span",{className:"user-role",children:P()})]}),(0,l.jsx)("i",{className:"fas fa-chevron-down dropdown-arrow "+(o?"rotated":"")})]}),o&&(0,l.jsxs)("div",{className:"user-dropdown-menu",children:[(0,l.jsxs)("div",{className:"dropdown-header",children:[(0,l.jsx)("div",{className:"user-avatar-large",children:I()}),(0,l.jsxs)("div",{className:"user-details",children:[(0,l.jsx)("span",{className:"user-name-large",children:U()}),(0,l.jsx)("span",{className:"user-role",children:P()}),(0,l.jsx)("span",{className:"user-email",children:S()})]})]}),(0,l.jsxs)("div",{className:"dropdown-actions",children:[(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>t(!0),children:[(0,l.jsx)("i",{className:"fas fa-key"}),"Change Password"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn",onClick:()=>u(!0),children:[(0,l.jsx)("i",{className:"fas fa-user-edit"}),"Change User ID"]}),(0,l.jsxs)("button",{className:"dropdown-action-btn logout",onClick:k,children:[(0,l.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]}),d&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Change Password"}),(0,l.jsx)("button",{className:"modal-close",onClick:()=>t(!1),children:(0,l.jsx)("i",{className:"fas fa-times"})})]}),(0,l.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),w.newPassword===w.confirmPassword)if(w.newPassword.length<6)alert("New password must be at least 6 characters long!");else try{alert("Password changed successfully!"),t(!1),g({currentPassword:"",newPassword:"",confirmPassword:""})}catch(s){alert("Failed to change password. Please try again.")}else alert("New passwords do not match!")},children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"currentPassword",children:"Current Password"}),(0,l.jsx)("input",{type:"password",id:"currentPassword",value:w.currentPassword,onChange:e=>g((s=>({...s,currentPassword:e.target.value}))),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),(0,l.jsx)("input",{type:"password",id:"newPassword",value:w.newPassword,onChange:e=>g((s=>({...s,newPassword:e.target.value}))),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,l.jsx)("input",{type:"password",id:"confirmPassword",value:w.confirmPassword,onChange:e=>g((s=>({...s,confirmPassword:e.target.value}))),required:!0})]}),(0,l.jsxs)("div",{className:"modal-footer",children:[(0,l.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>t(!1),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn-primary",children:"Change Password"})]})]})]})}),m&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Change User ID"}),(0,l.jsx)("button",{className:"modal-close",onClick:()=>u(!1),children:(0,l.jsx)("i",{className:"fas fa-times"})})]}),(0,l.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b.newUserId===b.confirmUserId)if(b.newUserId.length<3)alert("New User ID must be at least 3 characters long!");else try{alert("User ID changed successfully!"),u(!1),C({currentUserId:"",newUserId:"",confirmUserId:""})}catch(s){alert("Failed to change User ID. Please try again.")}else alert("New User IDs do not match!")},children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"currentUserId",children:"Current User ID"}),(0,l.jsx)("input",{type:"text",id:"currentUserId",value:b.currentUserId,onChange:e=>C((s=>({...s,currentUserId:e.target.value}))),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"newUserId",children:"New User ID"}),(0,l.jsx)("input",{type:"text",id:"newUserId",value:b.newUserId,onChange:e=>C((s=>({...s,newUserId:e.target.value}))),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"confirmUserId",children:"Confirm New User ID"}),(0,l.jsx)("input",{type:"text",id:"confirmUserId",value:b.confirmUserId,onChange:e=>C((s=>({...s,confirmUserId:e.target.value}))),required:!0})]}),(0,l.jsxs)("div",{className:"modal-footer",children:[(0,l.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>u(!1),children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"btn-primary",children:"Change User ID"})]})]})]})}),h&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Notifications"}),(0,l.jsx)("button",{className:"modal-close",onClick:()=>x(!1),children:(0,l.jsx)("i",{className:"fas fa-times"})})]}),(0,l.jsx)("div",{className:"notifications-list",children:y.map((e=>(0,l.jsxs)("div",{className:`notification-item ${e.type}`,children:[(0,l.jsx)("div",{className:"notification-icon",children:(0,l.jsx)("i",{className:"fas fa-"+("info"===e.type?"info-circle":"warning"===e.type?"exclamation-triangle":"check-circle")})}),(0,l.jsxs)("div",{className:"notification-content",children:[(0,l.jsx)("p",{className:"notification-message",children:e.message}),(0,l.jsx)("span",{className:"notification-time",children:e.time})]})]},e.id)))}),(0,l.jsx)("div",{className:"modal-footer",children:(0,l.jsx)("button",{className:"btn-secondary",onClick:()=>x(!1),children:"Close"})})]})}),p&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Settings"}),(0,l.jsx)("button",{className:"modal-close",onClick:()=>j(!1),children:(0,l.jsx)("i",{className:"fas fa-times"})})]}),(0,l.jsx)("div",{className:"settings-content",children:(0,l.jsx)("p",{children:"Settings functionality coming soon!"})}),(0,l.jsx)("div",{className:"modal-footer",children:(0,l.jsx)("button",{className:"btn-secondary",onClick:()=>j(!1),children:"Close"})})]})}),N&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Help & Support"}),(0,l.jsx)("button",{className:"modal-close",onClick:()=>f(!1),children:(0,l.jsx)("i",{className:"fas fa-times"})})]}),(0,l.jsx)("div",{className:"help-content",children:(0,l.jsx)("p",{children:"Help and support functionality coming soon!"})}),(0,l.jsx)("div",{className:"modal-footer",children:(0,l.jsx)("button",{className:"btn-secondary",onClick:()=>f(!1),children:"Close"})})]})})]})}},5812:()=>{},8874:(e,s,a)=>{a.d(s,{A:()=>i});var r=a(5043),n=a(3005),l=a(579);const i=e=>{let{className:s=""}=e;const{currentTheme:a,changeTheme:i,getThemeLabel:o,getAllThemes:c}=(0,n.DP)(),[d,t]=(0,r.useState)(!1),m=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);return(0,l.jsxs)("div",{className:`theme-dropdown ${s}`,ref:m,children:[(0,l.jsxs)("button",{className:"theme-selector-btn",onClick:()=>{t(!d)},"aria-expanded":d,"aria-haspopup":"true",children:[(0,l.jsxs)("span",{className:"theme-label",children:["Theme: ",o()]}),(0,l.jsx)("span",{className:"dropdown-arrow "+(d?"open":""),children:(0,l.jsx)("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),d&&(0,l.jsxs)("div",{className:"theme-dropdown-menu",children:[(0,l.jsx)("div",{className:"dropdown-header",children:(0,l.jsx)("span",{className:"dropdown-title",children:"Choose Theme"})}),c().map((e=>(0,l.jsxs)("button",{className:"theme-option "+(a===e.value?"selected":""),onClick:()=>{return s=e.value,i(s),void t(!1);var s},children:[(0,l.jsx)("div",{className:"theme-preview",children:(0,l.jsxs)("div",{className:`theme-preview-colors ${e.value}`,children:[(0,l.jsx)("div",{className:"color-dot primary"}),(0,l.jsx)("div",{className:"color-dot secondary"}),(0,l.jsx)("div",{className:"color-dot accent"})]})}),(0,l.jsxs)("div",{className:"theme-info",children:[(0,l.jsx)("span",{className:"theme-name",children:e.label}),(0,l.jsxs)("span",{className:"theme-description",children:["modern-clean"===e.value&&"Clean and modern design with green accents","traditional-corporate"===e.value&&"Professional corporate style with blue tones","modern-minimalist"===e.value&&"Minimal design with subtle colors"]})]}),a===e.value&&(0,l.jsx)("div",{className:"selected-indicator",children:(0,l.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M13.5 4.5L6 12L2.5 8.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]},e.value)))]})]})}}}]);
//# sourceMappingURL=821.78c5990b.chunk.js.map