"use strict";(self.webpackChunkagristack_farmer_management=self.webpackChunkagristack_farmer_management||[]).push([[910],{7910:(a,s,e)=>{e.r(s),e.d(s,{default:()=>h});var r=e(5043),d=e(3216),i=e(5016),n=e(2064),c=e(8874),l=e(7105),o=e(4801),t=(e(5812),e(579));const h=()=>{var a;const{user:s,logout:e}=(0,r.useContext)(i.cy),h=(0,d.Zp)(),[m,x]=(0,r.useState)(!0),[j,f]=(0,r.useState)(""),[b,v]=(0,r.useState)(null),[N,u]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[y,C]=(0,r.useState)(null);(0,r.useEffect)((()=>{null!==s&&void 0!==s&&s.forcePasswordChange?h("/change-password"):k()}),[s,h]);const k=async()=>{try{x(!0),v({name:(null===s||void 0===s?void 0:s.name)||"Farmer Name",email:(null===s||void 0===s?void 0:s.email)||(null===s||void 0===s?void 0:s.userName)||"farmer@example.com",phoneNumber:(null===s||void 0===s?void 0:s.phoneNumber)||"Not provided",kycStatus:"PENDING",registrationDate:(new Date).toLocaleDateString(),totalCrops:0,pendingDocuments:0})}catch(j){console.error("Error loading farmer data:",j),f("Failed to load farmer data")}finally{x(!1)}};return m?(0,t.jsx)("div",{className:"farmer-dashboard-container",children:(0,t.jsxs)("div",{className:"farmer-dashboard-loading-container",children:[(0,t.jsx)("div",{className:"farmer-dashboard-loading-spinner"}),(0,t.jsx)("p",{children:"Loading farmer dashboard..."})]})}):j?(0,t.jsx)("div",{className:"farmer-dashboard-container",children:(0,t.jsxs)("div",{className:"farmer-dashboard-error-container",children:[(0,t.jsx)("h2",{children:"Error"}),(0,t.jsx)("p",{children:j}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),children:"Retry"})]})}):(0,t.jsxs)("div",{className:"dashboard",children:[(0,t.jsxs)("div",{className:"top-bar",children:[(0,t.jsxs)("div",{className:"top-bar-left",children:[(0,t.jsxs)("div",{className:"logo-container",children:[(0,t.jsx)("div",{className:"logo-icon","aria-hidden":"true",children:(0,t.jsxs)("svg",{width:"88",height:"48",viewBox:"0 0 88 64",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Sunflowers logo",children:[(0,t.jsxs)("g",{stroke:"#15803d",strokeWidth:"2",fill:"none",strokeLinecap:"round",children:[(0,t.jsx)("path",{d:"M18 38 C18 46 18 54 18 62"}),(0,t.jsx)("path",{d:"M44 38 C44 46 44 54 44 62"}),(0,t.jsx)("path",{d:"M70 38 C70 46 70 54 70 62"})]}),(0,t.jsxs)("g",{children:[(0,t.jsxs)("g",{transform:"translate(18 26)",children:[(0,t.jsx)("ellipse",{cx:"0",cy:"0",rx:"5",ry:"10",fill:"#FACC15",stroke:"#D97706",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"0",cy:"0",r:"8",fill:"#8B5E3C",stroke:"#A16207",strokeWidth:"2"})]}),(0,t.jsxs)("g",{transform:"translate(44 24)",children:[(0,t.jsx)("ellipse",{cx:"0",cy:"0",rx:"5",ry:"10",fill:"#FACC15",stroke:"#D97706",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"0",cy:"0",r:"8",fill:"#8B5E3C",stroke:"#A16207",strokeWidth:"2"})]}),(0,t.jsxs)("g",{transform:"translate(70 26)",children:[(0,t.jsx)("ellipse",{cx:"0",cy:"0",rx:"5",ry:"10",fill:"#FACC15",stroke:"#D97706",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"0",cy:"0",r:"8",fill:"#8B5E3C",stroke:"#A16207",strokeWidth:"2"})]})]})]})}),(0,t.jsxs)("div",{className:"logo-text",children:[(0,t.jsx)("h1",{className:"logo-title",children:"DATE Digital"}),(0,t.jsx)("p",{className:"logo-subtitle",children:"Agristack Platform"})]})]}),(0,t.jsx)("div",{className:"date-display",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsxs)("div",{className:"top-bar-right",children:[(0,t.jsx)(c.A,{}),(0,t.jsx)(n.A,{onLogout:e,onShowChangePassword:()=>u(!0),onShowChangeUserId:()=>g(!0)})]})]}),(0,t.jsxs)("div",{className:"dashboard-sidebar",children:[(0,t.jsx)("div",{className:"farmer-dashboard-sidebar-header",children:(0,t.jsxs)("div",{className:"farmer-dashboard-logo",children:[(0,t.jsx)("span",{className:"farmer-dashboard-logo-text",children:"DATE"}),(0,t.jsx)("span",{className:"farmer-dashboard-logo-subtitle",children:"Digital Agristack"})]})}),(0,t.jsx)("nav",{className:"farmer-dashboard-sidebar-nav",children:(0,t.jsxs)("div",{className:"farmer-dashboard-nav-section",children:[(0,t.jsx)("h3",{children:"Farmer Dashboard"}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{className:"farmer-dashboard-active",children:[(0,t.jsx)("span",{className:"farmer-dashboard-nav-icon",children:"\ud83c\udfe0"}),(0,t.jsx)("span",{children:"Dashboard"})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"farmer-dashboard-nav-icon",children:"\ud83d\udc64"}),(0,t.jsx)("span",{children:"My Profile"})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"farmer-dashboard-nav-icon",children:"\ud83c\udf3e"}),(0,t.jsx)("span",{children:"My Crops"})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"farmer-dashboard-nav-icon",children:"\ud83d\udccb"}),(0,t.jsx)("span",{children:"KYC Status"})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"farmer-dashboard-nav-icon",children:"\ud83d\udcc4"}),(0,t.jsx)("span",{children:"Documents"})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"farmer-dashboard-nav-icon",children:"\ud83d\udcb0"}),(0,t.jsx)("span",{children:"Benefits"})]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"farmer-dashboard-nav-icon",children:"\ud83d\udcde"}),(0,t.jsx)("span",{children:"Support"})]})]})]})})]}),(0,t.jsx)("div",{className:"dashboard-main",children:(0,t.jsxs)("div",{className:"dashboard-content",children:[(0,t.jsx)("header",{className:"dashboard-header",children:(0,t.jsx)("div",{className:"header-center",children:(0,t.jsxs)("div",{className:"welcome-message",children:[(0,t.jsxs)("h2",{className:"greeting",children:[(()=>{const a=(new Date).getHours();return a>=5&&a<12?"Good Morning":a>=12&&a<17?"Good Afternoon":a>=17&&a<21?"Good Evening":"Good Night"})(),", ",(null===s||void 0===s?void 0:s.name)||(null===s||void 0===s?void 0:s.email)||"Farmer","! \ud83c\udf8b"]}),(0,t.jsx)("p",{className:"welcome-text",children:"Manage your agricultural profile"})]})})}),N&&s&&(0,t.jsx)("div",{className:"dashboard-form-container",children:(0,t.jsx)(l.A,{user:s,isOpen:!0,isInDashboard:!0,onClose:()=>u(!1),onSuccess:()=>{C("Password changed successfully!"),u(!1),setTimeout((()=>C(null)),3e3)}})}),p&&s&&(0,t.jsx)("div",{className:"dashboard-form-container",children:(0,t.jsx)(o.A,{user:s,isOpen:!0,isInDashboard:!0,onClose:()=>g(!1),onSuccess:()=>{C("User ID changed successfully!"),g(!1),setTimeout((()=>C(null)),3e3)}})}),(0,t.jsxs)("div",{className:"farmer-dashboard-content",children:[(0,t.jsxs)("div",{className:"farmer-dashboard-stats-grid",children:[(0,t.jsxs)("div",{className:"farmer-dashboard-stat-card",children:[(0,t.jsx)("div",{className:"farmer-dashboard-stat-icon",children:"\ud83c\udf3e"}),(0,t.jsxs)("div",{className:"farmer-dashboard-stat-content",children:[(0,t.jsx)("h3",{children:"Total Crops"}),(0,t.jsx)("p",{className:"farmer-dashboard-stat-number",children:(null===b||void 0===b?void 0:b.totalCrops)||0}),(0,t.jsx)("p",{className:"farmer-dashboard-stat-label",children:"Registered crops"})]})]}),(0,t.jsxs)("div",{className:"farmer-dashboard-stat-card",children:[(0,t.jsx)("div",{className:"farmer-dashboard-stat-icon",children:"\ud83d\udccb"}),(0,t.jsxs)("div",{className:"farmer-dashboard-stat-content",children:[(0,t.jsx)("h3",{children:"KYC Status"}),(0,t.jsx)("p",{className:`farmer-dashboard-stat-number farmer-dashboard-status-${null===b||void 0===b||null===(a=b.kycStatus)||void 0===a?void 0:a.toLowerCase()}`,children:(null===b||void 0===b?void 0:b.kycStatus)||"PENDING"}),(0,t.jsx)("p",{className:"farmer-dashboard-stat-label",children:"Verification status"})]})]}),(0,t.jsxs)("div",{className:"farmer-dashboard-stat-card",children:[(0,t.jsx)("div",{className:"farmer-dashboard-stat-icon",children:"\ud83d\udcc4"}),(0,t.jsxs)("div",{className:"farmer-dashboard-stat-content",children:[(0,t.jsx)("h3",{children:"Pending Documents"}),(0,t.jsx)("p",{className:"farmer-dashboard-stat-number",children:(null===b||void 0===b?void 0:b.pendingDocuments)||0}),(0,t.jsx)("p",{className:"farmer-dashboard-stat-label",children:"Documents to upload"})]})]}),(0,t.jsxs)("div",{className:"farmer-dashboard-stat-card",children:[(0,t.jsx)("div",{className:"farmer-dashboard-stat-icon",children:"\ud83d\udcb0"}),(0,t.jsxs)("div",{className:"farmer-dashboard-stat-content",children:[(0,t.jsx)("h3",{children:"Benefits Received"}),(0,t.jsx)("p",{className:"farmer-dashboard-stat-number",children:"\u20b90"}),(0,t.jsx)("p",{className:"farmer-dashboard-stat-label",children:"This month"})]})]})]}),(0,t.jsxs)("div",{className:"farmer-dashboard-quick-actions",children:[(0,t.jsx)("h2",{children:"Quick Actions"}),(0,t.jsxs)("div",{className:"farmer-dashboard-actions-grid",children:[(0,t.jsxs)("button",{className:"farmer-dashboard-action-btn",children:[(0,t.jsx)("span",{className:"farmer-dashboard-action-icon",children:"\ud83d\udcdd"}),(0,t.jsx)("span",{children:"Update Profile"})]}),(0,t.jsxs)("button",{className:"farmer-dashboard-action-btn",children:[(0,t.jsx)("span",{className:"farmer-dashboard-action-icon",children:"\ud83c\udf3e"}),(0,t.jsx)("span",{children:"Add New Crop"})]}),(0,t.jsxs)("button",{className:"farmer-dashboard-action-btn",children:[(0,t.jsx)("span",{className:"farmer-dashboard-action-icon",children:"\ud83d\udcc4"}),(0,t.jsx)("span",{children:"Upload Documents"})]}),(0,t.jsxs)("button",{className:"farmer-dashboard-action-btn",children:[(0,t.jsx)("span",{className:"farmer-dashboard-action-icon",children:"\ud83d\udcde"}),(0,t.jsx)("span",{children:"Contact Support"})]})]})]}),(0,t.jsxs)("div",{className:"farmer-dashboard-recent-activity",children:[(0,t.jsx)("h2",{children:"Recent Activity"}),(0,t.jsxs)("div",{className:"farmer-dashboard-activity-list",children:[(0,t.jsxs)("div",{className:"farmer-dashboard-activity-item",children:[(0,t.jsx)("div",{className:"farmer-dashboard-activity-icon",children:"\u2705"}),(0,t.jsxs)("div",{className:"farmer-dashboard-activity-content",children:[(0,t.jsx)("h4",{children:"Profile Updated"}),(0,t.jsx)("p",{children:"Your profile information was updated successfully"}),(0,t.jsx)("span",{className:"farmer-dashboard-activity-time",children:"2 hours ago"})]})]}),(0,t.jsxs)("div",{className:"farmer-dashboard-activity-item",children:[(0,t.jsx)("div",{className:"farmer-dashboard-activity-icon",children:"\ud83d\udccb"}),(0,t.jsxs)("div",{className:"farmer-dashboard-activity-content",children:[(0,t.jsx)("h4",{children:"KYC Verification"}),(0,t.jsx)("p",{children:"Your KYC documents are under review"}),(0,t.jsx)("span",{className:"farmer-dashboard-activity-time",children:"1 day ago"})]})]}),(0,t.jsxs)("div",{className:"farmer-dashboard-activity-item",children:[(0,t.jsx)("div",{className:"farmer-dashboard-activity-icon",children:"\ud83c\udf3e"}),(0,t.jsxs)("div",{className:"farmer-dashboard-activity-content",children:[(0,t.jsx)("h4",{children:"Crop Registration"}),(0,t.jsx)("p",{children:"Wheat crop registered successfully"}),(0,t.jsx)("span",{className:"farmer-dashboard-activity-time",children:"3 days ago"})]})]})]})]}),y&&(0,t.jsx)("div",{className:"notification-toast",children:y})]})]})})]})}}}]);
//# sourceMappingURL=910.61954c0d.chunk.js.map