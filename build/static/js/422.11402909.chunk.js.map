{"version":3,"file":"static/js/422.11402909.chunk.js","mappings":"gNAIA,MAyCA,EAzCuBA,IAAiC,IAAhC,SAAEC,EAAQ,aAAEC,GAAcF,EAChD,MAAM,KAAEG,EAAI,QAAEC,IAAYC,EAAAA,EAAAA,MAE1B,GAAID,EACF,OACEE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCN,SAAA,EAChDO,EAAAA,EAAAA,KAAA,OAAKD,UAAU,qCACfC,EAAAA,EAAAA,KAAA,KAAAP,SAAG,kBAKT,IAAKE,EACH,OAAOK,EAAAA,EAAAA,KAACC,EAAAA,GAAQ,CAACC,GAAG,SAASC,SAAO,IAGtC,MAAMC,EAAaC,IAAWA,GAAS,IAAIC,WAAWC,cAAcC,OAC9DC,EAAWL,EAAUT,EAAKe,MAC1BC,GAAWjB,GAAgB,IAAIkB,IAAIR,GAEnCS,EAAoBH,IACxB,OAAQA,GACN,IAAK,cACH,MAAO,yBACT,IAAK,QACH,MAAO,mBACT,IAAK,WACH,MAAO,sBAET,QACE,MAAO,aACX,EAGF,OAAIC,EAAQG,SAAWH,EAAQI,SAASN,IAC/BT,EAAAA,EAAAA,KAACC,EAAAA,GAAQ,CAACC,GAAIW,EAAiBJ,GAAWN,SAAO,IAGnDV,CAAQ,C","sources":["components/ProtectedRoute.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst ProtectedRoute = ({ children, allowedRoles }) => {\r\n  const { user, loading } = useAuth();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"protected-route-loading-container\">\r\n        <div className=\"protected-route-loading-spinner\"></div>\r\n        <p>Loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  const normalize = (value) => (value || '').toString().toUpperCase().trim();\r\n  const userRole = normalize(user.role);\r\n  const allowed = (allowedRoles || []).map(normalize);\r\n\r\n  const getDashboardPath = (role) => {\r\n    switch (role) {\r\n      case 'SUPER_ADMIN':\r\n        return '/super-admin/dashboard';\r\n      case 'ADMIN':\r\n        return '/admin/dashboard';\r\n      case 'EMPLOYEE':\r\n        return '/employee/dashboard';\r\n      case 'FARMER':\r\n      default:\r\n        return '/dashboard';\r\n    }\r\n  };\r\n\r\n  if (allowed.length && !allowed.includes(userRole)) {\r\n    return <Navigate to={getDashboardPath(userRole)} replace />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute; "],"names":["_ref","children","allowedRoles","user","loading","useAuth","_jsxs","className","_jsx","Navigate","to","replace","normalize","value","toString","toUpperCase","trim","userRole","role","allowed","map","getDashboardPath","length","includes"],"sourceRoot":""}