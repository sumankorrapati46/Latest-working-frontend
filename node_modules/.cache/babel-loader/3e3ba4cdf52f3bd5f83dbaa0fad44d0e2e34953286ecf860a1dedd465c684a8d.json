{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{farmersAPI,employeesAPI,adminAPI,superAdminAPI}from'../api/apiService';import'../styles/Dashboard.css';import FarmerForm from'../components/FarmerForm';import FarmerRegistrationForm from'../components/FarmerRegistrationForm';import EmployeeRegistrationForm from'../components/EmployeeRegistrationForm';import AssignmentModal from'../components/AssignmentModal';import KYCDocumentUpload from'../components/KYCDocumentUpload';import ViewFarmerRegistrationDetails from'../components/ViewFarmerRegistrationDetails';import ViewEditEmployeeDetails from'../components/ViewEditEmployeeDetails';import StatsCard from'../components/StatsCard';import DataTable from'../components/DataTable';import UserProfileDropdown from'../components/UserProfileDropdown';import ThemeDropdown from'../components/ThemeDropdown';import RegistrationApprovalModal from'../components/RegistrationApprovalModal';import RegistrationDetailModal from'../components/RegistrationDetailModal';import ChangePasswordModal from'../components/ChangePasswordModal';import ChangeUserIdModal from'../components/ChangeUserIdModal';import DataFetchTest from'../components/DataFetchTest';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminDashboard=()=>{const navigate=useNavigate();const{user,logout}=useAuth();const[activeTab,setActiveTab]=useState('overview');const[farmers,setFarmers]=useState([]);const[employees,setEmployees]=useState([]);const[selectedEmployee,setSelectedEmployee]=useState('');const[showAssignmentModal,setShowAssignmentModal]=useState(false);const[showFarmerForm,setShowFarmerForm]=useState(false);const[showEmployeeForm,setShowEmployeeForm]=useState(false);const[showFarmerDetails,setShowFarmerDetails]=useState(false);const[selectedFarmerData,setSelectedFarmerData]=useState(null);const[showEmployeeDetails,setShowEmployeeDetails]=useState(false);const[selectedEmployeeData,setSelectedEmployeeData]=useState(null);const[showKYCDocumentUpload,setShowKYCDocumentUpload]=useState(false);const[selectedFarmerForKYC,setSelectedFarmerForKYC]=useState(null);const[editingFarmer,setEditingFarmer]=useState(null);const[editingEmployee,setEditingEmployee]=useState(null);const[registrations,setRegistrations]=useState([]);const[showRegistrationModal,setShowRegistrationModal]=useState(false);const[selectedRegistration,setSelectedRegistration]=useState(null);const[showRegistrationDetailModal,setShowRegistrationDetailModal]=useState(false);const[selectedRegistrationForDetail,setSelectedRegistrationForDetail]=useState(null);const[showEmployeeRegistration,setShowEmployeeRegistration]=useState(false);const[showFarmerRegistration,setShowFarmerRegistration]=useState(false);const[registrationFilters,setRegistrationFilters]=useState({role:'',status:''});const[filters,setFilters]=useState({state:'',district:'',region:'',kycStatus:'',assignmentStatus:'',employeeFilter:''});const[showUserDropdown,setShowUserDropdown]=useState(false);const[showViewFarmer,setShowViewFarmer]=useState(false);const[showViewEmployee,setShowViewEmployee]=useState(false);const[selectedFarmerForView,setSelectedFarmerForView]=useState(null);const[selectedEmployeeForView,setSelectedEmployeeForView]=useState(null);const[showPendingKYC,setShowPendingKYC]=useState(false);const[showChangePassword,setShowChangePassword]=useState(false);const[showChangeUserId,setShowChangeUserId]=useState(false);const[notification,setNotification]=useState(null);// Greeting function based on time of day\nconst getGreeting=()=>{const hour=new Date().getHours();if(hour>=5&&hour<12){return'Good Morning';}else if(hour>=12&&hour<17){return'Good Afternoon';}else if(hour>=17&&hour<21){return'Good Evening';}else{return'Good Night';}};// Load data from API\nuseEffect(()=>{fetchData();// Listen for KYC status updates from Employee Dashboard\nconst handleKYCUpdate=event=>{console.log('🔄 Admin Dashboard: KYC status updated, refreshing data...');console.log('📊 KYC Update details:',event.detail);// Wait 2 seconds for backend to update, then refresh\nsetTimeout(()=>{console.log('🔄 Refreshing Admin data after KYC update...');fetchData();},2000);};window.addEventListener('kycStatusUpdated',handleKYCUpdate);return()=>{window.removeEventListener('kycStatusUpdated',handleKYCUpdate);};},[]);const fetchData=async()=>{try{console.log('🔍 Admin: Starting to fetch real data from API...');// Fetch farmers, employees, and registrations from API using admin endpoints\nconst[farmersData,employeesData,registrationsData]=await Promise.all([adminAPI.getFarmersWithKyc(),adminAPI.getEmployeesWithStats(),superAdminAPI.getRegistrationList()]);console.log('✅ Admin API Response:',{farmersCount:(farmersData===null||farmersData===void 0?void 0:farmersData.length)||0,employeesCount:(employeesData===null||employeesData===void 0?void 0:employeesData.length)||0,registrationsCount:(registrationsData===null||registrationsData===void 0?void 0:registrationsData.length)||0});// Use real data from APIs\nsetFarmers(farmersData||[]);setEmployees(employeesData||[]);setRegistrations(registrationsData||[]);console.log('✅ Admin: Using real data from APIs');console.log('- Farmers:',(farmersData===null||farmersData===void 0?void 0:farmersData.length)||0,'records');console.log('- Employees:',(employeesData===null||employeesData===void 0?void 0:employeesData.length)||0,'records');console.log('- Registrations:',(registrationsData===null||registrationsData===void 0?void 0:registrationsData.length)||0,'records');}catch(error){console.error('❌ Admin error fetching data:',error);console.log('❌ Using fallback endpoints due to API error');// Try basic admin endpoints as fallback\ntry{const[fallbackFarmers,fallbackEmployees,fallbackRegistrations]=await Promise.all([adminAPI.getAllFarmers(),adminAPI.getAllEmployees(),superAdminAPI.getRegistrationList()]);console.log('✅ Fallback API Response:',{farmersCount:(fallbackFarmers===null||fallbackFarmers===void 0?void 0:fallbackFarmers.length)||0,employeesCount:(fallbackEmployees===null||fallbackEmployees===void 0?void 0:fallbackEmployees.length)||0,registrationsCount:(fallbackRegistrations===null||fallbackRegistrations===void 0?void 0:fallbackRegistrations.length)||0});setFarmers(fallbackFarmers||[]);setEmployees(fallbackEmployees||[]);setRegistrations(fallbackRegistrations||[]);}catch(fallbackError){console.error('❌ Fallback API also failed:',fallbackError);// Set empty arrays if all APIs fail\nsetFarmers([]);setEmployees([]);setRegistrations([]);}}};const loadMockData=()=>{const mockFarmers=[{id:1,name:'Ramu Yadav',phone:'9876543210',state:'Telangana',district:'Karimnagar',region:'Southern',kycStatus:'PENDING',assignmentStatus:'ASSIGNED',assignedEmployee:'harish reddy',assignedDate:'2024-01-15'},{id:2,name:'Krishna Kumar',phone:'9983733210',state:'Andhrapradesh',district:'rangareddy',region:'Southern',kycStatus:'PENDING',assignmentStatus:'ASSIGNED',assignedEmployee:'harish reddy',assignedDate:'2024-01-18'},{id:3,name:'suman kurrapati',phone:'9783733210',state:'Andhrapradesh',district:'kadapa',region:'Southern',kycStatus:'NOT_STARTED',assignmentStatus:'ASSIGNED',assignedEmployee:'harish reddy',assignedDate:'2024-01-10'},{id:4,name:'vamsi krishna',phone:'9783733210',state:'Andhrapradesh',district:'kadapa',region:'Southern',kycStatus:'NOT_STARTED',assignmentStatus:'ASSIGNED',assignedEmployee:'harish reddy',assignedDate:'2024-01-20'},{id:5,name:'hari kumar chowdary',phone:'6271979190',state:'Andhrapradesh',district:'Kadapa',region:'Southern',kycStatus:'NOT_STARTED',assignmentStatus:'ASSIGNED',assignedEmployee:'harish reddy',assignedDate:'2024-01-25'},{id:6,name:'kumar sreenu chowdary',phone:'6302949363',state:'Andhrapradesh',district:'kadpaa',region:'Southern',kycStatus:'NOT_STARTED',assignmentStatus:'ASSIGNED',assignedEmployee:'karthik kumar',assignedDate:'2024-01-12'},{id:7,name:'Ainash kumar',phone:'9798433210',state:'Andhrapradesh',district:'Kuppam',region:'Southern',kycStatus:'NOT_STARTED',assignmentStatus:'ASSIGNED',assignedEmployee:'harish reddy',assignedDate:'2024-01-12'}];const mockEmployees=[{id:1,name:'John Doe',phone:'9876543201',email:'john.doe@company.com',designation:'KYC Officer',state:'Maharashtra',district:'Pune',region:'Western',status:'ACTIVE',assignedFarmersCount:15,kycStats:{approved:8,pending:5,referBack:2,rejected:0}},{id:2,name:'Jane Smith',phone:'9876543202',email:'jane.smith@company.com',designation:'KYC Officer',state:'Gujarat',district:'Ahmedabad',region:'Western',status:'ACTIVE',assignedFarmersCount:12,kycStats:{approved:6,pending:4,referBack:1,rejected:1}},{id:3,name:'Mike Johnson',phone:'9876543203',email:'mike.johnson@company.com',designation:'KYC Officer',state:'Punjab',district:'Amritsar',region:'Northern',status:'ACTIVE',assignedFarmersCount:8,kycStats:{approved:5,pending:2,referBack:1,rejected:0}},{id:4,name:'Sarah Wilson',phone:'9876543204',email:'sarah.wilson@company.com',designation:'KYC Officer',state:'Karnataka',district:'Bangalore',region:'Southern',status:'ACTIVE',assignedFarmersCount:0,kycStats:{approved:0,pending:0,referBack:0,rejected:0}}];setFarmers(mockFarmers);setEmployees(mockEmployees);};const loadMockRegistrationData=()=>{const mockRegistrations=[{id:1,name:'Ramu Yadav',email:'ramu.yadav@example.com',phoneNumber:'9876543210',role:'FARMER',status:'PENDING',createdAt:'2024-01-15',documents:['Aadhar Card','PAN Card'],kycStatus:'PENDING'},{id:2,name:'Krishna Kumar',email:'krishna.kumar@example.com',phoneNumber:'9983733210',role:'FARMER',status:'PENDING',createdAt:'2024-01-14',documents:['Aadhar Card','PAN Card'],kycStatus:'PENDING'},{id:3,name:'Jane Smith',email:'jane.smith@example.com',phoneNumber:'9876543211',role:'EMPLOYEE',status:'APPROVED',createdAt:'2024-01-14',documents:['Aadhar Card','PAN Card','Educational Certificate'],kycStatus:'APPROVED'},{id:4,name:'Bob Wilson',email:'bob.wilson@example.com',phoneNumber:'9876543212',role:'FARMER',status:'REJECTED',createdAt:'2024-01-13',documents:['Aadhar Card'],kycStatus:'REJECTED',rejectionReason:'Incomplete documentation'}];setRegistrations(mockRegistrations);};const getFilteredFarmers=()=>{return(farmers||[]).filter(farmer=>{const matchesState=!filters.state||farmer.state===filters.state;const matchesDistrict=!filters.district||farmer.district===filters.district;const matchesKycStatus=!filters.kycStatus||farmer.kycStatus===filters.kycStatus;const matchesEmployee=!filters.employeeFilter||farmer.assignedEmployee===filters.employeeFilter;return matchesState&&matchesDistrict&&matchesKycStatus&&matchesEmployee;});};const getFilteredEmployees=()=>{return(employees||[]).filter(employee=>{const matchesDistrict=!filters.district||employee.district===filters.district;return matchesDistrict;});};const getFilteredRegistrations=()=>{console.log('🔍 All registrations:',registrations);console.log('🔍 Sample registration structure:',registrations[0]);// Apply filters\nconst filtered=(registrations||[]).filter(registration=>{const roleMatch=!registrationFilters.role||registration.role===registrationFilters.role;const statusMatch=!registrationFilters.status||registration.status===registrationFilters.status;return roleMatch&&statusMatch;});console.log('✅ Filtered registrations:',filtered);return filtered;};const handleViewRegistration=registration=>{setSelectedRegistrationForDetail(registration);setShowRegistrationDetailModal(true);};const handleCloseRegistrationDetailModal=()=>{setShowRegistrationDetailModal(false);setSelectedRegistrationForDetail(null);};const handleRegistrationUpdate=()=>{// Refresh the registration data\nfetchData();};const handleApproveRegistration=async registrationId=>{try{await superAdminAPI.approveUser(registrationId,'FARMER');// Default role, can be updated\nsetRegistrations(prev=>prev.map(reg=>reg.id===registrationId?{...reg,status:'APPROVED'}:reg));alert('Registration approved successfully!');}catch(error){console.error('Error approving registration:',error);alert('Failed to approve registration. Please try again.');}};const handleRejectRegistration=async registrationId=>{try{await superAdminAPI.rejectUser(registrationId,'Rejected by Admin');setRegistrations(prev=>prev.map(reg=>reg.id===registrationId?{...reg,status:'REJECTED'}:reg));alert('Registration rejected successfully!');}catch(error){console.error('Error rejecting registration:',error);alert('Failed to reject registration. Please try again.');}};const getStats=()=>{const totalFarmers=(farmers===null||farmers===void 0?void 0:farmers.length)||0;const totalEmployees=(employees===null||employees===void 0?void 0:employees.length)||0;const unassignedFarmers=(farmers||[]).filter(f=>!f.assignedEmployee||f.assignedEmployee==='Not Assigned').length;// Handle different KYC status formats\nconst pendingKYC=(farmers||[]).filter(f=>f.kycStatus==='PENDING'||f.kycStatus==='pending'||f.kycStatus==='NOT_STARTED'||f.kycStatus==='not_started').length;const approvedKYC=(farmers||[]).filter(f=>f.kycStatus==='APPROVED'||f.kycStatus==='approved').length;const referBackKYC=(farmers||[]).filter(f=>f.kycStatus==='REFER_BACK'||f.kycStatus==='refer_back').length;const rejectedKYC=(farmers||[]).filter(f=>f.kycStatus==='REJECTED'||f.kycStatus==='rejected').length;console.log('Admin Stats calculated from real data:');console.log('- Total Farmers:',totalFarmers);console.log('- Total Employees:',totalEmployees);console.log('- Unassigned Farmers:',unassignedFarmers);console.log('- Pending KYC:',pendingKYC);console.log('- Approved KYC:',approvedKYC);console.log('- Refer Back KYC:',referBackKYC);console.log('- Rejected KYC:',rejectedKYC);return{totalFarmers,totalEmployees,unassignedFarmers,pendingKYC,approvedKYC,referBackKYC,rejectedKYC};};const getTodoList=()=>{const unassignedFarmers=(farmers||[]).filter(f=>!f.assignedEmployee||f.assignedEmployee==='Not Assigned');const overdueKYC=(farmers||[]).filter(f=>{if((f.kycStatus==='PENDING'||f.kycStatus==='NOT_STARTED')&&f.assignedEmployee&&f.assignedEmployee!=='Not Assigned'){// For now, consider all pending KYC as overdue if assigned\nreturn true;}return false;});const employeesWithLargeQueues=(employees||[]).filter(emp=>{const pendingCount=emp.pendingKyc||0;return pendingCount>5;// Large queue if more than 5 pending\n});console.log('Admin Todo list calculated from real data:');console.log('- Unassigned Farmers:',unassignedFarmers.length);console.log('- Overdue KYC:',overdueKYC.length);console.log('- Employees with Large Queues:',employeesWithLargeQueues.length);return{unassignedFarmers,overdueKYC,employeesWithLargeQueues};};const handleLogout=()=>{logout();};const toggleUserDropdown=()=>{setShowUserDropdown(!showUserDropdown);};const handleChangePassword=()=>{// Navigate to change password page\nwindow.location.href='/change-password';};const handleViewFarmer=farmer=>{setSelectedFarmerData(farmer);setShowFarmerDetails(true);};const handleCloseFarmerDetails=()=>{setShowFarmerDetails(false);setSelectedFarmerData(null);};const handleViewEmployee=employee=>{setSelectedEmployeeData(employee);setShowEmployeeDetails(true);};const handleCloseEmployeeDetails=()=>{setShowEmployeeDetails(false);setSelectedEmployeeData(null);};const handleUpdateEmployee=updatedData=>{setEmployees(prev=>prev.map(emp=>emp.id===updatedData.id?updatedData:emp));setShowEmployeeDetails(false);setSelectedEmployeeData(null);};const handleKYCDocumentUpload=farmer=>{setSelectedFarmerForKYC(farmer);setShowKYCDocumentUpload(true);};const handleCloseKYCDocumentUpload=()=>{setShowKYCDocumentUpload(false);setSelectedFarmerForKYC(null);};const handleKYCApprove=(farmerId,documents)=>{setFarmers(prev=>prev.map(farmer=>farmer.id===farmerId?{...farmer,kycStatus:'APPROVED'}:farmer));setShowKYCDocumentUpload(false);setSelectedFarmerForKYC(null);};const handleKYCReject=(farmerId,reason,documents)=>{setFarmers(prev=>prev.map(farmer=>farmer.id===farmerId?{...farmer,kycStatus:'REJECTED'}:farmer));setShowKYCDocumentUpload(false);setSelectedFarmerForKYC(null);};const handleKYCReferBack=(farmerId,reason,documents)=>{setFarmers(prev=>prev.map(farmer=>farmer.id===farmerId?{...farmer,kycStatus:'REFER_BACK'}:farmer));setShowKYCDocumentUpload(false);setSelectedFarmerForKYC(null);};const handleEditFarmer=farmer=>{setEditingFarmer(farmer);setShowFarmerForm(true);};const handleEditEmployee=employee=>{setEditingEmployee(employee);setShowEmployeeForm(true);};const handleAssignFarmers=async assignments=>{try{var _assignments$;// Extract farmer IDs and employee ID from assignments\nconst farmerIds=assignments.map(a=>a.farmerId);const employeeId=(_assignments$=assignments[0])===null||_assignments$===void 0?void 0:_assignments$.employeeId;if(!employeeId||farmerIds.length===0){alert('Please select an employee and at least one farmer');return;}// Try bulk assign first, then fallback to individual assignments\ntry{// Call admin API to bulk assign farmers\nawait adminAPI.bulkAssignFarmers(farmerIds,employeeId);}catch(bulkError){console.log('Bulk assign failed, trying individual assignments...');// Fallback to individual assignments\nfor(const farmerId of farmerIds){try{await adminAPI.assignFarmer(farmerId,employeeId);}catch(individualError){console.error(`Failed to assign farmer ${farmerId}:`,individualError);}}}// Update local state for each assignment\nsetFarmers(prev=>prev.map(farmer=>{const assignment=assignments.find(a=>a.farmerId===farmer.id);if(assignment){return{...farmer,assignmentStatus:'ASSIGNED',assignedEmployee:assignment.employeeName,assignedDate:new Date().toISOString().split('T')[0]};}return farmer;}));setShowAssignmentModal(false);alert('Farmers assigned successfully!');}catch(error){console.error('Error assigning farmers:',error);alert('Failed to assign farmers');}};// Quick Actions Handlers\nconst handleAddFarmer=()=>{setShowFarmerForm(true);setActiveTab('overview');};const handleViewFarmers=()=>{setShowViewFarmer(true);setSelectedFarmerForView(null);setActiveTab('overview');};const handleAddEmployee=()=>{setShowEmployeeForm(true);setActiveTab('overview');};const handleViewEmployees=()=>{setShowViewEmployee(true);setSelectedEmployeeForView(null);setActiveTab('overview');};const handleAssignFarmersQuick=()=>{setShowAssignmentModal(true);setActiveTab('overview');};const handlePendingKYC=()=>{setShowPendingKYC(true);setActiveTab('overview');};const handleFarmerSelect=farmer=>{setSelectedFarmerForView(farmer);};const handleEmployeeSelect=employee=>{setSelectedEmployeeForView(employee);};const handleCloseViewFarmer=()=>{if(selectedFarmerForView){setSelectedFarmerForView(null);}else{setShowViewFarmer(false);}};const handleCloseViewEmployee=()=>{if(selectedEmployeeForView){setSelectedEmployeeForView(null);}else{setShowViewEmployee(false);}};const handleClosePendingKYC=()=>{setShowPendingKYC(false);};const renderOverview=()=>{const stats=getStats();return/*#__PURE__*/_jsxs(\"div\",{className:\"overview-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"overview-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"overview-title\",children:\"Admin Dashboard Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"overview-description\",children:\"Manage farmers, employees, and assignments efficiently.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid admin-stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-card assigned\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"stats-title\",children:\"Farmers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stats-number\",children:stats.totalFarmers})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-card approved\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"stats-title\",children:\"Employees\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stats-number\",children:stats.totalEmployees})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-card refer\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"stats-title\",children:\"FPO\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stats-number\",children:\"0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-sections\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent Activities\"}),/*#__PURE__*/_jsx(\"button\",{className:\"section-link\",onClick:()=>console.log('View All clicked'),children:\"View All\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"activities-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"activity-item success\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"activity-icon\",children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"activity-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"activity-text\",children:\"Farmer profile updated\"}),/*#__PURE__*/_jsx(\"div\",{className:\"activity-time\",children:\"20m ago\"}),/*#__PURE__*/_jsx(\"button\",{className:\"activity-badge success\",children:\"SUCCESS\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"activity-item success\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"activity-icon\",children:\"\\uD83D\\uDC68\\u200D\\uD83D\\uDCBC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"activity-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"activity-text\",children:\"Employee profile updated\"}),/*#__PURE__*/_jsx(\"div\",{className:\"activity-time\",children:\"10m ago\"}),/*#__PURE__*/_jsx(\"button\",{className:\"activity-badge success\",children:\"SUCCESS\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"activity-item pending\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"activity-icon\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"activity-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"activity-text\",children:\"New registration pending approval\"}),/*#__PURE__*/_jsx(\"div\",{className:\"activity-time\",children:\"5m ago\"}),/*#__PURE__*/_jsx(\"button\",{className:\"activity-badge pending\",children:\"PENDING\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Quick Actions\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-actions-grid\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn primary\",onClick:handleAddFarmer,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-plus\"}),\"Add Farmer\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn secondary\",onClick:handleViewFarmers,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users\"}),\"View Farmers\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn primary\",onClick:handleAddEmployee,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-tie\"}),\"Add Employee\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn secondary\",onClick:handleViewEmployees,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-tie\"}),\"View Employee\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn primary\",onClick:handleAssignFarmersQuick,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-link\"}),\"Assign Farmers\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn secondary\",onClick:handlePendingKYC,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clock\"}),\"Pending KYC\"]})]})]})]})]});};const renderFarmers=()=>{const filteredFarmers=getFilteredFarmers();return/*#__PURE__*/_jsx(\"div\",{className:\"overview-section\",children:!showFarmerRegistration&&!showFarmerDetails?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"overview-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"overview-title\",children:\"Farmer Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"overview-description\",children:\"View and manage all farmer profiles with KYC status and assignments.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"overview-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn primary\",onClick:()=>setShowFarmerRegistration(true),children:\"Add Farmer\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn secondary\",onClick:()=>setShowAssignmentModal(true),children:\"Assign Farmers\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:filters.state,onChange:e=>setFilters(prev=>({...prev,state:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All States\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Telangana\",children:\"Telangana\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Andhra Pradesh\",children:\"Andhra Pradesh\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Karnataka\",children:\"Karnataka\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Tamil Nadu\",children:\"Tamil Nadu\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:filters.district,onChange:e=>setFilters(prev=>({...prev,district:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Districts\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Hanumakonda\",children:\"Hanumakonda\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Warangal\",children:\"Warangal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Karimnagar\",children:\"Karimnagar\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Nizamabad\",children:\"Nizamabad\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:filters.kycStatus,onChange:e=>setFilters(prev=>({...prev,kycStatus:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All KYC Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"APPROVED\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PENDING\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"REFER_BACK\",children:\"Refer Back\"}),/*#__PURE__*/_jsx(\"option\",{value:\"REJECTED\",children:\"Rejected\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NOT_STARTED\",children:\"Not Started\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:filters.assignmentStatus,onChange:e=>setFilters(prev=>({...prev,assignmentStatus:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Assignment Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ASSIGNED\",children:\"Assigned\"}),/*#__PURE__*/_jsx(\"option\",{value:\"UNASSIGNED\",children:\"Unassigned\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:filters.assignedEmployee,onChange:e=>setFilters(prev=>({...prev,assignedEmployee:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Employees\"}),employees.map(employee=>/*#__PURE__*/_jsx(\"option\",{value:employee.id,children:employee.name},employee.id))]})}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-filters-btn\",onClick:()=>setFilters({state:'',district:'',region:'',kycStatus:'',assignmentStatus:'',assignedEmployee:''}),children:\"Clear Filters\"})]}),/*#__PURE__*/_jsx(DataTable,{data:filteredFarmers,columns:[{key:'name',label:'NAME',className:'col-name',render:(value,row)=>value||row.fullName||row.userName||row.firstName||'N/A'},{key:'phoneNumber',label:'PHONE',className:'col-phone',render:(value,row)=>value||row.phone||row.contactNumber||row.mobileNumber||'N/A'},{key:'state',label:'STATE',className:'col-state',render:(value,row)=>value||row.state||'N/A'},{key:'district',label:'DISTRICT',className:'col-district',render:(value,row)=>value||row.district||'N/A'},{key:'kycStatus',label:'KYC STATUS',className:'col-kyc',type:'status',render:(value,row)=>value||row.kycStatus||'NOT_STARTED'},{key:'assignedEmployee',label:'ASSIGNED EMPLOYEE',className:'col-employee',render:(value,row)=>{if(typeof value==='object'&&value){return value.name||value.firstName+' '+value.lastName||'N/A';}return value||row.assignedEmployeeName||'Not Assigned';}}],actions:[{label:'View',className:'action-btn-small primary',onClick:handleViewFarmer},{label:'Edit',className:'action-btn-small secondary',onClick:handleEditFarmer},{label:'KYC',className:'action-btn-small warning',onClick:handleKYCDocumentUpload}]})]}):showFarmerRegistration?/*#__PURE__*/_jsxs(\"div\",{className:\"farmer-registration-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Add New Farmer\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-description\",children:\"Fill in the farmer details to create a new farmer account.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn-small secondary\",onClick:()=>setShowFarmerRegistration(false),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\"Back to Farmers\"]})})]}),/*#__PURE__*/_jsx(FarmerRegistrationForm,{isInDashboard:true,onClose:()=>setShowFarmerRegistration(false),onSubmit:async farmerData=>{try{const newFarmer=await farmersAPI.createFarmer(farmerData);setFarmers(prev=>[...prev,newFarmer]);alert('Farmer created successfully!');setShowFarmerRegistration(false);}catch(error){console.error('Error creating farmer:',error);alert('Failed to create farmer. Please try again.');}}})]}):showFarmerDetails?/*#__PURE__*/_jsxs(\"div\",{className:\"farmer-details-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Farmer Details\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"section-description\",children:[\"View detailed information for \",(selectedFarmerData===null||selectedFarmerData===void 0?void 0:selectedFarmerData.name)||'selected farmer',\".\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn-small secondary\",onClick:()=>setShowFarmerDetails(false),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\"Back to Farmers\"]})})]}),/*#__PURE__*/_jsx(ViewFarmerRegistrationDetails,{isInDashboard:true,farmerData:selectedFarmerData,onClose:()=>setShowFarmerDetails(false)})]}):null});};const renderRegistration=()=>{const filteredRegistrations=getFilteredRegistrations();return/*#__PURE__*/_jsxs(\"div\",{className:\"registration-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Registration Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-description\",children:\"Review and manage user registration requests.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn-small primary\",onClick:()=>{console.log('🔄 Manually refreshing data...');fetchData();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sync-alt\"}),\"Refresh Data\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:registrationFilters.role,onChange:e=>setRegistrationFilters(prev=>({...prev,role:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Roles\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FARMER\",children:\"Farmer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"EMPLOYEE\",children:\"Employee\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ADMIN\",children:\"Admin\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:registrationFilters.status,onChange:e=>setRegistrationFilters(prev=>({...prev,status:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PENDING\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"APPROVED\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"option\",{value:\"REJECTED\",children:\"Rejected\"})]})})]}),/*#__PURE__*/_jsx(DataTable,{data:filteredRegistrations,columns:[{key:'name',label:'Name',className:'col-name',render:(value,row)=>value||row.fullName||row.userName||row.firstName||'N/A'},{key:'email',label:'Email',className:'col-email',render:(value,row)=>value||row.emailAddress||row.userEmail||'N/A'},{key:'phoneNumber',label:'Phone',className:'col-phone',render:(value,row)=>value||row.phone||row.mobile||row.contactNumber||row.mobileNumber||'N/A'},{key:'role',label:'Role',className:'col-role',render:(value,row)=>value||row.userRole||row.type||row.userType||'N/A'},{key:'status',label:'Status',className:'col-status',type:'status',render:(value,row)=>value||row.registrationStatus||row.approvalStatus||row.kycStatus||'N/A'}],customActions:[{label:'View',className:'action-btn-small info',onClick:handleViewRegistration},{label:'Approve',className:'action-btn-small success',onClick:registration=>handleApproveRegistration(registration.id),show:registration=>registration.status==='PENDING'},{label:'Reject',className:'action-btn-small danger',onClick:registration=>handleRejectRegistration(registration.id),show:registration=>registration.status==='PENDING'}]})]});};const renderEmployees=()=>{const filteredEmployees=getFilteredEmployees();return/*#__PURE__*/_jsx(\"div\",{className:\"overview-section\",children:!showEmployeeRegistration?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"overview-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"overview-title\",children:\"Employee Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"overview-description\",children:\"View and manage employee profiles with KYC assignment statistics.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overview-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"action-btn primary\",onClick:()=>setShowEmployeeRegistration(true),children:\"Add Employee\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"employee-stats\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Employee KYC Progress\"}),/*#__PURE__*/_jsx(\"div\",{className:\"employee-stats-grid\",children:employees.map(employee=>{// Calculate real stats from farmers data\nconst assignedFarmers=(farmers||[]).filter(f=>f.assignedEmployee===employee.name||f.assignedEmployee===employee.contactNumber||f.assignedEmployeeId===employee.id);const approvedCount=assignedFarmers.filter(f=>f.kycStatus==='APPROVED'||f.kycStatus==='approved').length;const pendingCount=assignedFarmers.filter(f=>f.kycStatus==='PENDING'||f.kycStatus==='pending'||f.kycStatus==='NOT_STARTED'||f.kycStatus==='not_started').length;const referBackCount=assignedFarmers.filter(f=>f.kycStatus==='REFER_BACK'||f.kycStatus==='refer_back').length;const rejectedCount=assignedFarmers.filter(f=>f.kycStatus==='REJECTED'||f.kycStatus==='rejected').length;return/*#__PURE__*/_jsxs(\"div\",{className:\"employee-stat-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"employee-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:employee.name}),/*#__PURE__*/_jsxs(\"p\",{children:[employee.designation,\" - \",employee.district]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"employee-kyc-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:assignedFarmers.length}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total Assigned\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number approved\",children:approvedCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Approved\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number pending\",children:pendingCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Pending\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number refer-back\",children:referBackCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Refer Back\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number rejected\",children:rejectedCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Rejected\"})]})]})]},employee.id);})})]}),/*#__PURE__*/_jsx(DataTable,{data:filteredEmployees.map(employee=>{// Calculate real stats from farmers data\nconst assignedFarmers=(farmers||[]).filter(f=>f.assignedEmployee===employee.name||f.assignedEmployee===employee.contactNumber||f.assignedEmployeeId===employee.id);const approvedCount=assignedFarmers.filter(f=>f.kycStatus==='APPROVED'||f.kycStatus==='approved').length;const pendingCount=assignedFarmers.filter(f=>f.kycStatus==='PENDING'||f.kycStatus==='pending'||f.kycStatus==='NOT_STARTED'||f.kycStatus==='not_started').length;return{...employee,totalAssigned:assignedFarmers.length,approvedKyc:approvedCount,pendingKyc:pendingCount};}),columns:[{key:'name',label:'Name'},{key:'contactNumber',label:'Contact'},{key:'email',label:'Email'},{key:'state',label:'State'},{key:'district',label:'District'},{key:'totalAssigned',label:'Assigned Farmers'},{key:'approvedKyc',label:'Approved KYC'},{key:'pendingKyc',label:'Pending KYC'}],customActions:[{label:'View',className:'action-btn-small info',onClick:handleViewEmployee},{label:'Edit',className:'action-btn-small primary',onClick:handleEditEmployee}]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"employee-registration-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Add New Employee\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-description\",children:\"Fill in the employee details to create a new employee account.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn-small secondary\",onClick:()=>setShowEmployeeRegistration(false),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\"Back to Employees\"]})})]}),/*#__PURE__*/_jsx(EmployeeRegistrationForm,{isInDashboard:true,onClose:()=>setShowEmployeeRegistration(false),onSubmit:async employeeData=>{try{const newEmployee=await employeesAPI.createEmployee(employeeData);setEmployees(prev=>[...prev,newEmployee]);alert('Employee created successfully!');setShowEmployeeRegistration(false);}catch(error){console.error('Error creating employee:',error);alert('Failed to create employee. Please try again.');}}})]})});};const renderKYCOverview=()=>{const stats=getStats();return/*#__PURE__*/_jsxs(\"div\",{className:\"overview-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"overview-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"overview-title\",children:\"KYC Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"overview-description\",children:\"Comprehensive view of KYC status across all farmers and employees.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-breakdown\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"KYC Status Breakdown\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat-card approved\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"kyc-stat-number\",children:stats.approvedKYC}),/*#__PURE__*/_jsx(\"span\",{className:\"kyc-stat-label\",children:\"Approved\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat-card pending\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"kyc-stat-number\",children:stats.pendingKYC}),/*#__PURE__*/_jsx(\"span\",{className:\"kyc-stat-label\",children:\"Pending\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat-card refer-back\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"kyc-stat-number\",children:stats.referBackKYC}),/*#__PURE__*/_jsx(\"span\",{className:\"kyc-stat-label\",children:\"Refer Back\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat-card rejected\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"kyc-stat-number\",children:stats.rejectedKYC}),/*#__PURE__*/_jsx(\"span\",{className:\"kyc-stat-label\",children:\"Rejected\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"employee-stats\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Employee KYC Progress\"}),/*#__PURE__*/_jsx(\"div\",{className:\"employee-stats-grid\",children:employees.map(employee=>{// Calculate real stats from farmers data\nconst assignedFarmers=(farmers||[]).filter(f=>f.assignedEmployee===employee.name||f.assignedEmployee===employee.contactNumber||f.assignedEmployeeId===employee.id);const approvedCount=assignedFarmers.filter(f=>f.kycStatus==='APPROVED'||f.kycStatus==='approved').length;const pendingCount=assignedFarmers.filter(f=>f.kycStatus==='PENDING'||f.kycStatus==='pending'||f.kycStatus==='NOT_STARTED'||f.kycStatus==='not_started').length;const referBackCount=assignedFarmers.filter(f=>f.kycStatus==='REFER_BACK'||f.kycStatus==='refer_back').length;const rejectedCount=assignedFarmers.filter(f=>f.kycStatus==='REJECTED'||f.kycStatus==='rejected').length;return/*#__PURE__*/_jsxs(\"div\",{className:\"employee-stat-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"employee-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:employee.name}),/*#__PURE__*/_jsxs(\"p\",{children:[employee.designation,\" - \",employee.district]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"employee-kyc-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number\",children:assignedFarmers.length}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total Assigned\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number approved\",children:approvedCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Approved\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number pending\",children:pendingCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Pending\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number refer-back\",children:referBackCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Refer Back\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-number rejected\",children:rejectedCount}),/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Rejected\"})]})]})]},employee.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-progress-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"KYC Progress Overview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"kyc-progress-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"progress-card approved\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-circle\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-number\",children:stats.approvedKYC})}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-label\",children:\"Approved KYC\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-card pending\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-circle\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-number\",children:stats.pendingKYC})}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-label\",children:\"Pending KYC\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-card refer-back\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-circle\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-number\",children:stats.referBackKYC})}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-label\",children:\"Refer Back\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-card rejected\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-circle\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-number\",children:stats.rejectedKYC})}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-label\",children:\"Rejected KYC\"})]})]})]})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logo-text\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"logo-title\",children:\"DATE\"}),/*#__PURE__*/_jsx(\"p\",{className:\"logo-subtitle\",children:\"Digital Agristack Transaction Enterprises\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"date-display\",children:new Date().toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar-right\",children:[/*#__PURE__*/_jsx(ThemeDropdown,{}),/*#__PURE__*/_jsx(UserProfileDropdown,{onShowChangePassword:()=>setShowChangePassword(true),onShowChangeUserId:()=>setShowChangeUserId(true)})]})]}),/*#__PURE__*/_jsxs(\"aside\",{className:\"dashboard-sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-text\",children:\"Welcome !!!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logo-subtitle\",children:\"Admin\"})]})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"sidebar-nav\",children:[/*#__PURE__*/_jsx(\"button\",{className:`nav-item ${activeTab==='overview'?'active':''}`,onClick:()=>setActiveTab('overview'),children:\"\\uD83D\\uDCCA Overview\"}),/*#__PURE__*/_jsx(\"button\",{className:`nav-item ${activeTab==='kyc-overview'?'active':''}`,onClick:()=>setActiveTab('kyc-overview'),children:\"\\uD83E\\uDEAA KYC Overview\"}),/*#__PURE__*/_jsx(\"button\",{className:`nav-item ${activeTab==='farmers'?'active':''}`,onClick:()=>setActiveTab('farmers'),children:\"\\uD83D\\uDC68\\u200D\\uD83C\\uDF3E Farmers\"}),/*#__PURE__*/_jsx(\"button\",{className:`nav-item ${activeTab==='employees'?'active':''}`,onClick:()=>setActiveTab('employees'),children:\"\\uD83D\\uDC65 Employees\"}),/*#__PURE__*/_jsx(\"button\",{className:`nav-item ${activeTab==='registration'?'active':''}`,onClick:()=>setActiveTab('registration'),children:\"\\uD83D\\uDCDD Registrations\"}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-item\",onClick:()=>navigate('/analytical-dashboard'),children:\"\\uD83D\\uDCC8 Dashboard\"})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"dashboard-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[activeTab==='overview'&&/*#__PURE__*/_jsx(\"header\",{className:\"dashboard-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"header-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-message\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"greeting\",children:[getGreeting(),\", \",(user===null||user===void 0?void 0:user.name)||(user===null||user===void 0?void 0:user.email)||'Admin',\"! \\uD83C\\uDF8B\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"welcome-text\",children:\"Welcome to DATE Digital Agristack - Manage farmers, employees and registrations efficiently.\"})]})})}),showFarmerForm?/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-form-container\",children:/*#__PURE__*/_jsx(FarmerForm,{isInDashboard:true,editData:editingFarmer,onClose:()=>{setShowFarmerForm(false);setEditingFarmer(null);},onSubmit:async farmerData=>{try{if(editingFarmer){const updatedFarmer=await farmersAPI.updateFarmer(editingFarmer.id,farmerData);setFarmers(prev=>prev.map(farmer=>farmer.id===editingFarmer.id?updatedFarmer:farmer));alert('Farmer updated successfully!');}else{const newFarmer=await farmersAPI.createFarmer(farmerData);setFarmers(prev=>[...prev,newFarmer]);alert('Farmer created successfully!');}setShowFarmerForm(false);setEditingFarmer(null);}catch(error){console.error('Error saving farmer:',error);alert('Failed to save farmer. Please try again.');}}})}):showEmployeeForm?/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-form-container\",children:/*#__PURE__*/_jsx(EmployeeRegistrationForm,{isInDashboard:true,editData:editingEmployee,onClose:()=>{setShowEmployeeForm(false);setEditingEmployee(null);},onSubmit:async employeeData=>{try{if(editingEmployee){const updatedEmployee=await employeesAPI.updateEmployee(editingEmployee.id,employeeData);setEmployees(prev=>prev.map(employee=>employee.id===editingEmployee.id?updatedEmployee:employee));alert('Employee updated successfully!');}else{const newEmployee=await employeesAPI.createEmployee(employeeData);setEmployees(prev=>[...prev,newEmployee]);alert('Employee created successfully!');}setShowEmployeeForm(false);setEditingEmployee(null);}catch(error){console.error('Error saving employee:',error);alert('Failed to save employee. Please try again.');}}})}):showViewFarmer?/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-form-container\",children:/*#__PURE__*/_jsx(ViewFarmerRegistrationDetails,{isInDashboard:true,farmerData:selectedFarmerForView||farmers,onClose:handleCloseViewFarmer,onFarmerSelect:handleFarmerSelect})}):showViewEmployee?/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-form-container\",children:/*#__PURE__*/_jsx(ViewEditEmployeeDetails,{isInDashboard:true,employeeData:selectedEmployeeForView||employees,onClose:handleCloseViewEmployee,onEmployeeSelect:handleEmployeeSelect})}):showChangePassword?/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-form-container\",children:/*#__PURE__*/_jsx(ChangePasswordModal,{isOpen:true,onClose:()=>setShowChangePassword(false),onSuccess:()=>{setNotification({type:'success',message:'Password changed successfully!'});setShowChangePassword(false);},isInDashboard:true})}):showChangeUserId?/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-form-container\",children:/*#__PURE__*/_jsx(ChangeUserIdModal,{isOpen:true,onClose:()=>setShowChangeUserId(false),onSuccess:()=>{setNotification({type:'success',message:'User ID changed successfully!'});setShowChangeUserId(false);},isInDashboard:true})}):showPendingKYC?/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-form-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"view-farmer-dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-text\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"dashboard-title\",children:\"Pending KYC\"}),/*#__PURE__*/_jsx(\"p\",{className:\"dashboard-subtitle\",children:\"Review and manage pending KYC applications\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"back-button\",onClick:handleClosePendingKYC,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\"Back\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"farmers-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"farmers-table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-header\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"State\"}),/*#__PURE__*/_jsx(\"th\",{children:\"District\"}),/*#__PURE__*/_jsx(\"th\",{children:\"KYC Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"table-body\",children:farmers.filter(farmer=>farmer.kycStatus==='PENDING').map(farmer=>/*#__PURE__*/_jsxs(\"tr\",{className:\"table-row\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:farmer.name}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:farmer.phone}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:farmer.state}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:farmer.district}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge pending\",children:\"PENDING\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"table-cell\",children:/*#__PURE__*/_jsx(\"button\",{className:\"action-btn small\",onClick:()=>handleKYCDocumentUpload(farmer),children:\"Review KYC\"})})]},farmer.id))})]})})})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[activeTab==='overview'&&renderOverview(),activeTab==='kyc-overview'&&renderKYCOverview(),activeTab==='farmers'&&renderFarmers(),activeTab==='employees'&&renderEmployees(),activeTab==='registration'&&renderRegistration()]}),/*#__PURE__*/_jsx(DataFetchTest,{})]})}),showAssignmentModal&&/*#__PURE__*/_jsx(AssignmentModal,{farmers:farmers.filter(f=>{// Check if farmer is unassigned based on backend data structure\nreturn!f.assignedEmployee||f.assignedEmployee==='Not Assigned'||f.assignedEmployee===null||f.assignedEmployee===undefined||f.assignedEmployee==='';}),employees:employees,onClose:()=>setShowAssignmentModal(false),onAssign:handleAssignFarmers}),showEmployeeDetails&&selectedEmployeeData&&/*#__PURE__*/_jsx(ViewEditEmployeeDetails,{employee:selectedEmployeeData,onClose:handleCloseEmployeeDetails,onUpdate:handleUpdateEmployee}),showKYCDocumentUpload&&selectedFarmerForKYC&&/*#__PURE__*/_jsx(KYCDocumentUpload,{farmer:selectedFarmerForKYC,onClose:handleCloseKYCDocumentUpload,onApprove:handleKYCApprove,onReject:handleKYCReject,onReferBack:handleKYCReferBack}),showRegistrationDetailModal&&selectedRegistrationForDetail&&/*#__PURE__*/_jsx(RegistrationDetailModal,{registration:selectedRegistrationForDetail,onClose:handleCloseRegistrationDetailModal,onUpdate:handleRegistrationUpdate,onApprove:handleApproveRegistration,onReject:handleRejectRegistration}),notification&&/*#__PURE__*/_jsxs(\"div\",{className:`notification-toast ${notification.type}`,children:[/*#__PURE__*/_jsx(\"span\",{children:notification.message}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNotification(null),children:\"\\xD7\"})]})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","farmersAPI","employeesAPI","adminAPI","superAdminAPI","FarmerForm","FarmerRegistrationForm","EmployeeRegistrationForm","AssignmentModal","KYCDocumentUpload","ViewFarmerRegistrationDetails","ViewEditEmployeeDetails","StatsCard","DataTable","UserProfileDropdown","ThemeDropdown","RegistrationApprovalModal","RegistrationDetailModal","ChangePasswordModal","ChangeUserIdModal","DataFetchTest","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminDashboard","navigate","user","logout","activeTab","setActiveTab","farmers","setFarmers","employees","setEmployees","selectedEmployee","setSelectedEmployee","showAssignmentModal","setShowAssignmentModal","showFarmerForm","setShowFarmerForm","showEmployeeForm","setShowEmployeeForm","showFarmerDetails","setShowFarmerDetails","selectedFarmerData","setSelectedFarmerData","showEmployeeDetails","setShowEmployeeDetails","selectedEmployeeData","setSelectedEmployeeData","showKYCDocumentUpload","setShowKYCDocumentUpload","selectedFarmerForKYC","setSelectedFarmerForKYC","editingFarmer","setEditingFarmer","editingEmployee","setEditingEmployee","registrations","setRegistrations","showRegistrationModal","setShowRegistrationModal","selectedRegistration","setSelectedRegistration","showRegistrationDetailModal","setShowRegistrationDetailModal","selectedRegistrationForDetail","setSelectedRegistrationForDetail","showEmployeeRegistration","setShowEmployeeRegistration","showFarmerRegistration","setShowFarmerRegistration","registrationFilters","setRegistrationFilters","role","status","filters","setFilters","state","district","region","kycStatus","assignmentStatus","employeeFilter","showUserDropdown","setShowUserDropdown","showViewFarmer","setShowViewFarmer","showViewEmployee","setShowViewEmployee","selectedFarmerForView","setSelectedFarmerForView","selectedEmployeeForView","setSelectedEmployeeForView","showPendingKYC","setShowPendingKYC","showChangePassword","setShowChangePassword","showChangeUserId","setShowChangeUserId","notification","setNotification","getGreeting","hour","Date","getHours","fetchData","handleKYCUpdate","event","console","log","detail","setTimeout","window","addEventListener","removeEventListener","farmersData","employeesData","registrationsData","Promise","all","getFarmersWithKyc","getEmployeesWithStats","getRegistrationList","farmersCount","length","employeesCount","registrationsCount","error","fallbackFarmers","fallbackEmployees","fallbackRegistrations","getAllFarmers","getAllEmployees","fallbackError","loadMockData","mockFarmers","id","name","phone","assignedEmployee","assignedDate","mockEmployees","email","designation","assignedFarmersCount","kycStats","approved","pending","referBack","rejected","loadMockRegistrationData","mockRegistrations","phoneNumber","createdAt","documents","rejectionReason","getFilteredFarmers","filter","farmer","matchesState","matchesDistrict","matchesKycStatus","matchesEmployee","getFilteredEmployees","employee","getFilteredRegistrations","filtered","registration","roleMatch","statusMatch","handleViewRegistration","handleCloseRegistrationDetailModal","handleRegistrationUpdate","handleApproveRegistration","registrationId","approveUser","prev","map","reg","alert","handleRejectRegistration","rejectUser","getStats","totalFarmers","totalEmployees","unassignedFarmers","f","pendingKYC","approvedKYC","referBackKYC","rejectedKYC","getTodoList","overdueKYC","employeesWithLargeQueues","emp","pendingCount","pendingKyc","handleLogout","toggleUserDropdown","handleChangePassword","location","href","handleViewFarmer","handleCloseFarmerDetails","handleViewEmployee","handleCloseEmployeeDetails","handleUpdateEmployee","updatedData","handleKYCDocumentUpload","handleCloseKYCDocumentUpload","handleKYCApprove","farmerId","handleKYCReject","reason","handleKYCReferBack","handleEditFarmer","handleEditEmployee","handleAssignFarmers","assignments","_assignments$","farmerIds","a","employeeId","bulkAssignFarmers","bulkError","assignFarmer","individualError","assignment","find","employeeName","toISOString","split","handleAddFarmer","handleViewFarmers","handleAddEmployee","handleViewEmployees","handleAssignFarmersQuick","handlePendingKYC","handleFarmerSelect","handleEmployeeSelect","handleCloseViewFarmer","handleCloseViewEmployee","handleClosePendingKYC","renderOverview","stats","className","children","onClick","renderFarmers","filteredFarmers","value","onChange","e","target","data","columns","key","label","render","row","fullName","userName","firstName","contactNumber","mobileNumber","type","lastName","assignedEmployeeName","actions","isInDashboard","onClose","onSubmit","farmerData","newFarmer","createFarmer","renderRegistration","filteredRegistrations","emailAddress","userEmail","mobile","userRole","userType","registrationStatus","approvalStatus","customActions","show","renderEmployees","filteredEmployees","assignedFarmers","assignedEmployeeId","approvedCount","referBackCount","rejectedCount","totalAssigned","approvedKyc","employeeData","newEmployee","createEmployee","renderKYCOverview","toLocaleDateString","weekday","year","month","day","onShowChangePassword","onShowChangeUserId","editData","updatedFarmer","updateFarmer","updatedEmployee","updateEmployee","onFarmerSelect","onEmployeeSelect","isOpen","onSuccess","message","undefined","onAssign","onUpdate","onApprove","onReject","onReferBack"],"sources":["D:/Fronted-dev/Latest-working-frontend/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { farmersAPI, employeesAPI, adminAPI, superAdminAPI } from '../api/apiService';\r\nimport '../styles/Dashboard.css';\r\nimport FarmerForm from '../components/FarmerForm';\r\nimport FarmerRegistrationForm from '../components/FarmerRegistrationForm';\r\nimport EmployeeRegistrationForm from '../components/EmployeeRegistrationForm';\r\nimport AssignmentModal from '../components/AssignmentModal';\r\nimport KYCDocumentUpload from '../components/KYCDocumentUpload';\r\nimport ViewFarmerRegistrationDetails from '../components/ViewFarmerRegistrationDetails';\r\nimport ViewEditEmployeeDetails from '../components/ViewEditEmployeeDetails';\r\nimport StatsCard from '../components/StatsCard';\r\nimport DataTable from '../components/DataTable';\r\nimport UserProfileDropdown from '../components/UserProfileDropdown';\r\nimport ThemeDropdown from '../components/ThemeDropdown';\r\nimport RegistrationApprovalModal from '../components/RegistrationApprovalModal';\r\nimport RegistrationDetailModal from '../components/RegistrationDetailModal';\r\nimport ChangePasswordModal from '../components/ChangePasswordModal';\r\nimport ChangeUserIdModal from '../components/ChangeUserIdModal';\r\nimport DataFetchTest from '../components/DataFetchTest';\r\n\r\nconst AdminDashboard = () => {\r\n  const navigate = useNavigate();\r\n  const { user, logout } = useAuth();\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [farmers, setFarmers] = useState([]);\r\n  const [employees, setEmployees] = useState([]);\r\n  const [selectedEmployee, setSelectedEmployee] = useState('');\r\n  const [showAssignmentModal, setShowAssignmentModal] = useState(false);\r\n  const [showFarmerForm, setShowFarmerForm] = useState(false);\r\n  const [showEmployeeForm, setShowEmployeeForm] = useState(false);\r\n  const [showFarmerDetails, setShowFarmerDetails] = useState(false);\r\n  const [selectedFarmerData, setSelectedFarmerData] = useState(null);\r\n  const [showEmployeeDetails, setShowEmployeeDetails] = useState(false);\r\n  const [selectedEmployeeData, setSelectedEmployeeData] = useState(null);\r\n  const [showKYCDocumentUpload, setShowKYCDocumentUpload] = useState(false);\r\n  const [selectedFarmerForKYC, setSelectedFarmerForKYC] = useState(null);\r\n  const [editingFarmer, setEditingFarmer] = useState(null);\r\n  const [editingEmployee, setEditingEmployee] = useState(null);\r\n  const [registrations, setRegistrations] = useState([]);\r\n  const [showRegistrationModal, setShowRegistrationModal] = useState(false);\r\n  const [selectedRegistration, setSelectedRegistration] = useState(null);\r\n  const [showRegistrationDetailModal, setShowRegistrationDetailModal] = useState(false);\r\n  const [selectedRegistrationForDetail, setSelectedRegistrationForDetail] = useState(null);\r\n  const [showEmployeeRegistration, setShowEmployeeRegistration] = useState(false);\r\n  const [showFarmerRegistration, setShowFarmerRegistration] = useState(false);\r\n  const [registrationFilters, setRegistrationFilters] = useState({\r\n    role: '',\r\n    status: ''\r\n  });\r\n  const [filters, setFilters] = useState({\r\n    state: '',\r\n    district: '',\r\n    region: '',\r\n    kycStatus: '',\r\n    assignmentStatus: '',\r\n    employeeFilter: ''\r\n  });\r\n  const [showUserDropdown, setShowUserDropdown] = useState(false);\r\n  const [showViewFarmer, setShowViewFarmer] = useState(false);\r\n  const [showViewEmployee, setShowViewEmployee] = useState(false);\r\n  const [selectedFarmerForView, setSelectedFarmerForView] = useState(null);\r\n  const [selectedEmployeeForView, setSelectedEmployeeForView] = useState(null);\r\n  const [showPendingKYC, setShowPendingKYC] = useState(false);\r\n  const [showChangePassword, setShowChangePassword] = useState(false);\r\n  const [showChangeUserId, setShowChangeUserId] = useState(false);\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  // Greeting function based on time of day\r\n  const getGreeting = () => {\r\n    const hour = new Date().getHours();\r\n    if (hour >= 5 && hour < 12) {\r\n      return 'Good Morning';\r\n    } else if (hour >= 12 && hour < 17) {\r\n      return 'Good Afternoon';\r\n    } else if (hour >= 17 && hour < 21) {\r\n      return 'Good Evening';\r\n    } else {\r\n      return 'Good Night';\r\n    }\r\n  };\r\n\r\n  // Load data from API\r\n  useEffect(() => {\r\n    fetchData();\r\n    \r\n    // Listen for KYC status updates from Employee Dashboard\r\n    const handleKYCUpdate = (event) => {\r\n      console.log('🔄 Admin Dashboard: KYC status updated, refreshing data...');\r\n      console.log('📊 KYC Update details:', event.detail);\r\n      // Wait 2 seconds for backend to update, then refresh\r\n      setTimeout(() => {\r\n        console.log('🔄 Refreshing Admin data after KYC update...');\r\n        fetchData();\r\n      }, 2000);\r\n    };\r\n    \r\n    window.addEventListener('kycStatusUpdated', handleKYCUpdate);\r\n    \r\n    return () => {\r\n      window.removeEventListener('kycStatusUpdated', handleKYCUpdate);\r\n    };\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      console.log('🔍 Admin: Starting to fetch real data from API...');\r\n      \r\n      // Fetch farmers, employees, and registrations from API using admin endpoints\r\n      const [farmersData, employeesData, registrationsData] = await Promise.all([\r\n        adminAPI.getFarmersWithKyc(),\r\n        adminAPI.getEmployeesWithStats(),\r\n        superAdminAPI.getRegistrationList()\r\n      ]);\r\n      \r\n      console.log('✅ Admin API Response:', { \r\n        farmersCount: farmersData?.length || 0,\r\n        employeesCount: employeesData?.length || 0,\r\n        registrationsCount: registrationsData?.length || 0\r\n      });\r\n      \r\n      // Use real data from APIs\r\n      setFarmers(farmersData || []);\r\n      setEmployees(employeesData || []);\r\n      setRegistrations(registrationsData || []);\r\n      \r\n      console.log('✅ Admin: Using real data from APIs');\r\n      console.log('- Farmers:', farmersData?.length || 0, 'records');\r\n      console.log('- Employees:', employeesData?.length || 0, 'records');\r\n      console.log('- Registrations:', registrationsData?.length || 0, 'records');\r\n      \r\n    } catch (error) {\r\n      console.error('❌ Admin error fetching data:', error);\r\n      console.log('❌ Using fallback endpoints due to API error');\r\n      \r\n      // Try basic admin endpoints as fallback\r\n      try {\r\n        const [fallbackFarmers, fallbackEmployees, fallbackRegistrations] = await Promise.all([\r\n          adminAPI.getAllFarmers(),\r\n          adminAPI.getAllEmployees(),\r\n          superAdminAPI.getRegistrationList()\r\n        ]);\r\n        \r\n        console.log('✅ Fallback API Response:', {\r\n          farmersCount: fallbackFarmers?.length || 0,\r\n          employeesCount: fallbackEmployees?.length || 0,\r\n          registrationsCount: fallbackRegistrations?.length || 0\r\n        });\r\n        \r\n        setFarmers(fallbackFarmers || []);\r\n        setEmployees(fallbackEmployees || []);\r\n        setRegistrations(fallbackRegistrations || []);\r\n        \r\n      } catch (fallbackError) {\r\n        console.error('❌ Fallback API also failed:', fallbackError);\r\n        // Set empty arrays if all APIs fail\r\n        setFarmers([]);\r\n        setEmployees([]);\r\n        setRegistrations([]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const loadMockData = () => {\r\n    const mockFarmers = [\r\n      {\r\n        id: 1,\r\n        name: 'Ramu Yadav',\r\n        phone: '9876543210',\r\n        state: 'Telangana',\r\n        district: 'Karimnagar',\r\n        region: 'Southern',\r\n        kycStatus: 'PENDING',\r\n        assignmentStatus: 'ASSIGNED',\r\n        assignedEmployee: 'harish reddy',\r\n        assignedDate: '2024-01-15'\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Krishna Kumar',\r\n        phone: '9983733210',\r\n        state: 'Andhrapradesh',\r\n        district: 'rangareddy',\r\n        region: 'Southern',\r\n        kycStatus: 'PENDING',\r\n        assignmentStatus: 'ASSIGNED',\r\n        assignedEmployee: 'harish reddy',\r\n        assignedDate: '2024-01-18'\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'suman kurrapati',\r\n        phone: '9783733210',\r\n        state: 'Andhrapradesh',\r\n        district: 'kadapa',\r\n        region: 'Southern',\r\n        kycStatus: 'NOT_STARTED',\r\n        assignmentStatus: 'ASSIGNED',\r\n        assignedEmployee: 'harish reddy',\r\n        assignedDate: '2024-01-10'\r\n      },\r\n      {\r\n        id: 4,\r\n        name: 'vamsi krishna',\r\n        phone: '9783733210',\r\n        state: 'Andhrapradesh',\r\n        district: 'kadapa',\r\n        region: 'Southern',\r\n        kycStatus: 'NOT_STARTED',\r\n        assignmentStatus: 'ASSIGNED',\r\n        assignedEmployee: 'harish reddy',\r\n        assignedDate: '2024-01-20'\r\n      },\r\n      {\r\n        id: 5,\r\n        name: 'hari kumar chowdary',\r\n        phone: '6271979190',\r\n        state: 'Andhrapradesh',\r\n        district: 'Kadapa',\r\n        region: 'Southern',\r\n        kycStatus: 'NOT_STARTED',\r\n        assignmentStatus: 'ASSIGNED',\r\n        assignedEmployee: 'harish reddy',\r\n        assignedDate: '2024-01-25'\r\n      },\r\n      {\r\n        id: 6,\r\n        name: 'kumar sreenu chowdary',\r\n        phone: '6302949363',\r\n        state: 'Andhrapradesh',\r\n        district: 'kadpaa',\r\n        region: 'Southern',\r\n        kycStatus: 'NOT_STARTED',\r\n        assignmentStatus: 'ASSIGNED',\r\n        assignedEmployee: 'karthik kumar',\r\n        assignedDate: '2024-01-12'\r\n      },\r\n      {\r\n        id: 7,\r\n        name: 'Ainash kumar',\r\n        phone: '9798433210',\r\n        state: 'Andhrapradesh',\r\n        district: 'Kuppam',\r\n        region: 'Southern',\r\n        kycStatus: 'NOT_STARTED',\r\n        assignmentStatus: 'ASSIGNED',\r\n        assignedEmployee: 'harish reddy',\r\n        assignedDate: '2024-01-12'\r\n      }\r\n    ];\r\n\r\n    const mockEmployees = [\r\n      {\r\n        id: 1,\r\n        name: 'John Doe',\r\n        phone: '9876543201',\r\n        email: 'john.doe@company.com',\r\n        designation: 'KYC Officer',\r\n        state: 'Maharashtra',\r\n        district: 'Pune',\r\n        region: 'Western',\r\n        status: 'ACTIVE',\r\n        assignedFarmersCount: 15,\r\n        kycStats: {\r\n          approved: 8,\r\n          pending: 5,\r\n          referBack: 2,\r\n          rejected: 0\r\n        }\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Jane Smith',\r\n        phone: '9876543202',\r\n        email: 'jane.smith@company.com',\r\n        designation: 'KYC Officer',\r\n        state: 'Gujarat',\r\n        district: 'Ahmedabad',\r\n        region: 'Western',\r\n        status: 'ACTIVE',\r\n        assignedFarmersCount: 12,\r\n        kycStats: {\r\n          approved: 6,\r\n          pending: 4,\r\n          referBack: 1,\r\n          rejected: 1\r\n        }\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'Mike Johnson',\r\n        phone: '9876543203',\r\n        email: 'mike.johnson@company.com',\r\n        designation: 'KYC Officer',\r\n        state: 'Punjab',\r\n        district: 'Amritsar',\r\n        region: 'Northern',\r\n        status: 'ACTIVE',\r\n        assignedFarmersCount: 8,\r\n        kycStats: {\r\n          approved: 5,\r\n          pending: 2,\r\n          referBack: 1,\r\n          rejected: 0\r\n        }\r\n      },\r\n      {\r\n        id: 4,\r\n        name: 'Sarah Wilson',\r\n        phone: '9876543204',\r\n        email: 'sarah.wilson@company.com',\r\n        designation: 'KYC Officer',\r\n        state: 'Karnataka',\r\n        district: 'Bangalore',\r\n        region: 'Southern',\r\n        status: 'ACTIVE',\r\n        assignedFarmersCount: 0,\r\n        kycStats: {\r\n          approved: 0,\r\n          pending: 0,\r\n          referBack: 0,\r\n          rejected: 0\r\n        }\r\n      }\r\n    ];\r\n\r\n    setFarmers(mockFarmers);\r\n    setEmployees(mockEmployees);\r\n  };\r\n\r\n  const loadMockRegistrationData = () => {\r\n    const mockRegistrations = [\r\n      {\r\n        id: 1,\r\n        name: 'Ramu Yadav',\r\n        email: 'ramu.yadav@example.com',\r\n        phoneNumber: '9876543210',\r\n        role: 'FARMER',\r\n        status: 'PENDING',\r\n        createdAt: '2024-01-15',\r\n        documents: ['Aadhar Card', 'PAN Card'],\r\n        kycStatus: 'PENDING'\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Krishna Kumar',\r\n        email: 'krishna.kumar@example.com',\r\n        phoneNumber: '9983733210',\r\n        role: 'FARMER',\r\n        status: 'PENDING',\r\n        createdAt: '2024-01-14',\r\n        documents: ['Aadhar Card', 'PAN Card'],\r\n        kycStatus: 'PENDING'\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'Jane Smith',\r\n        email: 'jane.smith@example.com',\r\n        phoneNumber: '9876543211',\r\n        role: 'EMPLOYEE',\r\n        status: 'APPROVED',\r\n        createdAt: '2024-01-14',\r\n        documents: ['Aadhar Card', 'PAN Card', 'Educational Certificate'],\r\n        kycStatus: 'APPROVED'\r\n      },\r\n      {\r\n        id: 4,\r\n        name: 'Bob Wilson',\r\n        email: 'bob.wilson@example.com',\r\n        phoneNumber: '9876543212',\r\n        role: 'FARMER',\r\n        status: 'REJECTED',\r\n        createdAt: '2024-01-13',\r\n        documents: ['Aadhar Card'],\r\n        kycStatus: 'REJECTED',\r\n        rejectionReason: 'Incomplete documentation'\r\n      }\r\n    ];\r\n    setRegistrations(mockRegistrations);\r\n  };\r\n\r\n  const getFilteredFarmers = () => {\r\n    return (farmers || []).filter(farmer => {\r\n      const matchesState = !filters.state || farmer.state === filters.state;\r\n      const matchesDistrict = !filters.district || farmer.district === filters.district;\r\n      const matchesKycStatus = !filters.kycStatus || farmer.kycStatus === filters.kycStatus;\r\n      const matchesEmployee = !filters.employeeFilter || farmer.assignedEmployee === filters.employeeFilter;\r\n      \r\n      return matchesState && matchesDistrict && matchesKycStatus && matchesEmployee;\r\n    });\r\n  };\r\n\r\n  const getFilteredEmployees = () => {\r\n    return (employees || []).filter(employee => {\r\n      const matchesDistrict = !filters.district || employee.district === filters.district;\r\n      return matchesDistrict;\r\n    });\r\n  };\r\n\r\n  const getFilteredRegistrations = () => {\r\n    console.log('🔍 All registrations:', registrations);\r\n    console.log('🔍 Sample registration structure:', registrations[0]);\r\n    \r\n    // Apply filters\r\n    const filtered = (registrations || []).filter(registration => {\r\n      const roleMatch = !registrationFilters.role || registration.role === registrationFilters.role;\r\n      const statusMatch = !registrationFilters.status || registration.status === registrationFilters.status;\r\n      return roleMatch && statusMatch;\r\n    });\r\n    console.log('✅ Filtered registrations:', filtered);\r\n    return filtered;\r\n  };\r\n\r\n  const handleViewRegistration = (registration) => {\r\n    setSelectedRegistrationForDetail(registration);\r\n    setShowRegistrationDetailModal(true);\r\n  };\r\n\r\n  const handleCloseRegistrationDetailModal = () => {\r\n    setShowRegistrationDetailModal(false);\r\n    setSelectedRegistrationForDetail(null);\r\n  };\r\n\r\n  const handleRegistrationUpdate = () => {\r\n    // Refresh the registration data\r\n    fetchData();\r\n  };\r\n\r\n  const handleApproveRegistration = async (registrationId) => {\r\n    try {\r\n      await superAdminAPI.approveUser(registrationId, 'FARMER'); // Default role, can be updated\r\n      setRegistrations(prev => prev.map(reg => \r\n        reg.id === registrationId ? { ...reg, status: 'APPROVED' } : reg\r\n      ));\r\n      alert('Registration approved successfully!');\r\n    } catch (error) {\r\n      console.error('Error approving registration:', error);\r\n      alert('Failed to approve registration. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleRejectRegistration = async (registrationId) => {\r\n    try {\r\n      await superAdminAPI.rejectUser(registrationId, 'Rejected by Admin');\r\n      setRegistrations(prev => prev.map(reg => \r\n        reg.id === registrationId ? { ...reg, status: 'REJECTED' } : reg\r\n      ));\r\n      alert('Registration rejected successfully!');\r\n    } catch (error) {\r\n      console.error('Error rejecting registration:', error);\r\n      alert('Failed to reject registration. Please try again.');\r\n    }\r\n  };\r\n\r\n  const getStats = () => {\r\n    const totalFarmers = farmers?.length || 0;\r\n    const totalEmployees = employees?.length || 0;\r\n    const unassignedFarmers = (farmers || []).filter(f => !f.assignedEmployee || f.assignedEmployee === 'Not Assigned').length;\r\n    \r\n    // Handle different KYC status formats\r\n    const pendingKYC = (farmers || []).filter(f => \r\n      f.kycStatus === 'PENDING' || f.kycStatus === 'pending' || \r\n      f.kycStatus === 'NOT_STARTED' || f.kycStatus === 'not_started'\r\n    ).length;\r\n    \r\n    const approvedKYC = (farmers || []).filter(f => \r\n      f.kycStatus === 'APPROVED' || f.kycStatus === 'approved'\r\n    ).length;\r\n    \r\n    const referBackKYC = (farmers || []).filter(f => \r\n      f.kycStatus === 'REFER_BACK' || f.kycStatus === 'refer_back'\r\n    ).length;\r\n    \r\n    const rejectedKYC = (farmers || []).filter(f => \r\n      f.kycStatus === 'REJECTED' || f.kycStatus === 'rejected'\r\n    ).length;\r\n\r\n    console.log('Admin Stats calculated from real data:');\r\n    console.log('- Total Farmers:', totalFarmers);\r\n    console.log('- Total Employees:', totalEmployees);\r\n    console.log('- Unassigned Farmers:', unassignedFarmers);\r\n    console.log('- Pending KYC:', pendingKYC);\r\n    console.log('- Approved KYC:', approvedKYC);\r\n    console.log('- Refer Back KYC:', referBackKYC);\r\n    console.log('- Rejected KYC:', rejectedKYC);\r\n\r\n    return {\r\n      totalFarmers,\r\n      totalEmployees,\r\n      unassignedFarmers,\r\n      pendingKYC,\r\n      approvedKYC,\r\n      referBackKYC,\r\n      rejectedKYC\r\n    };\r\n  };\r\n\r\n  const getTodoList = () => {\r\n    const unassignedFarmers = (farmers || []).filter(f => !f.assignedEmployee || f.assignedEmployee === 'Not Assigned');\r\n    const overdueKYC = (farmers || []).filter(f => {\r\n      if ((f.kycStatus === 'PENDING' || f.kycStatus === 'NOT_STARTED') && f.assignedEmployee && f.assignedEmployee !== 'Not Assigned') {\r\n        // For now, consider all pending KYC as overdue if assigned\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n    const employeesWithLargeQueues = (employees || []).filter(emp => {\r\n      const pendingCount = emp.pendingKyc || 0;\r\n      return pendingCount > 5; // Large queue if more than 5 pending\r\n    });\r\n\r\n    console.log('Admin Todo list calculated from real data:');\r\n    console.log('- Unassigned Farmers:', unassignedFarmers.length);\r\n    console.log('- Overdue KYC:', overdueKYC.length);\r\n    console.log('- Employees with Large Queues:', employeesWithLargeQueues.length);\r\n\r\n    return {\r\n      unassignedFarmers,\r\n      overdueKYC,\r\n      employeesWithLargeQueues\r\n    };\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n  };\r\n\r\n  const toggleUserDropdown = () => {\r\n    setShowUserDropdown(!showUserDropdown);\r\n  };\r\n\r\n  const handleChangePassword = () => {\r\n    // Navigate to change password page\r\n    window.location.href = '/change-password';\r\n  };\r\n\r\n  const handleViewFarmer = (farmer) => {\r\n    setSelectedFarmerData(farmer);\r\n    setShowFarmerDetails(true);\r\n  };\r\n\r\n  const handleCloseFarmerDetails = () => {\r\n    setShowFarmerDetails(false);\r\n    setSelectedFarmerData(null);\r\n  };\r\n\r\n  const handleViewEmployee = (employee) => {\r\n    setSelectedEmployeeData(employee);\r\n    setShowEmployeeDetails(true);\r\n  };\r\n\r\n  const handleCloseEmployeeDetails = () => {\r\n    setShowEmployeeDetails(false);\r\n    setSelectedEmployeeData(null);\r\n  };\r\n\r\n  const handleUpdateEmployee = (updatedData) => {\r\n    setEmployees(prev => prev.map(emp => \r\n      emp.id === updatedData.id ? updatedData : emp\r\n    ));\r\n    setShowEmployeeDetails(false);\r\n    setSelectedEmployeeData(null);\r\n  };\r\n\r\n  const handleKYCDocumentUpload = (farmer) => {\r\n    setSelectedFarmerForKYC(farmer);\r\n    setShowKYCDocumentUpload(true);\r\n  };\r\n\r\n  const handleCloseKYCDocumentUpload = () => {\r\n    setShowKYCDocumentUpload(false);\r\n    setSelectedFarmerForKYC(null);\r\n  };\r\n\r\n  const handleKYCApprove = (farmerId, documents) => {\r\n    setFarmers(prev => prev.map(farmer => \r\n      farmer.id === farmerId \r\n        ? { ...farmer, kycStatus: 'APPROVED' }\r\n        : farmer\r\n    ));\r\n    setShowKYCDocumentUpload(false);\r\n    setSelectedFarmerForKYC(null);\r\n  };\r\n\r\n  const handleKYCReject = (farmerId, reason, documents) => {\r\n    setFarmers(prev => prev.map(farmer => \r\n      farmer.id === farmerId \r\n        ? { ...farmer, kycStatus: 'REJECTED' }\r\n        : farmer\r\n    ));\r\n    setShowKYCDocumentUpload(false);\r\n    setSelectedFarmerForKYC(null);\r\n  };\r\n\r\n  const handleKYCReferBack = (farmerId, reason, documents) => {\r\n    setFarmers(prev => prev.map(farmer => \r\n      farmer.id === farmerId \r\n        ? { ...farmer, kycStatus: 'REFER_BACK' }\r\n        : farmer\r\n    ));\r\n    setShowKYCDocumentUpload(false);\r\n    setSelectedFarmerForKYC(null);\r\n  };\r\n\r\n  const handleEditFarmer = (farmer) => {\r\n    setEditingFarmer(farmer);\r\n    setShowFarmerForm(true);\r\n  };\r\n\r\n  const handleEditEmployee = (employee) => {\r\n    setEditingEmployee(employee);\r\n    setShowEmployeeForm(true);\r\n  };\r\n\r\n  const handleAssignFarmers = async (assignments) => {\r\n    try {\r\n      // Extract farmer IDs and employee ID from assignments\r\n      const farmerIds = assignments.map(a => a.farmerId);\r\n      const employeeId = assignments[0]?.employeeId;\r\n      \r\n      if (!employeeId || farmerIds.length === 0) {\r\n        alert('Please select an employee and at least one farmer');\r\n        return;\r\n      }\r\n      \r\n      // Try bulk assign first, then fallback to individual assignments\r\n      try {\r\n        // Call admin API to bulk assign farmers\r\n        await adminAPI.bulkAssignFarmers(farmerIds, employeeId);\r\n      } catch (bulkError) {\r\n        console.log('Bulk assign failed, trying individual assignments...');\r\n        // Fallback to individual assignments\r\n        for (const farmerId of farmerIds) {\r\n          try {\r\n            await adminAPI.assignFarmer(farmerId, employeeId);\r\n          } catch (individualError) {\r\n            console.error(`Failed to assign farmer ${farmerId}:`, individualError);\r\n          }\r\n        }\r\n      }\r\n      \r\n      // Update local state for each assignment\r\n      setFarmers(prev => prev.map(farmer => {\r\n        const assignment = assignments.find(a => a.farmerId === farmer.id);\r\n        if (assignment) {\r\n          return {\r\n            ...farmer,\r\n            assignmentStatus: 'ASSIGNED',\r\n            assignedEmployee: assignment.employeeName,\r\n            assignedDate: new Date().toISOString().split('T')[0]\r\n          };\r\n        }\r\n        return farmer;\r\n      }));\r\n      \r\n      setShowAssignmentModal(false);\r\n      alert('Farmers assigned successfully!');\r\n    } catch (error) {\r\n      console.error('Error assigning farmers:', error);\r\n      alert('Failed to assign farmers');\r\n    }\r\n  };\r\n\r\n  // Quick Actions Handlers\r\n  const handleAddFarmer = () => {\r\n    setShowFarmerForm(true);\r\n    setActiveTab('overview');\r\n  };\r\n\r\n  const handleViewFarmers = () => {\r\n    setShowViewFarmer(true);\r\n    setSelectedFarmerForView(null);\r\n    setActiveTab('overview');\r\n  };\r\n\r\n  const handleAddEmployee = () => {\r\n    setShowEmployeeForm(true);\r\n    setActiveTab('overview');\r\n  };\r\n\r\n  const handleViewEmployees = () => {\r\n    setShowViewEmployee(true);\r\n    setSelectedEmployeeForView(null);\r\n    setActiveTab('overview');\r\n  };\r\n\r\n  const handleAssignFarmersQuick = () => {\r\n    setShowAssignmentModal(true);\r\n    setActiveTab('overview');\r\n  };\r\n\r\n  const handlePendingKYC = () => {\r\n    setShowPendingKYC(true);\r\n    setActiveTab('overview');\r\n  };\r\n\r\n  const handleFarmerSelect = (farmer) => {\r\n    setSelectedFarmerForView(farmer);\r\n  };\r\n\r\n  const handleEmployeeSelect = (employee) => {\r\n    setSelectedEmployeeForView(employee);\r\n  };\r\n\r\n  const handleCloseViewFarmer = () => {\r\n    if (selectedFarmerForView) {\r\n      setSelectedFarmerForView(null);\r\n    } else {\r\n      setShowViewFarmer(false);\r\n    }\r\n  };\r\n\r\n  const handleCloseViewEmployee = () => {\r\n    if (selectedEmployeeForView) {\r\n      setSelectedEmployeeForView(null);\r\n    } else {\r\n      setShowViewEmployee(false);\r\n    }\r\n  };\r\n\r\n  const handleClosePendingKYC = () => {\r\n    setShowPendingKYC(false);\r\n  };\r\n\r\n    const renderOverview = () => {\r\n    const stats = getStats();\r\n\r\n    return (\r\n      <div className=\"overview-section\">\r\n        <div className=\"overview-header\">\r\n          <h2 className=\"overview-title\">Admin Dashboard Overview</h2>\r\n          <p className=\"overview-description\">\r\n            Manage farmers, employees, and assignments efficiently.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"stats-grid admin-stats-grid\">\r\n          <div className=\"stats-card assigned\">\r\n            <h3 className=\"stats-title\">Farmers</h3>\r\n            <div className=\"stats-number\">{stats.totalFarmers}</div>\r\n          </div>\r\n          <div className=\"stats-card approved\">\r\n            <h3 className=\"stats-title\">Employees</h3>\r\n            <div className=\"stats-number\">{stats.totalEmployees}</div>\r\n          </div>\r\n          <div className=\"stats-card refer\">\r\n            <h3 className=\"stats-title\">FPO</h3>\r\n            <div className=\"stats-number\">0</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Recent Activities Section */}\r\n        <div className=\"bottom-sections\">\r\n          <div className=\"section-card\">\r\n            <div className=\"section-header\">\r\n              <h3>Recent Activities</h3>\r\n              <button className=\"section-link\" onClick={() => console.log('View All clicked')}>View All</button>\r\n            </div>\r\n            <div className=\"activities-list\">\r\n              <div className=\"activity-item success\">\r\n                <div className=\"activity-icon\">👤</div>\r\n                <div className=\"activity-content\">\r\n                  <div className=\"activity-text\">\r\n                    Farmer profile updated\r\n                  </div>\r\n                  <div className=\"activity-time\">20m ago</div>\r\n                  <button className=\"activity-badge success\">SUCCESS</button>\r\n                </div>\r\n              </div>\r\n              <div className=\"activity-item success\">\r\n                <div className=\"activity-icon\">👨‍💼</div>\r\n                <div className=\"activity-content\">\r\n                  <div className=\"activity-text\">\r\n                    Employee profile updated\r\n                  </div>\r\n                  <div className=\"activity-time\">10m ago</div>\r\n                  <button className=\"activity-badge success\">SUCCESS</button>\r\n                </div>\r\n              </div>\r\n              <div className=\"activity-item pending\">\r\n                <div className=\"activity-icon\">📋</div>\r\n                <div className=\"activity-content\">\r\n                  <div className=\"activity-text\">\r\n                    New registration pending approval\r\n                  </div>\r\n                  <div className=\"activity-time\">5m ago</div>\r\n                  <button className=\"activity-badge pending\">PENDING</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Quick Actions Section */}\r\n          <div className=\"section-card\">\r\n            <div className=\"section-header\">\r\n              <h3>Quick Actions</h3>\r\n            </div>\r\n            <div className=\"quick-actions-grid\">\r\n              <button className=\"quick-action-btn primary\" onClick={handleAddFarmer}>\r\n                <i className=\"fas fa-user-plus\"></i>\r\n                Add Farmer\r\n              </button>\r\n              <button className=\"quick-action-btn secondary\" onClick={handleViewFarmers}>\r\n                <i className=\"fas fa-users\"></i>\r\n                View Farmers\r\n              </button>\r\n              <button className=\"quick-action-btn primary\" onClick={handleAddEmployee}>\r\n                <i className=\"fas fa-user-tie\"></i>\r\n                Add Employee\r\n              </button>\r\n              <button className=\"quick-action-btn secondary\" onClick={handleViewEmployees}>\r\n                <i className=\"fas fa-user-tie\"></i>\r\n                View Employee\r\n              </button>\r\n              <button className=\"quick-action-btn primary\" onClick={handleAssignFarmersQuick}>\r\n                <i className=\"fas fa-link\"></i>\r\n                Assign Farmers\r\n              </button>\r\n              <button className=\"quick-action-btn secondary\" onClick={handlePendingKYC}>\r\n                <i className=\"fas fa-clock\"></i>\r\n                Pending KYC\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderFarmers = () => {\r\n    const filteredFarmers = getFilteredFarmers();\r\n\r\n    return (\r\n      <div className=\"overview-section\">\r\n        {!showFarmerRegistration && !showFarmerDetails ? (\r\n          <>\r\n            <div className=\"overview-header\">\r\n              <h2 className=\"overview-title\">Farmer Management</h2>\r\n              <p className=\"overview-description\">\r\n                View and manage all farmer profiles with KYC status and assignments.\r\n              </p>\r\n              <div className=\"overview-actions\">\r\n                <button \r\n                  className=\"action-btn primary\"\r\n                  onClick={() => setShowFarmerRegistration(true)}\r\n                >\r\n                    Add Farmer\r\n                </button>\r\n                <button \r\n                  className=\"action-btn secondary\"\r\n                  onClick={() => setShowAssignmentModal(true)}\r\n                >\r\n                  Assign Farmers\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className=\"filters-section\">\r\n              <div className=\"filter-group\">\r\n                <select \r\n                  className=\"filter-select\"\r\n                  value={filters.state}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, state: e.target.value }))}\r\n                >\r\n                  <option value=\"\">All States</option>\r\n                  <option value=\"Telangana\">Telangana</option>\r\n                  <option value=\"Andhra Pradesh\">Andhra Pradesh</option>\r\n                  <option value=\"Karnataka\">Karnataka</option>\r\n                  <option value=\"Tamil Nadu\">Tamil Nadu</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"filter-group\">\r\n                <select \r\n                  className=\"filter-select\"\r\n                  value={filters.district}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, district: e.target.value }))}\r\n                >\r\n                  <option value=\"\">All Districts</option>\r\n                  <option value=\"Hanumakonda\">Hanumakonda</option>\r\n                  <option value=\"Warangal\">Warangal</option>\r\n                  <option value=\"Karimnagar\">Karimnagar</option>\r\n                  <option value=\"Nizamabad\">Nizamabad</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"filter-group\">\r\n                <select \r\n                  className=\"filter-select\"\r\n                  value={filters.kycStatus}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, kycStatus: e.target.value }))}\r\n                >\r\n                  <option value=\"\">All KYC Status</option>\r\n                  <option value=\"APPROVED\">Approved</option>\r\n                  <option value=\"PENDING\">Pending</option>\r\n                  <option value=\"REFER_BACK\">Refer Back</option>\r\n                  <option value=\"REJECTED\">Rejected</option>\r\n                  <option value=\"NOT_STARTED\">Not Started</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"filter-group\">\r\n                <select \r\n                  className=\"filter-select\"\r\n                  value={filters.assignmentStatus}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, assignmentStatus: e.target.value }))}\r\n                >\r\n                  <option value=\"\">All Assignment Status</option>\r\n                  <option value=\"ASSIGNED\">Assigned</option>\r\n                  <option value=\"UNASSIGNED\">Unassigned</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"filter-group\">\r\n                <select \r\n                  className=\"filter-select\"\r\n                  value={filters.assignedEmployee}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, assignedEmployee: e.target.value }))}\r\n                >\r\n                  <option value=\"\">All Employees</option>\r\n                  {employees.map(employee => (\r\n                    <option key={employee.id} value={employee.id}>\r\n                      {employee.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <button \r\n                className=\"clear-filters-btn\"\r\n                onClick={() => setFilters({\r\n                  state: '',\r\n                  district: '',\r\n                  region: '',\r\n                  kycStatus: '',\r\n                  assignmentStatus: '',\r\n                  assignedEmployee: ''\r\n                })}\r\n              >\r\n                Clear Filters\r\n              </button>\r\n            </div>\r\n\r\n            {/* Farmers Table */}\r\n            <DataTable\r\n              data={filteredFarmers}\r\n              columns={[\r\n                { \r\n                  key: 'name', \r\n                  label: 'NAME',\r\n                  className: 'col-name',\r\n                  render: (value, row) => value || row.fullName || row.userName || row.firstName || 'N/A'\r\n                },\r\n                { \r\n                  key: 'phoneNumber', \r\n                  label: 'PHONE',\r\n                  className: 'col-phone',\r\n                  render: (value, row) => value || row.phone || row.contactNumber || row.mobileNumber || 'N/A'\r\n                },\r\n                { \r\n                  key: 'state', \r\n                  label: 'STATE',\r\n                  className: 'col-state',\r\n                  render: (value, row) => value || row.state || 'N/A'\r\n                },\r\n                { \r\n                  key: 'district', \r\n                  label: 'DISTRICT',\r\n                  className: 'col-district',\r\n                  render: (value, row) => value || row.district || 'N/A'\r\n                },\r\n                { \r\n                  key: 'kycStatus', \r\n                  label: 'KYC STATUS',\r\n                  className: 'col-kyc',\r\n                  type: 'status',\r\n                  render: (value, row) => value || row.kycStatus || 'NOT_STARTED'\r\n                },\r\n                { \r\n                  key: 'assignedEmployee', \r\n                  label: 'ASSIGNED EMPLOYEE',\r\n                  className: 'col-employee',\r\n                  render: (value, row) => {\r\n                    if (typeof value === 'object' && value) {\r\n                      return value.name || value.firstName + ' ' + value.lastName || 'N/A';\r\n                    }\r\n                    return value || row.assignedEmployeeName || 'Not Assigned';\r\n                  }\r\n                }\r\n              ]}\r\n              actions={[\r\n                {\r\n                  label: 'View',\r\n                  className: 'action-btn-small primary',\r\n                  onClick: handleViewFarmer\r\n                },\r\n                {\r\n                  label: 'Edit',\r\n                  className: 'action-btn-small secondary',\r\n                  onClick: handleEditFarmer\r\n                },\r\n                {\r\n                  label: 'KYC',\r\n                  className: 'action-btn-small warning',\r\n            onClick: handleKYCDocumentUpload\r\n          }\r\n        ]}\r\n      />\r\n          </>\r\n        ) : showFarmerRegistration ? (\r\n          <div className=\"farmer-registration-section\">\r\n            <div className=\"section-header\">\r\n              <div>\r\n                <h2 className=\"section-title\">Add New Farmer</h2>\r\n                <p className=\"section-description\">\r\n                  Fill in the farmer details to create a new farmer account.\r\n                </p>\r\n              </div>\r\n              <div className=\"section-actions\">\r\n                <button \r\n                  className=\"action-btn-small secondary\"\r\n                  onClick={() => setShowFarmerRegistration(false)}\r\n                >\r\n                  <i className=\"fas fa-arrow-left\"></i>\r\n                  Back to Farmers\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <FarmerRegistrationForm \r\n              isInDashboard={true}\r\n              onClose={() => setShowFarmerRegistration(false)}\r\n              onSubmit={async (farmerData) => {\r\n                try {\r\n                  const newFarmer = await farmersAPI.createFarmer(farmerData);\r\n                  setFarmers(prev => [...prev, newFarmer]);\r\n                  alert('Farmer created successfully!');\r\n                  setShowFarmerRegistration(false);\r\n                } catch (error) {\r\n                  console.error('Error creating farmer:', error);\r\n                  alert('Failed to create farmer. Please try again.');\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n        ) : showFarmerDetails ? (\r\n          <div className=\"farmer-details-section\">\r\n            <div className=\"section-header\">\r\n              <div>\r\n                <h2 className=\"section-title\">Farmer Details</h2>\r\n                <p className=\"section-description\">\r\n                  View detailed information for {selectedFarmerData?.name || 'selected farmer'}.\r\n                </p>\r\n              </div>\r\n              <div className=\"section-actions\">\r\n                <button \r\n                  className=\"action-btn-small secondary\"\r\n                  onClick={() => setShowFarmerDetails(false)}\r\n                >\r\n                  <i className=\"fas fa-arrow-left\"></i>\r\n                  Back to Farmers\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <ViewFarmerRegistrationDetails \r\n              isInDashboard={true}\r\n              farmerData={selectedFarmerData}\r\n              onClose={() => setShowFarmerDetails(false)}\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderRegistration = () => {\r\n    const filteredRegistrations = getFilteredRegistrations();\r\n\r\n    return (\r\n      <div className=\"registration-section\">\r\n        <div className=\"section-header\">\r\n          <div>\r\n            <h2 className=\"section-title\">Registration Management</h2>\r\n            <p className=\"section-description\">\r\n              Review and manage user registration requests.\r\n            </p>\r\n          </div>\r\n          <div className=\"section-actions\">\r\n            <button \r\n              className=\"action-btn-small primary\"\r\n              onClick={() => {\r\n                console.log('🔄 Manually refreshing data...');\r\n                fetchData();\r\n              }}\r\n            >\r\n              <i className=\"fas fa-sync-alt\"></i>\r\n              Refresh Data\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n      <div className=\"filters-section\">\r\n          <div className=\"filter-group\">\r\n          <select \r\n              className=\"filter-select\"\r\n              value={registrationFilters.role}\r\n              onChange={(e) => setRegistrationFilters(prev => ({ ...prev, role: e.target.value }))}\r\n            >\r\n              <option value=\"\">All Roles</option>\r\n              <option value=\"FARMER\">Farmer</option>\r\n              <option value=\"EMPLOYEE\">Employee</option>\r\n              <option value=\"ADMIN\">Admin</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <select \r\n              className=\"filter-select\"\r\n              value={registrationFilters.status}\r\n              onChange={(e) => setRegistrationFilters(prev => ({ ...prev, status: e.target.value }))}\r\n            >\r\n              <option value=\"\">All Status</option>\r\n              <option value=\"PENDING\">Pending</option>\r\n              <option value=\"APPROVED\">Approved</option>\r\n              <option value=\"REJECTED\">Rejected</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n        {/* Registration Table */}\r\n      <DataTable\r\n          data={filteredRegistrations}\r\n        columns={[\r\n          { \r\n            key: 'name', \r\n            label: 'Name',\r\n            className: 'col-name',\r\n            render: (value, row) => value || row.fullName || row.userName || row.firstName || 'N/A'\r\n          },\r\n          { \r\n            key: 'email', \r\n            label: 'Email',\r\n            className: 'col-email',\r\n            render: (value, row) => value || row.emailAddress || row.userEmail || 'N/A'\r\n          },\r\n          { \r\n            key: 'phoneNumber', \r\n            label: 'Phone',\r\n            className: 'col-phone',\r\n            render: (value, row) => value || row.phone || row.mobile || row.contactNumber || row.mobileNumber || 'N/A'\r\n          },\r\n          { \r\n            key: 'role', \r\n            label: 'Role',\r\n            className: 'col-role',\r\n            render: (value, row) => value || row.userRole || row.type || row.userType || 'N/A'\r\n          },\r\n          { \r\n            key: 'status', \r\n            label: 'Status', \r\n            className: 'col-status',\r\n            type: 'status',\r\n            render: (value, row) => value || row.registrationStatus || row.approvalStatus || row.kycStatus || 'N/A'\r\n          }\r\n        ]}\r\n          customActions={[\r\n            {\r\n              label: 'View',\r\n              className: 'action-btn-small info',\r\n              onClick: handleViewRegistration\r\n            },\r\n            {\r\n              label: 'Approve',\r\n              className: 'action-btn-small success',\r\n              onClick: (registration) => handleApproveRegistration(registration.id),\r\n              show: (registration) => registration.status === 'PENDING'\r\n            },\r\n            {\r\n              label: 'Reject',\r\n              className: 'action-btn-small danger',\r\n              onClick: (registration) => handleRejectRegistration(registration.id),\r\n              show: (registration) => registration.status === 'PENDING'\r\n            }\r\n          ]}\r\n      />\r\n    </div>\r\n  );\r\n  };\r\n\r\n  const renderEmployees = () => {\r\n    const filteredEmployees = getFilteredEmployees();\r\n\r\n  return (\r\n      <div className=\"overview-section\">\r\n        {!showEmployeeRegistration ? (\r\n          <>\r\n            <div className=\"overview-header\">\r\n              <h2 className=\"overview-title\">Employee Management</h2>\r\n              <p className=\"overview-description\">\r\n                View and manage employee profiles with KYC assignment statistics.\r\n              </p>\r\n              <div className=\"overview-actions\">\r\n                <button \r\n                  className=\"action-btn primary\"\r\n                  onClick={() => setShowEmployeeRegistration(true)}\r\n                >\r\n                  Add Employee\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n            {/* Employee Stats */}\r\n            <div className=\"employee-stats\">\r\n              <h3>Employee KYC Progress</h3>\r\n              <div className=\"employee-stats-grid\">\r\n                {employees.map(employee => {\r\n                  // Calculate real stats from farmers data\r\n                  const assignedFarmers = (farmers || []).filter(f => \r\n                    f.assignedEmployee === employee.name || \r\n                    f.assignedEmployee === employee.contactNumber ||\r\n                    f.assignedEmployeeId === employee.id\r\n                  );\r\n                  \r\n                  const approvedCount = assignedFarmers.filter(f => \r\n                    f.kycStatus === 'APPROVED' || f.kycStatus === 'approved'\r\n                  ).length;\r\n                  \r\n                  const pendingCount = assignedFarmers.filter(f => \r\n                    f.kycStatus === 'PENDING' || f.kycStatus === 'pending' || \r\n                    f.kycStatus === 'NOT_STARTED' || f.kycStatus === 'not_started'\r\n                  ).length;\r\n                  \r\n                  const referBackCount = assignedFarmers.filter(f => \r\n                    f.kycStatus === 'REFER_BACK' || f.kycStatus === 'refer_back'\r\n                  ).length;\r\n                  \r\n                  const rejectedCount = assignedFarmers.filter(f => \r\n                    f.kycStatus === 'REJECTED' || f.kycStatus === 'rejected'\r\n                  ).length;\r\n                  \r\n                  return (\r\n                    <div key={employee.id} className=\"employee-stat-card\">\r\n                      <div className=\"employee-info\">\r\n                        <h4>{employee.name}</h4>\r\n                        <p>{employee.designation} - {employee.district}</p>\r\n                      </div>\r\n                      <div className=\"employee-kyc-stats\">\r\n                        <div className=\"kyc-stat\">\r\n                          <span className=\"stat-number\">{assignedFarmers.length}</span>\r\n                          <span className=\"stat-label\">Total Assigned</span>\r\n                        </div>\r\n                        <div className=\"kyc-stat\">\r\n                          <span className=\"stat-number approved\">{approvedCount}</span>\r\n                          <span className=\"stat-label\">Approved</span>\r\n                        </div>\r\n                        <div className=\"kyc-stat\">\r\n                          <span className=\"stat-number pending\">{pendingCount}</span>\r\n                          <span className=\"stat-label\">Pending</span>\r\n                        </div>\r\n                        <div className=\"kyc-stat\">\r\n                          <span className=\"stat-number refer-back\">{referBackCount}</span>\r\n                          <span className=\"stat-label\">Refer Back</span>\r\n                        </div>\r\n                        <div className=\"kyc-stat\">\r\n                          <span className=\"stat-number rejected\">{rejectedCount}</span>\r\n                          <span className=\"stat-label\">Rejected</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n            </div>\r\n          </div>\r\n\r\n            {/* Employees Table */}\r\n          <DataTable\r\n            data={filteredEmployees.map(employee => {\r\n              // Calculate real stats from farmers data\r\n              const assignedFarmers = (farmers || []).filter(f => \r\n                f.assignedEmployee === employee.name || \r\n                f.assignedEmployee === employee.contactNumber ||\r\n                f.assignedEmployeeId === employee.id\r\n              );\r\n              \r\n              const approvedCount = assignedFarmers.filter(f => \r\n                f.kycStatus === 'APPROVED' || f.kycStatus === 'approved'\r\n              ).length;\r\n              \r\n              const pendingCount = assignedFarmers.filter(f => \r\n                f.kycStatus === 'PENDING' || f.kycStatus === 'pending' || \r\n                f.kycStatus === 'NOT_STARTED' || f.kycStatus === 'not_started'\r\n              ).length;\r\n              \r\n              return {\r\n                ...employee,\r\n                totalAssigned: assignedFarmers.length,\r\n                approvedKyc: approvedCount,\r\n                pendingKyc: pendingCount\r\n              };\r\n            })}\r\n            columns={[\r\n              { key: 'name', label: 'Name' },\r\n              { key: 'contactNumber', label: 'Contact' },\r\n              { key: 'email', label: 'Email' },\r\n              { key: 'state', label: 'State' },\r\n              { key: 'district', label: 'District' },\r\n              { key: 'totalAssigned', label: 'Assigned Farmers' },\r\n              { key: 'approvedKyc', label: 'Approved KYC' },\r\n              { key: 'pendingKyc', label: 'Pending KYC' }\r\n            ]}\r\n            customActions={[\r\n              {\r\n                label: 'View',\r\n                className: 'action-btn-small info',\r\n                onClick: handleViewEmployee\r\n              },\r\n              {\r\n                label: 'Edit',\r\n                className: 'action-btn-small primary',\r\n                onClick: handleEditEmployee\r\n              }\r\n            ]}\r\n          />\r\n          </>\r\n        ) : (\r\n          <div className=\"employee-registration-section\">\r\n            <div className=\"section-header\">\r\n              <div>\r\n                <h2 className=\"section-title\">Add New Employee</h2>\r\n                <p className=\"section-description\">\r\n                  Fill in the employee details to create a new employee account.\r\n                </p>\r\n              </div>\r\n              <div className=\"section-actions\">\r\n        <button \r\n                  className=\"action-btn-small secondary\"\r\n                  onClick={() => setShowEmployeeRegistration(false)}\r\n        >\r\n                  <i className=\"fas fa-arrow-left\"></i>\r\n                  Back to Employees\r\n        </button>\r\n              </div>\r\n            </div>\r\n\r\n            <EmployeeRegistrationForm \r\n              isInDashboard={true}\r\n              onClose={() => setShowEmployeeRegistration(false)}\r\n              onSubmit={async (employeeData) => {\r\n                try {\r\n                  const newEmployee = await employeesAPI.createEmployee(employeeData);\r\n                  setEmployees(prev => [...prev, newEmployee]);\r\n                  alert('Employee created successfully!');\r\n                  setShowEmployeeRegistration(false);\r\n                } catch (error) {\r\n                  console.error('Error creating employee:', error);\r\n                  alert('Failed to create employee. Please try again.');\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderKYCOverview = () => {\r\n    const stats = getStats();\r\n    \r\n    return (\r\n      <div className=\"overview-section\">\r\n        <div className=\"overview-header\">\r\n          <h2 className=\"overview-title\">KYC Overview</h2>\r\n          <p className=\"overview-description\">\r\n            Comprehensive view of KYC status across all farmers and employees.\r\n          </p>\r\n        </div>\r\n\r\n        {/* KYC Status Breakdown */}\r\n        <div className=\"kyc-breakdown\">\r\n          <h3>KYC Status Breakdown</h3>\r\n          <div className=\"kyc-stats-grid\">\r\n            <div className=\"kyc-stat-card approved\">\r\n              <span className=\"kyc-stat-number\">{stats.approvedKYC}</span>\r\n              <span className=\"kyc-stat-label\">Approved</span>\r\n            </div>\r\n            <div className=\"kyc-stat-card pending\">\r\n              <span className=\"kyc-stat-number\">{stats.pendingKYC}</span>\r\n              <span className=\"kyc-stat-label\">Pending</span>\r\n            </div>\r\n            <div className=\"kyc-stat-card refer-back\">\r\n              <span className=\"kyc-stat-number\">{stats.referBackKYC}</span>\r\n              <span className=\"kyc-stat-label\">Refer Back</span>\r\n            </div>\r\n            <div className=\"kyc-stat-card rejected\">\r\n              <span className=\"kyc-stat-number\">{stats.rejectedKYC}</span>\r\n              <span className=\"kyc-stat-label\">Rejected</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Employee KYC Progress */}\r\n        <div className=\"employee-stats\">\r\n          <h3>Employee KYC Progress</h3>\r\n          <div className=\"employee-stats-grid\">\r\n            {employees.map(employee => {\r\n              // Calculate real stats from farmers data\r\n              const assignedFarmers = (farmers || []).filter(f => \r\n                f.assignedEmployee === employee.name || \r\n                f.assignedEmployee === employee.contactNumber ||\r\n                f.assignedEmployeeId === employee.id\r\n              );\r\n              \r\n              const approvedCount = assignedFarmers.filter(f => \r\n                f.kycStatus === 'APPROVED' || f.kycStatus === 'approved'\r\n              ).length;\r\n              \r\n              const pendingCount = assignedFarmers.filter(f => \r\n                f.kycStatus === 'PENDING' || f.kycStatus === 'pending' || \r\n                f.kycStatus === 'NOT_STARTED' || f.kycStatus === 'not_started'\r\n              ).length;\r\n              \r\n              const referBackCount = assignedFarmers.filter(f => \r\n                f.kycStatus === 'REFER_BACK' || f.kycStatus === 'refer_back'\r\n              ).length;\r\n              \r\n              const rejectedCount = assignedFarmers.filter(f => \r\n                f.kycStatus === 'REJECTED' || f.kycStatus === 'rejected'\r\n              ).length;\r\n              \r\n              return (\r\n                <div key={employee.id} className=\"employee-stat-card\">\r\n                  <div className=\"employee-info\">\r\n                    <h4>{employee.name}</h4>\r\n                    <p>{employee.designation} - {employee.district}</p>\r\n                  </div>\r\n                  <div className=\"employee-kyc-stats\">\r\n                    <div className=\"kyc-stat\">\r\n                      <span className=\"stat-number\">{assignedFarmers.length}</span>\r\n                      <span className=\"stat-label\">Total Assigned</span>\r\n                    </div>\r\n                    <div className=\"kyc-stat\">\r\n                      <span className=\"stat-number approved\">{approvedCount}</span>\r\n                      <span className=\"stat-label\">Approved</span>\r\n                    </div>\r\n                    <div className=\"kyc-stat\">\r\n                      <span className=\"stat-number pending\">{pendingCount}</span>\r\n                      <span className=\"stat-label\">Pending</span>\r\n                    </div>\r\n                    <div className=\"kyc-stat\">\r\n                      <span className=\"stat-number refer-back\">{referBackCount}</span>\r\n                      <span className=\"stat-label\">Refer Back</span>\r\n                    </div>\r\n                    <div className=\"kyc-stat\">\r\n                      <span className=\"stat-number rejected\">{rejectedCount}</span>\r\n                      <span className=\"stat-label\">Rejected</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* KYC Progress Overview */}\r\n        <div className=\"kyc-progress-section\">\r\n          <h3>KYC Progress Overview</h3>\r\n          <div className=\"kyc-progress-grid\">\r\n            <div className=\"progress-card approved\">\r\n              <div className=\"progress-circle\">\r\n                <div className=\"progress-number\">{stats.approvedKYC}</div>\r\n              </div>\r\n              <div className=\"progress-label\">Approved KYC</div>\r\n            </div>\r\n            <div className=\"progress-card pending\">\r\n              <div className=\"progress-circle\">\r\n                <div className=\"progress-number\">{stats.pendingKYC}</div>\r\n              </div>\r\n              <div className=\"progress-label\">Pending KYC</div>\r\n            </div>\r\n            <div className=\"progress-card refer-back\">\r\n              <div className=\"progress-circle\">\r\n                <div className=\"progress-number\">{stats.referBackKYC}</div>\r\n              </div>\r\n              <div className=\"progress-label\">Refer Back</div>\r\n            </div>\r\n            <div className=\"progress-card rejected\">\r\n              <div className=\"progress-circle\">\r\n                <div className=\"progress-number\">{stats.rejectedKYC}</div>\r\n              </div>\r\n              <div className=\"progress-label\">Rejected KYC</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      {/* Top Bar with Date, Theme and Profile */}\r\n      <div className=\"top-bar\">\r\n        <div className=\"top-bar-left\">\r\n          <div className=\"logo-container\">\r\n            <div className=\"logo-text\">\r\n              <h1 className=\"logo-title\">DATE</h1>\r\n              <p className=\"logo-subtitle\">Digital Agristack Transaction Enterprises</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"date-display\">\r\n            {new Date().toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\r\n          </div>\r\n        </div>\r\n        <div className=\"top-bar-right\">\r\n          <ThemeDropdown />\r\n          <UserProfileDropdown \r\n            onShowChangePassword={() => setShowChangePassword(true)}\r\n            onShowChangeUserId={() => setShowChangeUserId(true)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Sidebar */}\r\n      <aside className=\"dashboard-sidebar\">\r\n        <div className=\"sidebar-header\">\r\n          <div className=\"logo\">\r\n            <div className=\"logo-text\">Welcome !!!</div>\r\n            <div className=\"logo-subtitle\">Admin</div>\r\n          </div>\r\n        </div>\r\n        <nav className=\"sidebar-nav\">\r\n          <button className={`nav-item ${activeTab === 'overview' ? 'active' : ''}`} onClick={() => setActiveTab('overview')}>📊 Overview</button>\r\n          <button className={`nav-item ${activeTab === 'kyc-overview' ? 'active' : ''}`} onClick={() => setActiveTab('kyc-overview')}>🪪 KYC Overview</button>\r\n          <button className={`nav-item ${activeTab === 'farmers' ? 'active' : ''}`} onClick={() => setActiveTab('farmers')}>👨‍🌾 Farmers</button>\r\n          <button className={`nav-item ${activeTab === 'employees' ? 'active' : ''}`} onClick={() => setActiveTab('employees')}>👥 Employees</button>\r\n          <button className={`nav-item ${activeTab === 'registration' ? 'active' : ''}`} onClick={() => setActiveTab('registration')}>📝 Registrations</button>\r\n          <button className=\"nav-item\" onClick={() => navigate('/analytical-dashboard')}>📈 Dashboard</button>\r\n        </nav>\r\n      </aside>\r\n\r\n      {/* Main */}\r\n      <main className=\"dashboard-main\">\r\n        <div className=\"dashboard-content\">\r\n          {activeTab === 'overview' && (\r\n          <header className=\"dashboard-header\">\r\n            <div className=\"header-center\">\r\n              <div className=\"welcome-message\">\r\n                <h2 className=\"greeting\">{getGreeting()}, {user?.name || user?.email || 'Admin'}! 🎋</h2>\r\n                <p className=\"welcome-text\">Welcome to DATE Digital Agristack - Manage farmers, employees and registrations efficiently.</p>\r\n              </div>\r\n            </div>\r\n          </header>\r\n          )}\r\n\r\n          {/* Render forms and views with priority over tab content */}\r\n          {showFarmerForm ? (\r\n            <div className=\"dashboard-form-container\">\r\n              <FarmerForm \r\n                isInDashboard={true}\r\n                editData={editingFarmer}\r\n                onClose={() => {\r\n                  setShowFarmerForm(false);\r\n                  setEditingFarmer(null);\r\n                }}\r\n                onSubmit={async (farmerData) => {\r\n                  try {\r\n                    if (editingFarmer) {\r\n                      const updatedFarmer = await farmersAPI.updateFarmer(editingFarmer.id, farmerData);\r\n                      setFarmers(prev => prev.map(farmer => \r\n                        farmer.id === editingFarmer.id ? updatedFarmer : farmer\r\n                      ));\r\n                      alert('Farmer updated successfully!');\r\n                    } else {\r\n                      const newFarmer = await farmersAPI.createFarmer(farmerData);\r\n                      setFarmers(prev => [...prev, newFarmer]);\r\n                      alert('Farmer created successfully!');\r\n                    }\r\n                    setShowFarmerForm(false);\r\n                    setEditingFarmer(null);\r\n                  } catch (error) {\r\n                    console.error('Error saving farmer:', error);\r\n                    alert('Failed to save farmer. Please try again.');\r\n                  }\r\n                }}\r\n              />\r\n            </div>\r\n          ) : showEmployeeForm ? (\r\n            <div className=\"dashboard-form-container\">\r\n              <EmployeeRegistrationForm \r\n                isInDashboard={true}\r\n                editData={editingEmployee}\r\n                onClose={() => {\r\n                  setShowEmployeeForm(false);\r\n                  setEditingEmployee(null);\r\n                }}\r\n                onSubmit={async (employeeData) => {\r\n                  try {\r\n                    if (editingEmployee) {\r\n                      const updatedEmployee = await employeesAPI.updateEmployee(editingEmployee.id, employeeData);\r\n                      setEmployees(prev => prev.map(employee => \r\n                        employee.id === editingEmployee.id ? updatedEmployee : employee\r\n                      ));\r\n                      alert('Employee updated successfully!');\r\n                    } else {\r\n                      const newEmployee = await employeesAPI.createEmployee(employeeData);\r\n                      setEmployees(prev => [...prev, newEmployee]);\r\n                      alert('Employee created successfully!');\r\n                    }\r\n                    setShowEmployeeForm(false);\r\n                    setEditingEmployee(null);\r\n                  } catch (error) {\r\n                    console.error('Error saving employee:', error);\r\n                    alert('Failed to save employee. Please try again.');\r\n                  }\r\n                }}\r\n              />\r\n            </div>\r\n          ) : showViewFarmer ? (\r\n            <div className=\"dashboard-form-container\">\r\n              <ViewFarmerRegistrationDetails \r\n                isInDashboard={true}\r\n                farmerData={selectedFarmerForView || farmers}\r\n                onClose={handleCloseViewFarmer}\r\n                onFarmerSelect={handleFarmerSelect}\r\n              />\r\n            </div>\r\n          ) : showViewEmployee ? (\r\n            <div className=\"dashboard-form-container\">\r\n              <ViewEditEmployeeDetails \r\n                isInDashboard={true}\r\n                employeeData={selectedEmployeeForView || employees}\r\n                onClose={handleCloseViewEmployee}\r\n                onEmployeeSelect={handleEmployeeSelect}\r\n              />\r\n            </div>\r\n          ) : showChangePassword ? (\r\n            <div className=\"dashboard-form-container\">\r\n              <ChangePasswordModal\r\n                isOpen={true}\r\n                onClose={() => setShowChangePassword(false)}\r\n                onSuccess={() => {\r\n                  setNotification({\r\n                    type: 'success',\r\n                    message: 'Password changed successfully!'\r\n                  });\r\n                  setShowChangePassword(false);\r\n                }}\r\n                isInDashboard={true}\r\n              />\r\n            </div>\r\n          ) : showChangeUserId ? (\r\n            <div className=\"dashboard-form-container\">\r\n              <ChangeUserIdModal\r\n                isOpen={true}\r\n                onClose={() => setShowChangeUserId(false)}\r\n                onSuccess={() => {\r\n                  setNotification({\r\n                    type: 'success',\r\n                    message: 'User ID changed successfully!'\r\n                  });\r\n                  setShowChangeUserId(false);\r\n                }}\r\n                isInDashboard={true}\r\n              />\r\n            </div>\r\n          ) : showPendingKYC ? (\r\n            <div className=\"dashboard-form-container\">\r\n              <div className=\"view-farmer-dashboard\">\r\n                <div className=\"dashboard-header\">\r\n                  <div className=\"header-content\">\r\n                    <div className=\"header-text\">\r\n                      <h1 className=\"dashboard-title\">Pending KYC</h1>\r\n                      <p className=\"dashboard-subtitle\">Review and manage pending KYC applications</p>\r\n                    </div>\r\n                    <button className=\"back-button\" onClick={handleClosePendingKYC}>\r\n                      <i className=\"fas fa-arrow-left\"></i>\r\n                      Back\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"dashboard-content\">\r\n                  <div className=\"farmers-table-container\">\r\n                    <table className=\"farmers-table\">\r\n                      <thead className=\"table-header\">\r\n                        <tr>\r\n                          <th>Name</th>\r\n                          <th>Phone</th>\r\n                          <th>State</th>\r\n                          <th>District</th>\r\n                          <th>KYC Status</th>\r\n                          <th>Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody className=\"table-body\">\r\n                        {farmers.filter(farmer => farmer.kycStatus === 'PENDING').map((farmer) => (\r\n                          <tr key={farmer.id} className=\"table-row\">\r\n                            <td className=\"table-cell\">{farmer.name}</td>\r\n                            <td className=\"table-cell\">{farmer.phone}</td>\r\n                            <td className=\"table-cell\">{farmer.state}</td>\r\n                            <td className=\"table-cell\">{farmer.district}</td>\r\n                            <td className=\"table-cell\">\r\n                              <span className=\"status-badge pending\">PENDING</span>\r\n                            </td>\r\n                            <td className=\"table-cell\">\r\n                              <button \r\n                                className=\"action-btn small\"\r\n                                onClick={() => handleKYCDocumentUpload(farmer)}\r\n                              >\r\n                                Review KYC\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {activeTab === 'overview' && renderOverview()}\r\n              {activeTab === 'kyc-overview' && renderKYCOverview()}\r\n              {activeTab === 'farmers' && renderFarmers()}\r\n              {activeTab === 'employees' && renderEmployees()}\r\n              {activeTab === 'registration' && renderRegistration()}\r\n            </>\r\n          )}\r\n          \r\n          {/* Data Fetch Test Component - Remove this after testing */}\r\n          <DataFetchTest />\r\n        </div>\r\n      </main>\r\n\r\n      {/* Modals */}\r\n\r\n      {showAssignmentModal && (\r\n        <AssignmentModal \r\n          farmers={farmers.filter(f => {\r\n            // Check if farmer is unassigned based on backend data structure\r\n            return !f.assignedEmployee || \r\n                   f.assignedEmployee === 'Not Assigned' || \r\n                   f.assignedEmployee === null ||\r\n                   f.assignedEmployee === undefined ||\r\n                   f.assignedEmployee === '';\r\n          })}\r\n          employees={employees}\r\n          onClose={() => setShowAssignmentModal(false)}\r\n          onAssign={handleAssignFarmers}\r\n        />\r\n      )}\r\n\r\n\r\n\r\n      {showEmployeeDetails && selectedEmployeeData && (\r\n                   <ViewEditEmployeeDetails\r\n          employee={selectedEmployeeData}\r\n                     onClose={handleCloseEmployeeDetails}\r\n                     onUpdate={handleUpdateEmployee}\r\n                   />\r\n                 )}\r\n\r\n      {showKYCDocumentUpload && selectedFarmerForKYC && (\r\n                   <KYCDocumentUpload\r\n                     farmer={selectedFarmerForKYC}\r\n                     onClose={handleCloseKYCDocumentUpload}\r\n                     onApprove={handleKYCApprove}\r\n                     onReject={handleKYCReject}\r\n                     onReferBack={handleKYCReferBack}\r\n                   />\r\n                 )}\r\n\r\n      {showRegistrationDetailModal && selectedRegistrationForDetail && (\r\n        <RegistrationDetailModal\r\n          registration={selectedRegistrationForDetail}\r\n          onClose={handleCloseRegistrationDetailModal}\r\n          onUpdate={handleRegistrationUpdate}\r\n          onApprove={handleApproveRegistration}\r\n          onReject={handleRejectRegistration}\r\n                   />\r\n                 )}\r\n\r\n      {/* Notification Toast */}\r\n      {notification && (\r\n        <div className={`notification-toast ${notification.type}`}>\r\n          <span>{notification.message}</span>\r\n          <button onClick={() => setNotification(null)}>×</button>\r\n        </div>\r\n      )}\r\n               </div>\r\n             );\r\n};\r\n\r\nexport default AdminDashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}