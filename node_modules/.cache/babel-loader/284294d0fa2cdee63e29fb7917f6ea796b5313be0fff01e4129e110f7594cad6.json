{"ast":null,"code":"var _jsxFileName = \"D:\\\\Fronted-dev\\\\src\\\\components\\\\ProtectedRoute.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children,\n  allowedRoles\n}) => {\n  _s();\n  const {\n    user,\n    loading\n  } = useAuth();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"protected-route-loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"protected-route-loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 12\n    }, this);\n  }\n  const normalize = value => (value || '').toString().toUpperCase().trim();\n  const userRole = normalize(user.role);\n  const allowed = (allowedRoles || []).map(normalize);\n  const getDashboardPath = role => {\n    switch (role) {\n      case 'SUPER_ADMIN':\n        return '/super-admin/dashboard';\n      case 'ADMIN':\n        return '/admin/dashboard';\n      case 'EMPLOYEE':\n        return '/employee/dashboard';\n      case 'FARMER':\n      default:\n        return '/dashboard';\n    }\n  };\n  if (allowed.length && !allowed.includes(userRole)) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: getDashboardPath(userRole),\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 12\n    }, this);\n  }\n  return children;\n};\n_s(ProtectedRoute, \"EmJkapf7qiLC5Br5eCoEq4veZes=\", false, function () {\n  return [useAuth];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","Navigate","useAuth","jsxDEV","_jsxDEV","ProtectedRoute","children","allowedRoles","_s","user","loading","className","fileName","_jsxFileName","lineNumber","columnNumber","to","replace","normalize","value","toString","toUpperCase","trim","userRole","role","allowed","map","getDashboardPath","length","includes","_c","$RefreshReg$"],"sources":["D:/Fronted-dev/src/components/ProtectedRoute.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst ProtectedRoute = ({ children, allowedRoles }) => {\r\n  const { user, loading } = useAuth();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"protected-route-loading-container\">\r\n        <div className=\"protected-route-loading-spinner\"></div>\r\n        <p>Loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  const normalize = (value) => (value || '').toString().toUpperCase().trim();\r\n  const userRole = normalize(user.role);\r\n  const allowed = (allowedRoles || []).map(normalize);\r\n\r\n  const getDashboardPath = (role) => {\r\n    switch (role) {\r\n      case 'SUPER_ADMIN':\r\n        return '/super-admin/dashboard';\r\n      case 'ADMIN':\r\n        return '/admin/dashboard';\r\n      case 'EMPLOYEE':\r\n        return '/employee/dashboard';\r\n      case 'FARMER':\r\n      default:\r\n        return '/dashboard';\r\n    }\r\n  };\r\n\r\n  if (allowed.length && !allowed.includes(userRole)) {\r\n    return <Navigate to={getDashboardPath(userRole)} replace />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute; "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,OAAO,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,cAAc,GAAGA,CAAC;EAAEC,QAAQ;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EACrD,MAAM;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGR,OAAO,CAAC,CAAC;EAEnC,IAAIQ,OAAO,EAAE;IACX,oBACEN,OAAA;MAAKO,SAAS,EAAC,mCAAmC;MAAAL,QAAA,gBAChDF,OAAA;QAAKO,SAAS,EAAC;MAAiC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACvDX,OAAA;QAAAE,QAAA,EAAG;MAAU;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACd,CAAC;EAEV;EAEA,IAAI,CAACN,IAAI,EAAE;IACT,oBAAOL,OAAA,CAACH,QAAQ;MAACe,EAAE,EAAC,QAAQ;MAACC,OAAO;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACzC;EAEA,MAAMG,SAAS,GAAIC,KAAK,IAAK,CAACA,KAAK,IAAI,EAAE,EAAEC,QAAQ,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;EAC1E,MAAMC,QAAQ,GAAGL,SAAS,CAACT,IAAI,CAACe,IAAI,CAAC;EACrC,MAAMC,OAAO,GAAG,CAAClB,YAAY,IAAI,EAAE,EAAEmB,GAAG,CAACR,SAAS,CAAC;EAEnD,MAAMS,gBAAgB,GAAIH,IAAI,IAAK;IACjC,QAAQA,IAAI;MACV,KAAK,aAAa;QAChB,OAAO,wBAAwB;MACjC,KAAK,OAAO;QACV,OAAO,kBAAkB;MAC3B,KAAK,UAAU;QACb,OAAO,qBAAqB;MAC9B,KAAK,QAAQ;MACb;QACE,OAAO,YAAY;IACvB;EACF,CAAC;EAED,IAAIC,OAAO,CAACG,MAAM,IAAI,CAACH,OAAO,CAACI,QAAQ,CAACN,QAAQ,CAAC,EAAE;IACjD,oBAAOnB,OAAA,CAACH,QAAQ;MAACe,EAAE,EAAEW,gBAAgB,CAACJ,QAAQ,CAAE;MAACN,OAAO;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC7D;EAEA,OAAOT,QAAQ;AACjB,CAAC;AAACE,EAAA,CAvCIH,cAAc;EAAA,QACQH,OAAO;AAAA;AAAA4B,EAAA,GAD7BzB,cAAc;AAyCpB,eAAeA,cAAc;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}