{"ast":null,"code":"import React,{useMemo,useCallback}from'react';import ActionDropdown from'./ActionDropdown';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DataTable=/*#__PURE__*/React.memo(_ref=>{let{data,columns,onEdit,onDelete,onView,showDelete=false,customActions=[],loading=false,emptyMessage=\"No data available\"}=_ref;const getStatusClass=useCallback(status=>{switch(status===null||status===void 0?void 0:status.toLowerCase()){case'approved':return'status-approved';case'pending':return'status-pending';case'refer_back':return'status-refer-back';case'rejected':return'status-rejected';case'assigned':return'status-assigned';case'unassigned':return'status-unassigned';case'active':return'status-approved';case'inactive':return'status-rejected';default:return'status-default';}},[]);// Memoized safe render function\nconst safeRender=useCallback((value,columnKey)=>{try{// If value is an object, try to extract meaningful data\nif(value&&typeof value==='object'){// Handle common object types\nif(value.name)return value.name;if(value.title)return value.title;if(value.label)return value.label;if(value.id)return value.id;// For arrays, show count\nif(Array.isArray(value)){return`${value.length} item${value.length!==1?'s':''}`;}// For other objects, show a summary\nconst keys=Object.keys(value);if(keys.length<=3){return keys.map(key=>value[key]).join(', ');}return'Object';}// If value is null or undefined, return 'N/A'\nif(value===null||value===undefined){return'N/A';}// If value is a string, number, or boolean, return it as string\nreturn String(value);}catch(error){console.error(`DataTable: Error rendering value for column ${columnKey}:`,error);return'Error';}},[]);// Memoized table data\nconst tableData=useMemo(()=>{if(!data||!Array.isArray(data))return[];return data;},[data]);// Memoized columns\nconst tableColumns=useMemo(()=>{if(!columns||!Array.isArray(columns))return[];return columns;},[columns]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"data-table-loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\",children:\"Loading...\"})});}if(!tableData.length){return/*#__PURE__*/_jsxs(\"div\",{className:\"data-table-empty\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"p\",{children:emptyMessage})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"data-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[tableColumns.map(column=>/*#__PURE__*/_jsx(\"th\",{className:`table-header ${column.className||''}`,children:column.label},column.key)),(onEdit||onDelete||onView||customActions.length>0)&&/*#__PURE__*/_jsx(\"th\",{className:\"table-header actions-header\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tableData.map((row,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"table-row\",children:[tableColumns.map(column=>{const value=row[column.key];const cellContent=column.render?column.render(value,row):safeRender(value,column.key);return/*#__PURE__*/_jsx(\"td\",{className:`table-cell ${column.className||''}`,children:column.type==='status'?/*#__PURE__*/_jsx(\"span\",{className:`status-badge ${getStatusClass(value)}`,children:cellContent}):cellContent},column.key);}),(onEdit||onDelete||onView||customActions.length>0)&&/*#__PURE__*/_jsx(\"td\",{className:\"table-cell actions-cell\",children:/*#__PURE__*/_jsx(ActionDropdown,{item:row,onEdit:onEdit,onDelete:onDelete,onView:onView,showDelete:showDelete,customActions:customActions})})]},row.id||index))})]})});});DataTable.displayName='DataTable';export default DataTable;","map":{"version":3,"names":["React","useMemo","useCallback","ActionDropdown","jsx","_jsx","jsxs","_jsxs","DataTable","memo","_ref","data","columns","onEdit","onDelete","onView","showDelete","customActions","loading","emptyMessage","getStatusClass","status","toLowerCase","safeRender","value","columnKey","name","title","label","id","Array","isArray","length","keys","Object","map","key","join","undefined","String","error","console","tableData","tableColumns","className","children","column","row","index","cellContent","render","type","item","displayName"],"sources":["D:/Fronted-dev/src/components/DataTable.jsx"],"sourcesContent":["import React, { useMemo, useCallback } from 'react';\r\nimport ActionDropdown from './ActionDropdown';\r\n\r\nconst DataTable = React.memo(({ \r\n  data, \r\n  columns, \r\n  onEdit, \r\n  onDelete, \r\n  onView, \r\n  showDelete = false, \r\n  customActions = [],\r\n  loading = false,\r\n  emptyMessage = \"No data available\"\r\n}) => {\r\n  const getStatusClass = useCallback((status) => {\r\n    switch (status?.toLowerCase()) {\r\n      case 'approved':\r\n        return 'status-approved';\r\n      case 'pending':\r\n        return 'status-pending';\r\n      case 'refer_back':\r\n        return 'status-refer-back';\r\n      case 'rejected':\r\n        return 'status-rejected';\r\n      case 'assigned':\r\n        return 'status-assigned';\r\n      case 'unassigned':\r\n        return 'status-unassigned';\r\n      case 'active':\r\n        return 'status-approved';\r\n      case 'inactive':\r\n        return 'status-rejected';\r\n      default:\r\n        return 'status-default';\r\n    }\r\n  }, []);\r\n\r\n  // Memoized safe render function\r\n  const safeRender = useCallback((value, columnKey) => {\r\n    try {\r\n      // If value is an object, try to extract meaningful data\r\n      if (value && typeof value === 'object') {\r\n        // Handle common object types\r\n        if (value.name) return value.name;\r\n        if (value.title) return value.title;\r\n        if (value.label) return value.label;\r\n        if (value.id) return value.id;\r\n        \r\n        // For arrays, show count\r\n        if (Array.isArray(value)) {\r\n          return `${value.length} item${value.length !== 1 ? 's' : ''}`;\r\n        }\r\n        \r\n        // For other objects, show a summary\r\n        const keys = Object.keys(value);\r\n        if (keys.length <= 3) {\r\n          return keys.map(key => value[key]).join(', ');\r\n        }\r\n        \r\n        return 'Object';\r\n      }\r\n      \r\n      // If value is null or undefined, return 'N/A'\r\n      if (value === null || value === undefined) {\r\n        return 'N/A';\r\n      }\r\n      \r\n      // If value is a string, number, or boolean, return it as string\r\n      return String(value);\r\n    } catch (error) {\r\n      console.error(`DataTable: Error rendering value for column ${columnKey}:`, error);\r\n      return 'Error';\r\n    }\r\n  }, []);\r\n\r\n  // Memoized table data\r\n  const tableData = useMemo(() => {\r\n    if (!data || !Array.isArray(data)) return [];\r\n    return data;\r\n  }, [data]);\r\n\r\n  // Memoized columns\r\n  const tableColumns = useMemo(() => {\r\n    if (!columns || !Array.isArray(columns)) return [];\r\n    return columns;\r\n  }, [columns]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"data-table-loading\">\r\n        <div className=\"loading-spinner\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!tableData.length) {\r\n    return (\r\n      <div className=\"data-table-empty\">\r\n        <div className=\"empty-icon\">ðŸ“‹</div>\r\n        <p>{emptyMessage}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"data-table-container\">\r\n      <table className=\"data-table\">\r\n        <thead>\r\n          <tr>\r\n            {tableColumns.map((column) => (\r\n              <th key={column.key} className={`table-header ${column.className || ''}`}>\r\n                {column.label}\r\n              </th>\r\n            ))}\r\n            {(onEdit || onDelete || onView || customActions.length > 0) && (\r\n              <th className=\"table-header actions-header\">Actions</th>\r\n            )}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {tableData.map((row, index) => (\r\n            <tr key={row.id || index} className=\"table-row\">\r\n              {tableColumns.map((column) => {\r\n                const value = row[column.key];\r\n                const cellContent = column.render \r\n                  ? column.render(value, row) \r\n                  : safeRender(value, column.key);\r\n                \r\n                return (\r\n                  <td key={column.key} className={`table-cell ${column.className || ''}`}>\r\n                    {column.type === 'status' ? (\r\n                      <span className={`status-badge ${getStatusClass(value)}`}>\r\n                        {cellContent}\r\n                      </span>\r\n                    ) : (\r\n                      cellContent\r\n                    )}\r\n                  </td>\r\n                );\r\n              })}\r\n              {(onEdit || onDelete || onView || customActions.length > 0) && (\r\n                <td className=\"table-cell actions-cell\">\r\n                  <ActionDropdown\r\n                    item={row}\r\n                    onEdit={onEdit}\r\n                    onDelete={onDelete}\r\n                    onView={onView}\r\n                    showDelete={showDelete}\r\n                    customActions={customActions}\r\n                  />\r\n                </td>\r\n              )}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n});\r\n\r\nDataTable.displayName = 'DataTable';\r\n\r\nexport default DataTable; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}