{"ast":null,"code":"import React,{useState,useRef,useEffect,useMemo}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ActionDropdown=_ref=>{let{item,onEdit,onDelete,onView,showDelete=false,customActions=[]}=_ref;const[isOpen,setIsOpen]=useState(false);const dropdownRef=useRef(null);// Close dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);// Build actions array based on available props\nconst actions=useMemo(()=>{const actionList=[];// Add view action if available\nif(onView){actionList.push({label:'View',icon:'ðŸ‘ï¸',className:'action-view',onClick:()=>onView(item)});}// Add edit action if available\nif(onEdit){actionList.push({label:'Edit',icon:'âœï¸',className:'action-edit',onClick:()=>onEdit(item)});}// Add delete action if available and showDelete is true\nif(onDelete&&showDelete){actionList.push({label:'Delete',icon:'ðŸ—‘ï¸',className:'action-delete',onClick:()=>onDelete(item)});}// Add custom actions (this is the primary way actions are currently used)\nif(customActions&&Array.isArray(customActions)){customActions.forEach(action=>{actionList.push({...action,onClick:()=>action.onClick(item)});});}return actionList;},[onEdit,onDelete,onView,showDelete,customActions,item]);const handleActionClick=action=>{if(action.onClick){action.onClick();}setIsOpen(false);};// Don't render if no actions available\nif(actions.length===0){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"action-dropdown-component\",ref:dropdownRef,children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-dropdown-toggle\",onClick:()=>setIsOpen(!isOpen),\"aria-label\":\"Actions\",children:\"\\u22EF\"}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"action-dropdown-menu\",children:actions.map((action,index)=>{// Check if action should be shown based on condition\nif(action.showCondition&&!action.showCondition(item)){return null;}return/*#__PURE__*/_jsxs(\"button\",{className:`action-dropdown-item ${action.className||''}`,onClick:()=>handleActionClick(action),children:[action.icon&&/*#__PURE__*/_jsx(\"span\",{className:\"action-dropdown-icon\",children:action.icon}),action.label]},index);})})]});};export default ActionDropdown;","map":{"version":3,"names":["React","useState","useRef","useEffect","useMemo","jsx","_jsx","jsxs","_jsxs","ActionDropdown","_ref","item","onEdit","onDelete","onView","showDelete","customActions","isOpen","setIsOpen","dropdownRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","actions","actionList","push","label","icon","className","onClick","Array","isArray","forEach","action","handleActionClick","length","ref","children","map","index","showCondition"],"sources":["D:/Fronted-dev/Latest-working-frontend/src/components/ActionDropdown.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useMemo } from 'react';\n\nconst ActionDropdown = ({ \n  item, \n  onEdit, \n  onDelete, \n  onView, \n  showDelete = false, \n  customActions = [] \n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  // Build actions array based on available props\n  const actions = useMemo(() => {\n    const actionList = [];\n\n    // Add view action if available\n    if (onView) {\n      actionList.push({\n        label: 'View',\n        icon: 'ðŸ‘ï¸',\n        className: 'action-view',\n        onClick: () => onView(item)\n      });\n    }\n\n    // Add edit action if available\n    if (onEdit) {\n      actionList.push({\n        label: 'Edit',\n        icon: 'âœï¸',\n        className: 'action-edit',\n        onClick: () => onEdit(item)\n      });\n    }\n\n    // Add delete action if available and showDelete is true\n    if (onDelete && showDelete) {\n      actionList.push({\n        label: 'Delete',\n        icon: 'ðŸ—‘ï¸',\n        className: 'action-delete',\n        onClick: () => onDelete(item)\n      });\n    }\n\n    // Add custom actions (this is the primary way actions are currently used)\n    if (customActions && Array.isArray(customActions)) {\n      customActions.forEach(action => {\n        actionList.push({\n          ...action,\n          onClick: () => action.onClick(item)\n        });\n      });\n    }\n\n    return actionList;\n  }, [onEdit, onDelete, onView, showDelete, customActions, item]);\n\n  const handleActionClick = (action) => {\n    if (action.onClick) {\n      action.onClick();\n    }\n    setIsOpen(false);\n  };\n\n  // Don't render if no actions available\n  if (actions.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"action-dropdown-component\" ref={dropdownRef}>\n      <button\n        className=\"action-dropdown-toggle\"\n        onClick={() => setIsOpen(!isOpen)}\n        aria-label=\"Actions\"\n      >\n        â‹¯\n      </button>\n      \n      {isOpen && (\n        <div className=\"action-dropdown-menu\">\n          {actions.map((action, index) => {\n            // Check if action should be shown based on condition\n            if (action.showCondition && !action.showCondition(item)) {\n              return null;\n            }\n            \n            return (\n              <button\n                key={index}\n                className={`action-dropdown-item ${action.className || ''}`}\n                onClick={() => handleActionClick(action)}\n              >\n                {action.icon && <span className=\"action-dropdown-icon\">{action.icon}</span>}\n                {action.label}\n              </button>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ActionDropdown; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}